<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>2020 æœ€æ–° EDU æ•™è‚²é‚®ç®±æ³¨å†Œ</title>
    <url>/292.html</url>
    <content><![CDATA[<p>å¯ä»¥è¯´æ•™è‚²é‚®ç®±çš„ç¦åˆ©æ˜¯éå¸¸ä¹‹å¤šï¼Œä½†æ˜¯ç”³è¯·ä¹Ÿè¶Šæ¥è¶Šéš¾äº†ã€‚åšä¸»è¯•äº†å¾ˆå¤šï¼Œè¿™é‡Œæ¨èä¸€ä¸ªï¼Œç”³è¯·ä¸ä»…å¾ˆæ–¹ä¾¿ï¼Œè€Œä¸”ä¸å®¹æ˜“è¢«æ‹’ç»ï¼Œäº²æµ‹æœ‰æ•ˆï¼</p>
<a id="more"></a>
<h1 id="ç¦åˆ©"><a href="#ç¦åˆ©" class="headerlink" title="ç¦åˆ©"></a>ç¦åˆ©</h1><p>å¦‚æœä½ è¿˜ä¸çŸ¥é“æ•™è‚²é‚®ç®±æœ‰å“ªäº›ç¦åˆ©ï¼Œæ¯”å¦‚è¯´ Apple Music 5å…ƒ/æœˆï¼›Setapp äº«å— 5 æŠ˜ä¼˜æƒ ï¼›å…è´¹ä½¿ç”¨ JetBrains æ——ä¸‹å¤§éƒ¨åˆ†è½¯ä»¶ï¼Œå¦‚ Pycharmï¼›Github æ•™è‚²ç¤¼åŒ…ï¼Œä¸è¿‡ä¹Ÿä¸å¤ªå¥½ç”³è¯·äº†ï¼Œéœ€è¦æä¾›å­¦æ ¡ç›¸å…³è¯æ˜ç­‰ç­‰è¿˜æœ‰å¾ˆå¤šç¦åˆ©ã€‚å…·ä½“å¯ä»¥çœ‹ <a href="https://github.com/wowlusitong/awesome-education">Awesome-Education</a>ï¼Œæ”¶é›†äº†è®¸å¤šæ•™è‚²ä¼˜æƒ å†…å®¹ï¼Œæœ€è¿‘ä¸€æ¬¡æ›´æ–°åœ¨äº”ä¸ªæœˆä¹‹å‰ã€‚</p>
<h1 id="ç¾å›½äººä¿¡æ¯ç”Ÿæˆ"><a href="#ç¾å›½äººä¿¡æ¯ç”Ÿæˆ" class="headerlink" title="ç¾å›½äººä¿¡æ¯ç”Ÿæˆ"></a>ç¾å›½äººä¿¡æ¯ç”Ÿæˆ</h1><p>æ³¨å†Œè¿™ç±»é‚®ç®±ä¹Ÿå°±æ˜¯å‘å­¦æ ¡é€’äº¤ç”³è¯·ï¼Œæ‰€ä»¥éœ€è¦ç¾å›½äººçš„èº«ä»½ä¿¡æ¯ã€‚</p>
<p>è¿™é‡Œæ¨èä½¿ç”¨<a href="http://shenfendaquan.com/Index/index/custom_result">ç¾å›½èº«ä»½è¯ç”Ÿæˆ</a>ï¼Œæ¯”è¾ƒå¥½ç”¨ã€‚ä½†æ˜¯ä¸è¦é¢‘ç¹æ›´æ–°ä¿¡æ¯ï¼Œéšä¾¿ä¸€æ¡å°±å¯ä»¥ã€‚ç½‘ç«™é™åˆ¶æ¯æ—¥ç”Ÿæˆä¸‰ä¸ªä¿¡æ¯ã€‚</p>
<h1 id="å¥¥æ‰å…‹æŠ€æœ¯ç¤¾åŒºå­¦é™¢"><a href="#å¥¥æ‰å…‹æŠ€æœ¯ç¤¾åŒºå­¦é™¢" class="headerlink" title="å¥¥æ‰å…‹æŠ€æœ¯ç¤¾åŒºå­¦é™¢"></a>å¥¥æ‰å…‹æŠ€æœ¯ç¤¾åŒºå­¦é™¢</h1><p><img src="https://i.loli.net/2020/03/01/JHr1K2XxczNpMAs.png" alt="å¥¥æ‰å…‹æŠ€æœ¯ç¤¾åŒºå­¦é™¢"></p>
<p><a href="https://www.otc.edu/FORMS/students/application.php">ğŸ‘‰ <strong>ç‚¹å‡»æ­¤å¤„ç”³è¯·</strong></a></p>
<p>è¿™ä¸ªå­¦é™¢æ³¨å†Œéå¸¸ç®€å•ï¼Œæ²¡æœ‰å¤æ‚çš„é€‰é¡¹ã€‚åªè¦æ‹¿ç€ç”Ÿæˆçš„è™šæ‹Ÿä¿¡æ¯ï¼Œå¡«å†™å³å¯ã€‚</p>
<p>æˆ‘åœ¨ç”³è¯·è¿‡ç¨‹ä¸­ä½¿ç”¨äº†ä»£ç†ï¼Œä¸ä½¿ç”¨ä»£ç†åº”è¯¥ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<p>å¦‚æœä½ éœ€è¦ç½‘ç»œåŠ é€ŸæœåŠ¡ï¼Œæ¨èä½¿ç”¨<a href="http://m8.pw/mddv">å¡è½¦æé€Ÿ</a>ã€‚</p>
<h1 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h1><p>ä¸€èˆ¬æ³¨å†Œå¥½ä¹‹åå°±èƒ½ç™»å½•å­¦ç”Ÿç®¡ç†åå°äº†ï¼Œå¯ä»¥çœ‹åˆ°èœå•æ æœ‰ Email æŒ‰é’®ï¼Œä¸è¿‡ç°åœ¨è¿˜ä¸èƒ½ç”¨ï¼Œéœ€è¦ç­‰å¾…ä¸€å¤©çš„æ—¶é—´æ‰èƒ½æ¿€æ´»ï¼Œå¦åˆ™ä¼šæç¤ºå¯†ç é”™è¯¯ã€‚</p>
<p><img src="https://i.loli.net/2020/03/01/G5amwDJ89KxHOSW.png" alt="button"></p>
<p>è¿‡ä¸€å¤©çš„æ—¶é—´è‡ªåŠ¨æ¿€æ´»é‚®ç®±æœåŠ¡ï¼Œå†ä¸Šå»çœ‹çœ‹ï¼Œå‘ç°å°±èƒ½ç™»å½•æˆåŠŸï¼Œä¸ä¼šæç¤ºå¯†ç é”™è¯¯äº†ã€‚</p>
<p>ğŸ‘ è¿˜æ˜¯ä¸é”™çš„ã€‚</p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>EDU</tag>
        <tag>æ•™è‚²é‚®ç®±</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ 1Password ç®¡ç†ä½ çš„å¯†ç </title>
    <url>/48.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/qNoFm5CV8OvS3MJ.png"></p>
<p>æ­¤æ¬¡åˆ†äº«çš„ç¾Šæ¯›æ”»ç•¥æ˜¯<strong>å…è´¹ä½¿ç”¨ 1Password ä¸€å¹´</strong>ã€‚</p>
<a id="more"></a>
<p>1Password æƒ³å¿…å¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œå¯†ç ç®¡ç†ç•Œçš„ Appleï¼Œå…ˆä¸è¯´åŠŸèƒ½æ€æ ·ï¼Œè¶…é«˜å®šä»·å°±è®©æ™®é€šç”¨æˆ·ä¸æ•¢æƒ³è±¡ã€‚</p>
<p>æ²¡æœ‰äº†è§£è¿‡ 1Password çš„ç”¨æˆ·ä¹Ÿä¸ç”¨ç€æ€¥ï¼Œæˆ‘ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚</p>
<blockquote>
<p>ä½¿ç”¨ 1Passwordï¼Œæ‚¨åªéœ€è¦è®°ä½ä¸€ä¸ªå¯†ç ã€‚æ‚¨çš„æ‰€æœ‰å…¶ä»–å¯†ç å’Œé‡è¦ä¿¡æ¯éƒ½è¢«ä¸»å¯†ç ä¿æŠ¤ï¼Œä¸»å¯†ç åªæœ‰æ‚¨çŸ¥é“ã€‚</p>
</blockquote>
<p>è¿™ç±»è½¯ä»¶è¿˜æœ‰ enpassï¼Œæˆ‘åªç”¨è¿‡è¿™ä¸¤ä¸ªã€‚å…¶å®è¿˜æœ‰å¾ˆå¤šã€‚ç”¨æ³•éƒ½å¤§åŒå°å¼‚ï¼Œåªéœ€è®°ä½ä¸€ä¸ªä¸»å¯†ç ï¼Œä½¿ç”¨ä¸»å¯†ç æ‰“å¼€ä¿é™©æŸœï¼Œå…¶ä»–çš„å¯†ç ç›´æ¥å¤åˆ¶ç²˜è´´å°±å¥½äº†ã€‚</p>
<p><img src="https://i.loli.net/2020/01/29/JgYn4VDKGEuqsPT.jpg" alt="å¯†ç ç”Ÿæˆç•Œé¢"></p>
<p>å¯è§ç”Ÿæˆçš„å¯†ç éå¸¸å¤æ‚ã€‚å½“ç„¶åœ¨ä½¿ç”¨çš„æ—¶å€™æ˜¯è‡ªåŠ¨å¡«å†™ï¼Œæ— éœ€å¤åˆ¶ã€‚</p>
<p>è¿™ç±»è½¯ä»¶æˆ‘è®¤ä¸ºä¸»è¦è§£å†³ä¸¤ä¸ªéœ€æ±‚ã€‚ä¸€æ–¹é¢æ˜¯ä¸ç”¨å†è®°å¿†å¤æ‚çš„å¯†ç äº†ï¼›å¦ä¸€æ–¹é¢æ˜¯ä¿è¯æ‰€æœ‰çš„è´¦å·å¯†ç éƒ½ä¸ç›¸åŒï¼Œè¿™æ ·å°±ç®—ä¸¢å¤±ä¸€ä¸ªè´¦å·ï¼Œå°å·ä¹Ÿæ— æ³•æ¨å¯¼å‡ºå…¶ä»–è´¦å·çš„å¯†ç ã€‚</p>
<p>å¯èƒ½å¾ˆå¤šäººæœ‰è¿‡æŠŠå¯†ç è®°å½•åœ¨ä¸€ä¸ªå°æœ¬æœ¬ä¸Šçš„ç»å†ï¼Œå°æœ¬æœ¬ä¸¢äº†ä¹Ÿå°±æŠŠå¯†ç éƒ½å¿˜è®°äº†ï¼›æˆ–è€…è®°åœ¨æ‰‹æœºå¤‡å¿˜å½•é‡Œï¼Œä¸€ä¸å°å¿ƒå°±è¢«åŒäº‹æœ‹å‹çœ‹åˆ°ã€‚</p>
<p>ä½†æ˜¯å¦‚æœä½¿ç”¨è¿™ç±»å¯†ç ç®¡ç†è½¯ä»¶ï¼Œå°±ä¸ä¼šå­˜åœ¨è¿™äº›é—®é¢˜ã€‚</p>
<p>1Password æœ‰è‡ªå·±çš„æœåŠ¡å™¨ç®¡ç†å¯†ç ï¼Œenpass çš„è¯å¯ä»¥ä½¿ç”¨ç½‘ç›˜ï¼ˆGoogle Driveï¼‰å¤‡ä»½ï¼Œæˆ‘æ˜¯ä½¿ç”¨åšæœäº‘å¤‡ä»½çš„ã€‚</p>
<p>å¥½äº†ä¸è¯´åºŸè¯ï¼Œä»¥ä¸‹é“¾æ¥å°±æ˜¯é¢†å– 1Password ä¸€å¹´ä½¿ç”¨çš„é“¾æ¥ã€‚å½“ç„¶å‰æå¿…é¡»æ˜¯æ–°ç”¨æˆ·ï¼Œé‚£ä¸æ˜¯æ–°ç”¨æˆ·æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p><strong>å¯¼å‡ºå¯†ç ï¼Œæ³¨é”€è´¦å·ï¼Œé‡æ–°ç”³è¯·ï¼Œå¯¼å…¥å¯†ç </strong></p>
<hr>
<p>ğŸ‘‰ é¢†å–åœ°å€ï¼š<a href="https://start.1password.com/sign-up/family?l=en&c=CANVA20FREE&l=en">https://start.1password.com/sign-up/family?l=en&amp;c=CANVA20FREE&amp;l=en</a></p>
<p>ğŸ‘‰ å¹³å°ï¼šmacOSã€iOSã€Windows</p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>1Password</tag>
        <tag>ç¾Šæ¯›æ”»ç•¥</tag>
      </tags>
  </entry>
  <entry>
    <title>58 åŒåŸå­—ä½“åçˆ¬è™«å®æˆ˜</title>
    <url>/367.html</url>
    <content><![CDATA[<p>å‰ä¸¤å¤©çœ‹äº† 58 åŒåŸçš„ç§Ÿæˆ¿é¡µé¢ï¼Œå…ˆæ‰“å¼€ Chrome çš„å¼€å‘è€…å·¥å…·æŸ¥çœ‹æœ‰å“ªäº›è¯·æ±‚ï¼Œå‘ç°å¹¶æ²¡æœ‰ç±»ä¼¼è¯·æ±‚æ¥å£å–æ•°æ®ï¼Œè€Œæ˜¯ç›´æ¥å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ï¼Œä½†æ˜¯ä¼šå‘ç°ï¼Œæ•°å­—éƒ¨åˆ†è¢«åšäº†æ‰‹è„šã€‚</p>
<a id="more"></a>
<p><img src="https://i.loli.net/2020/06/17/ZJmFj8SEavklM9O.png"> æŸ¥çœ‹ç½‘é¡µæºç ï¼Œå‘ç°æ•°å­—éƒ½è¢«è½¬æ¢æˆäº†ç±»ä¼¼ <code>&amp;#x9a4b;</code> çš„æ ¼å¼ã€‚ <img src="https://i.loli.net/2020/06/17/n8VwoXAcZ3UkIWT.png"> æ—¢ç„¶æ˜¯å’Œç½‘é¡µæ¸²æŸ“å­—ä½“æœ‰å…³çš„æ“ä½œï¼Œä¸‹æ„è¯†æƒ³åˆ°å…ˆçœ‹ä¸€çœ¼ cssï¼Œçœ‹çœ‹å­—ä½“æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚ <img src="https://i.loli.net/2020/06/17/nMjDg9NuOFqPZQh.png"> çœ‹åˆ°æœ‰ä¸€ä¸ª <code>fangchan-secret</code> å­—æ®µï¼Œæœç´¢ä¸€ä¸‹ï¼Œå‘ç°åªæœ‰ä¸¤ä¸ªåœ°æ–¹å‡ºç°ï¼šä¸€ä¸ªæ˜¯ css æ–‡ä»¶ï¼Œå¦ä¸€ä¸ªæ˜¯æˆ‘ä»¬å½“å‰é¡µé¢çš„æºç æ–‡ä»¶ã€‚ <img src="https://i.loli.net/2020/06/17/g4PLbxMzGCs65Br.png"> æœç´¢åæ‰¾åˆ°ä¸€æ®µ base64 ç¼–ç ï¼Œåº”è¯¥å°±æ˜¯åŠ å¯†æ•°å­—çš„å­—ä½“æ–‡ä»¶äº†ã€‚è§£ç åä¿å­˜åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä½¿ç”¨æ­£åˆ™å°† base64 ç¼–ç åŒ¹é…åˆ°ï¼Œä¿å­˜åˆ° font_data.ttf æ–‡ä»¶ä¸­</span><br><br>_base64_code = re.findall(<br>    <span class="hljs-string">&quot;data:application/font-ttf;charset=utf-8;base64,(.*?)&#x27;\) format&quot;</span>,<br>    response)[<span class="hljs-number">0</span>]<br>_data = base64.decodebytes(_base64_code.encode())<br><span class="hljs-keyword">with</span> open(<span class="hljs-string">&#x27;font_data.ttf&#x27;</span>, <span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    f.write(_data)<br></code></pre></td></tr></table></figure>

<p>ç„¶åç”¨<a href="http://fontstore.baidu.com/static/editor/index.html">ç™¾åº¦å­—ä½“ç¼–è¾‘å™¨</a>æ‰“å¼€ï¼Œæˆ‘ä»¬å‘ç°äº†å­—ç¬¦ä¸²ä¸æ•°å­—çš„å¯¹åº”å…³ç³»ã€‚ <img src="https://i.loli.net/2020/06/17/L46PoHMp8RZXmuD.png"> æ•°å­— 0 å¯¹åº”å­—ç¬¦ä¸² 9FA4ï¼Œæ•°å­— 1 å¯¹åº”å­—ç¬¦ä¸² 9F92ï¼Œä»¥æ­¤ç±»æ¨â€¦ ä½†æ˜¯å½“æˆ‘ä»¬è¿›å…¥ä¸€ä¸ªè¯¦æƒ…é¡µé¢åï¼Œå¤šæ¬¡åˆ·æ–°ä¼šå‘ç°æ¯æ¬¡å±•ç¤ºæ•°å­—ä¸ä¼šå˜åŒ–ï¼Œä½†æ˜¯å¯¹åº”çš„å­—ç¬¦ä¸²å´å‘ç”Ÿäº†å˜åŒ–ã€‚è¯´æ˜å¯¹åº”å…³ç³»åº”è¯¥æ˜¯åœ¨ç½‘é¡µæ¸²æŸ“çš„æ—¶å€™éšæœºç”Ÿæˆçš„ã€‚ ä¸€å®šåœ¨æŸä¸ªåœ°æ–¹è¿˜æœ‰å¯¹åº”å…³ç³»æ²¡æœ‰æ‰¾åˆ°ã€‚ è¿™ä¸ªæ—¶å€™éœ€è¦ç”¨åˆ°å­—ä½“ç›¸å…³çš„å·¥å…·åº“ fontToolsï¼Œè¿™ä¸ªåº“å¯ä»¥æŠŠå­—ä½“æ–‡ä»¶è½¬æ¢ä¸º xml æ–‡ä»¶ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> fontTools.ttLib <span class="hljs-keyword">import</span> TTFont<br><br><br>font = TTFont(<span class="hljs-string">&#x27;font_data.ttf&#x27;</span>)<br>font.saveXML(<span class="hljs-string">&#x27;font_data.xml&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>å°†åˆšæ‰ä¿å­˜çš„æ–‡ä»¶è½¬æ¢æˆ xml æ–‡ä»¶ã€‚å‘ç°çš„ç¡®è¿˜æœ‰ä¸€å±‚å¯¹åº”å…³ç³»ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;cmap_format_4 platformID&#x3D;&quot;0&quot; platEncID&#x3D;&quot;3&quot; language&#x3D;&quot;0&quot;&gt;<br>  &lt;map code&#x3D;&quot;0x9476&quot; name&#x3D;&quot;glyph00010&quot;&#x2F;&gt;&lt;!-- CJK UNIFIED IDEOGRAPH-9476 --&gt;<br>  &lt;map code&#x3D;&quot;0x958f&quot; name&#x3D;&quot;glyph00005&quot;&#x2F;&gt;&lt;!-- CJK UNIFIED IDEOGRAPH-958F --&gt;<br>  &lt;map code&#x3D;&quot;0x993c&quot; name&#x3D;&quot;glyph00004&quot;&#x2F;&gt;&lt;!-- CJK UNIFIED IDEOGRAPH-993C --&gt;<br>  &lt;map code&#x3D;&quot;0x9a4b&quot; name&#x3D;&quot;glyph00003&quot;&#x2F;&gt;&lt;!-- CJK UNIFIED IDEOGRAPH-9A4B --&gt;<br>  &lt;map code&#x3D;&quot;0x9e3a&quot; name&#x3D;&quot;glyph00009&quot;&#x2F;&gt;&lt;!-- CJK UNIFIED IDEOGRAPH-9E3A --&gt;<br>  &lt;map code&#x3D;&quot;0x9ea3&quot; name&#x3D;&quot;glyph00007&quot;&#x2F;&gt;&lt;!-- CJK UNIFIED IDEOGRAPH-9EA3 --&gt;<br>  &lt;map code&#x3D;&quot;0x9f64&quot; name&#x3D;&quot;glyph00006&quot;&#x2F;&gt;&lt;!-- CJK UNIFIED IDEOGRAPH-9F64 --&gt;<br>  &lt;map code&#x3D;&quot;0x9f92&quot; name&#x3D;&quot;glyph00002&quot;&#x2F;&gt;&lt;!-- CJK UNIFIED IDEOGRAPH-9F92 --&gt;<br>  &lt;map code&#x3D;&quot;0x9fa4&quot; name&#x3D;&quot;glyph00001&quot;&#x2F;&gt;&lt;!-- CJK UNIFIED IDEOGRAPH-9FA4 --&gt;<br>  &lt;map code&#x3D;&quot;0x9fa5&quot; name&#x3D;&quot;glyph00008&quot;&#x2F;&gt;&lt;!-- CJK UNIFIED IDEOGRAPH-9FA5 --&gt;<br>&lt;&#x2F;cmap_format_4&gt;<br></code></pre></td></tr></table></figure>

<p>å’Œä¸Šå›¾åœ¨ç™¾åº¦å­—ä½“ç¼–è¾‘å™¨å¯¹åº”ï¼Œå‘ç° <code>0x9476</code> å¯¹åº” <code>glyph00010</code> å¯¹åº”æ•°å­— 9ï¼Œ<code>0x958f</code> å¯¹åº” <code>glyph00005</code> å¯¹åº”æ•°å­— 4â€¦ å¤šæ¬¡æµ‹è¯•åå‘ç° code å’Œ name çš„å¯¹åº”å…³ç³»ä¼šå˜åŒ–ï¼Œä½†æ˜¯ name å’Œæ•°å­—çš„å…³ç³»æ°¸è¿œä¿æŒä¸€è‡´ã€‚è¿™æ ·å°±å¥½è§£å†³äº†ã€‚ æˆ‘ä»¬éœ€è¦åšçš„æœ‰ï¼š</p>
<ol>
<li>è¯·æ±‚ç½‘é¡µï¼Œè·å– base64 ç¼–ç å’Œç½‘é¡µæºç </li>
<li>å°†å½“å‰é¡µé¢çš„åŠ å¯†å­—ç¬¦ä¸²å’Œæ•°å­—å¯¹åº”å…³ç³»æ‰¾åˆ°</li>
<li>æŠŠå½“å‰ç½‘é¡µçš„åŠ å¯†å­—ç¬¦ä¸²å…¨éƒ¨æ›¿æ¢æˆæ•°å­—</li>
</ol>
<p>è¿™æ ·å°±å®Œæˆäº† 58 åŒåŸçš„ç½‘é¡µè§£æå·¥ä½œã€‚ä»£ç å°±å¾ˆå¥½å†™äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> base64<br><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> etree<br><span class="hljs-keyword">from</span> fontTools.ttLib <span class="hljs-keyword">import</span> TTFont<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TongChengSpider</span>(<span class="hljs-params">object</span>):</span><br><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    58åŒåŸ | åŒ—äº¬å¸‚æœé˜³åŒºç§Ÿæˆ¿ä¿¡æ¯çˆ¬è™«</span><br><span class="hljs-string"></span><br><span class="hljs-string">    ~~~~~~</span><br><span class="hljs-string"></span><br><span class="hljs-string">    - ç½‘å€ï¼šhttps://bj.58.com/chaoyang/chuzu/</span><br><span class="hljs-string"></span><br><span class="hljs-string">    - ç½‘ç«™åçˆ¬è¾ƒä¸¥é‡ï¼Œä¸ä»…æœ‰å­—ä½“åçˆ¬ï¼Œå¯¹ IP é™åˆ¶ä¹Ÿè¾ƒä¸¥æ ¼ï¼Œæ‰€ä»¥æŠŠç½‘é¡µæºç ä¿å­˜åˆ°äº†æœ¬åœ°ï¼Œ</span><br><span class="hljs-string">      åœ¨æ— ä»£ç†çš„æƒ…å†µä½¿ç”¨æœ¬åœ°æ–‡ä»¶ï¼Œæœ‰ä»£ç†çš„æƒ…å†µå®æ—¶æŠ“å–ã€‚</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        self.url = <span class="hljs-string">&quot;https://bj.58.com/chaoyang/chuzu/&quot;</span><br>        self.headers = &#123;<br>            <span class="hljs-string">&quot;referer&quot;</span>: <span class="hljs-string">&quot;https://bj.58.com/&quot;</span>,<br>            <span class="hljs-string">&quot;User-Agent&quot;</span>: <span class="hljs-string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36&quot;</span><br>        &#125;<br>        <span class="hljs-comment"># å­˜æ”¾è§£å¯†åçš„å­—ç¬¦ä¸²ä¸æ•°å­—å¯¹åº”å…³ç³»</span><br>        self.keys = dict()<br>        self.proxies = dict()<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">crawler</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-string">&quot;&quot;&quot;è·å–ç½‘é¡µå†…å®¹&quot;&quot;&quot;</span><br><br>        <span class="hljs-keyword">if</span> self.proxies:<br>            <span class="hljs-comment"># æœ‰ä»£ç†å°±è¯·æ±‚ç½‘é¡µ</span><br>            _response = requests.get(self.url, headers=self.headers).text<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-comment"># æ— ä»£ç†ä½¿ç”¨æœ¬åœ°æ–‡ä»¶</span><br>            <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;./_58.html&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>) <span class="hljs-keyword">as</span> f:<br>                _response = f.read()<br>        <span class="hljs-keyword">return</span> _response<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_init_data</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-string">&quot;&quot;&quot;å¤„ç†ç½‘é¡µåŠ å¯†å­—ç¬¦ä¸²ï¼Œå°† tff æ ¼å¼è½¬åŒ–ä¸º xml æ ¼å¼ï¼Œå¹¶æ‰¾å‡ºå¯¹åº”å…³ç³»&quot;&quot;&quot;</span><br><br>        self.get_font_data()<br>        self.parse_font_data()<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_font_data</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-string">&quot;&quot;&quot;è·å–ç½‘ç«™åŠ å¯†å­—ä½“æ•°æ®&quot;&quot;&quot;</span><br><br>        response = self.crawler()<br>        _base64_code = re.findall(<br>            <span class="hljs-string">&quot;data:application/font-ttf;charset=utf-8;base64,(.*?)&#x27;\) format&quot;</span>,<br>            response)[<span class="hljs-number">0</span>]<br>        _data = base64.decodebytes(_base64_code.encode())<br>        <span class="hljs-keyword">with</span> open(<span class="hljs-string">&#x27;font_data.ttf&#x27;</span>, <span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>            f.write(_data)<br>        font = TTFont(<span class="hljs-string">&#x27;font_data.ttf&#x27;</span>)<br>        font.saveXML(<span class="hljs-string">&#x27;font_data.xml&#x27;</span>)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_font_data</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-string">&quot;&quot;&quot;è§£æ XML æ ¼å¼çš„å­—ä½“æ–‡ä»¶</span><br><span class="hljs-string">           æ‰¾å‡º unicode å’ŒåŠ å¯†å­—ç¬¦çš„å¯¹åº”å…³ç³»&quot;&quot;&quot;</span><br><br>        unicode_list = [<span class="hljs-string">&#x27;0x9476&#x27;</span>, <span class="hljs-string">&#x27;0x958f&#x27;</span>, <span class="hljs-string">&#x27;0x993c&#x27;</span>, <span class="hljs-string">&#x27;0x9a4b&#x27;</span>, <span class="hljs-string">&#x27;0x9e3a&#x27;</span>,<br>                        <span class="hljs-string">&#x27;0x9ea3&#x27;</span>, <span class="hljs-string">&#x27;0x9f64&#x27;</span>, <span class="hljs-string">&#x27;0x9f92&#x27;</span>, <span class="hljs-string">&#x27;0x9fa4&#x27;</span>, <span class="hljs-string">&#x27;0x9fa5&#x27;</span>]<br>        glyph_list = &#123;<span class="hljs-string">&#x27;glyph00001&#x27;</span>: <span class="hljs-string">&#x27;0&#x27;</span>, <span class="hljs-string">&#x27;glyph00002&#x27;</span>: <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;glyph00003&#x27;</span>: <span class="hljs-string">&#x27;2&#x27;</span>,<br>                      <span class="hljs-string">&#x27;glyph00004&#x27;</span>: <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;glyph00005&#x27;</span>: <span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;glyph00006&#x27;</span>: <span class="hljs-string">&#x27;5&#x27;</span>,<br>                      <span class="hljs-string">&#x27;glyph00007&#x27;</span>: <span class="hljs-string">&#x27;6&#x27;</span>, <span class="hljs-string">&#x27;glyph00008&#x27;</span>: <span class="hljs-string">&#x27;7&#x27;</span>, <span class="hljs-string">&#x27;glyph00009&#x27;</span>: <span class="hljs-string">&#x27;8&#x27;</span>,<br>                      <span class="hljs-string">&#x27;glyph00010&#x27;</span>: <span class="hljs-string">&#x27;9&#x27;</span>&#125;<br><br>        data = etree.parse(<span class="hljs-string">&quot;./font_data.xml&quot;</span>)<br>        self.keys = &#123;item: glyph_list[data.xpath(<span class="hljs-string">&quot;//cmap//map[@code=&#x27;&#123;&#125;&#x27;]/@name&quot;</span>.format(item))[<span class="hljs-number">0</span>]]<br>                     <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> unicode_list&#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">replace_secret_code</span>(<span class="hljs-params">self, raw_string, rep_string, rep_dict</span>):</span><br>        <span class="hljs-string">&quot;&quot;&quot;æ›¿æ¢åŠ å¯†å­—ä½“&quot;&quot;&quot;</span><br><br>        <span class="hljs-keyword">return</span> raw_string.replace(rep_string, rep_dict[rep_string])<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_real_resp</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-string">&quot;&quot;&quot;æ›¿æ¢æ‰åŸå§‹ç½‘é¡µä¸­çš„åŠ å¯†å­—ä½“&quot;&quot;&quot;</span><br><br>        _response = self.crawler()<br><br>        <span class="hljs-comment"># å°†è·å–åˆ°çš„å­—ç¬¦ä¸²æ›¿æ¢ä¸ºç½‘é¡µä¸­çš„å­—ç¬¦ä¸²æ ·å¼</span><br>        _keys = json.loads(json.dumps(self.keys).replace(<span class="hljs-string">&quot;0x&quot;</span>, <span class="hljs-string">&quot;&amp;#x&quot;</span>).replace(<span class="hljs-string">&#x27;&quot;:&#x27;</span>, <span class="hljs-string">&#x27;;&quot;:&#x27;</span>))<br><br>        response = <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> _keys.keys():<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> response:<br>                response = self.replace_secret_code(_response, item, _keys)<br>            <span class="hljs-keyword">else</span>:<br>                response = self.replace_secret_code(response, item, _keys)<br><br>        <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;demo.html&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> f:<br>            f.write(response)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">del_</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-string">&quot;&quot;&quot;åˆ é™¤æ— ç”¨æ–‡ä»¶&quot;&quot;&quot;</span><br><br>        os.remove(<span class="hljs-string">&quot;font_data.xml&quot;</span>)<br>        os.remove(<span class="hljs-string">&quot;font_data.ttf&quot;</span>)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span>(<span class="hljs-params">self</span>):</span><br>        self._init_data()<br>        self.get_real_resp()<br>        self.del_()<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    tc = TongChengSpider()<br>    tc.run()<br></code></pre></td></tr></table></figure>

<p>æ›´è¯¦ç»†ä»£ç å¯è§ï¼š<a href="https://github.com/alpha87/58tc_zufang">https://github.com/alpha87/58tc_zufang</a>ã€‚ åŒ…å« Pipenv å’Œ requirements.txt æ–‡ä»¶ï¼Œå¦‚æœè§‰å¾—æ­¤ä»£ç å¸®åŠ©åˆ°ä½ ï¼Œè¯·å¸®å¿™ç‚¹ä¸ª starï¼Œéå¸¸æ„Ÿè°¢ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>Adguard, Adblock è¿‡æ»¤å™¨è®¢é˜…é“¾æ¥</title>
    <url>/86.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/04/10/23/32/retro-1321078__480.jpg"></p>
<p>ä¸ºäº†ä¸è®©æ ‘è“æ´¾ç»§ç»­åƒç°ï¼Œä¸ºå…¶å®‰è£…äº† Adguard Home æœåŠ¡ï¼Œç”¨æ¥è¿‡æ»¤å®¶é‡Œè”ç½‘è®¾å¤‡çš„å¹¿å‘Šã€‚</p>
<a id="more"></a>
<h1 id="AdGuard-ç³»åˆ—"><a href="#AdGuard-ç³»åˆ—" class="headerlink" title="AdGuard ç³»åˆ—"></a>AdGuard ç³»åˆ—</h1><h2 id="AdGuard-Simplified-Domain-Names-filter"><a href="#AdGuard-Simplified-Domain-Names-filter" class="headerlink" title="AdGuard Simplified Domain Names filter"></a>AdGuard Simplified Domain Names filter</h2><p><a href="https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt">https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt</a></p>
<h2 id="AdGuard-Mobile-Ads-filter"><a href="#AdGuard-Mobile-Ads-filter" class="headerlink" title="AdGuard Mobile Ads filter"></a>AdGuard Mobile Ads filter</h2><p><a href="https://filters.adtidy.org/extension/chromium/filters/11.txt">https://filters.adtidy.org/extension/chromium/filters/11.txt</a></p>
<h2 id="AdGuard-Tracking-Protection-filter"><a href="#AdGuard-Tracking-Protection-filter" class="headerlink" title="AdGuard Tracking Protection filter"></a>AdGuard Tracking Protection filter</h2><p><a href="https://filters.adtidy.org/extension/chromium/filters/3.txt">https://filters.adtidy.org/extension/chromium/filters/3.txt</a></p>
<h2 id="AdGuard-Social-Media-filter"><a href="#AdGuard-Social-Media-filter" class="headerlink" title="AdGuard Social Media filter"></a>AdGuard Social Media filter</h2><p><a href="https://filters.adtidy.org/extension/chromium/filters/4.txt">https://filters.adtidy.org/extension/chromium/filters/4.txt</a></p>
<h2 id="AdGuard-Base-filter"><a href="#AdGuard-Base-filter" class="headerlink" title="AdGuard Base filter"></a>AdGuard Base filter</h2><p><a href="https://filters.adtidy.org/extension/chromium/filters/2.txt">https://filters.adtidy.org/extension/chromium/filters/2.txt</a></p>
<h2 id="AdGuard-Annoyances-filter"><a href="#AdGuard-Annoyances-filter" class="headerlink" title="AdGuard Annoyances filter"></a>AdGuard Annoyances filter</h2><p><a href="https://filters.adtidy.org/extension/chromium/filters/14.txt">https://filters.adtidy.org/extension/chromium/filters/14.txt</a></p>
<h1 id="neoFelhz"><a href="#neoFelhz" class="headerlink" title="neoFelhz"></a>neoFelhz</h1><h2 id="neoFelhz-hosts"><a href="#neoFelhz-hosts" class="headerlink" title="neoFelhz-hosts"></a>neoFelhz-hosts</h2><p><a href="https://cdn.jsdelivr.net/gh/neoFelhz/neohosts@gh-pages/basic/hosts.txt">https://cdn.jsdelivr.net/gh/neoFelhz/neohosts@gh-pages/basic/hosts.txt</a></p>
<h2 id="neoFelhz-full-hosts"><a href="#neoFelhz-full-hosts" class="headerlink" title="neoFelhz-full-hosts"></a>neoFelhz-full-hosts</h2><p><a href="https://cdn.jsdelivr.net/gh/neoFelhz/neohosts@gh-pages/full/hosts.txt">https://cdn.jsdelivr.net/gh/neoFelhz/neohosts@gh-pages/full/hosts.txt</a></p>
<h1 id="EasyList"><a href="#EasyList" class="headerlink" title="EasyList"></a>EasyList</h1><h2 id="EasyList-China-EasyList"><a href="#EasyList-China-EasyList" class="headerlink" title="EasyList China+EasyList"></a>EasyList China+EasyList</h2><p><a href="https://easylist-downloads.adblockplus.org/easylistchina+easylist.txt">https://easylist-downloads.adblockplus.org/easylistchina+easylist.txt</a></p>
<h2 id="EasyPrivacy"><a href="#EasyPrivacy" class="headerlink" title="EasyPrivacy"></a>EasyPrivacy</h2><p><a href="https://easylist.to/easylist/easyprivacy.txt">https://easylist.to/easylist/easyprivacy.txt</a></p>
<h1 id="Quark"><a href="#Quark" class="headerlink" title="Quark"></a>Quark</h1><h2 id="QuarkList"><a href="#QuarkList" class="headerlink" title="QuarkList"></a>QuarkList</h2><p><a href="https://gitee.com/francis-z/quarklist/raw/master/dist/quarklist.txt">https://gitee.com/francis-z/quarklist/raw/master/dist/quarklist.txt</a></p>
<h2 id="quarkHost"><a href="#quarkHost" class="headerlink" title="quarkHost"></a>quarkHost</h2><p><a href="https://gitee.com/francis-z/quarklist/raw/master/dist/hosts">https://gitee.com/francis-z/quarklist/raw/master/dist/hosts</a></p>
<h1 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h1><h2 id="AdAway"><a href="#AdAway" class="headerlink" title="AdAway"></a>AdAway</h2><p><a href="https://adaway.org/hosts.txt">https://adaway.org/hosts.txt</a></p>
<h2 id="ChinaList-V2-0"><a href="#ChinaList-V2-0" class="headerlink" title="ChinaList V2.0"></a>ChinaList V2.0</h2><p><a href="http://tools.yiclear.com/ChinaList2.0.txt">http://tools.yiclear.com/ChinaList2.0.txt</a></p>
<h2 id="CJXâ€™s-Annoyance-List"><a href="#CJXâ€™s-Annoyance-List" class="headerlink" title="CJXâ€™s Annoyance List"></a>CJXâ€™s Annoyance List</h2><p><a href="https://raw.githubusercontent.com/cjx82630/cjxlist/master/cjx-annoyance.txt">https://raw.githubusercontent.com/cjx82630/cjxlist/master/cjx-annoyance.txt</a></p>
<h2 id="AdFilters"><a href="#AdFilters" class="headerlink" title="AdFilters"></a>AdFilters</h2><p><a href="https://gitee.com/halflife/list/raw/master/ad.txt">https://gitee.com/halflife/list/raw/master/ad.txt</a></p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>å±è”½å¹¿å‘Š</tag>
        <tag>æ ‘è“æ´¾</tag>
      </tags>
  </entry>
  <entry>
    <title>BeautifulSoup4 æ–‡æ¡£å­¦ä¹ è®°å½•</title>
    <url>/87.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/08/10/08/47/code-2620118__480.jpg"> èŠ±äº†ç‚¹æ—¶é—´é˜…è¯»äº† Beautiful Soup çš„å®˜æ–¹æ–‡æ¡£ã€‚è¯´å®è¯ï¼Œä¹‹å‰çœ‹åˆ°è¿™äº›ä¸œè¥¿å°±å¤´ç–¼ï¼Œå¯†å¯†éº»éº»å…¨æ˜¯å­—ï¼ŒçœŸæ˜¯ä¸æƒ³çœ‹ï¼Œä¸è¿‡æ²¡åŠæ³•ï¼Œä¸œè¥¿æ€»æ˜¯è¦å­¦ä¹ çš„ï¼Œå“ªèƒ½è¯´ä¸çœ‹å°±ä¸çœ‹å‘¢ã€‚ç„¶åè¶Šçœ‹è¶Šæœ‰æ„æ€ï¼Œå› ä¸ºèƒ½å­¦åˆ°æ–°ä¸œè¥¿å˜›ã€‚ Beautiful Soup æ˜¯ä¸€ä¸ªå¯ä»¥ä» HTML æˆ– XML æ–‡ä»¶ä¸­æå–æ•°æ®çš„ Python åº“ã€‚Beautiful Soup å°†å¤æ‚ HTML æ–‡æ¡£è½¬æ¢æˆä¸€ä¸ªå¤æ‚çš„æ ‘å½¢ç»“æ„ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ Python å¯¹è±¡ï¼Œæ‰€æœ‰å¯¹è±¡å¯ä»¥å½’çº³ä¸º4ç§ï¼šTagï¼ŒNavigableStringï¼ŒBeautifulSoupï¼ŒCommentã€‚ä»¥æˆ‘ç°åœ¨å¯¹ Beautiful Soup çš„è®¤è¯†ï¼Œæˆ‘è®¤ä¸ºå®ƒå°±æ˜¯ä¸€ä¸ªå¯ä»¥æŠŠ HTML æ ‡ç­¾æ•´ç†ï¼Œç­›é€‰ç­‰å·¥ä½œå®Œæˆçš„å·¥å…·ï¼Œå°±åƒå®˜æ–¹æ–‡æ¡£è¯´çš„ä¸€æ ·ï¼šâ€œå®ƒèƒ½å¤Ÿé€šè¿‡ä½ å–œæ¬¢çš„è½¬æ¢å™¨å®ç°æƒ¯ç”¨çš„æ–‡æ¡£å¯¼èˆªï¼ŒæŸ¥æ‰¾ï¼Œä¿®æ”¹æ–‡æ¡£çš„æ–¹å¼ã€‚â€ è¿™æ˜¯æ–‡æ¡£æä¾›çš„ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">html_doc = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">&lt;html&gt;</span><br><span class="hljs-string">  &lt;head&gt;</span><br><span class="hljs-string">    &lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span><br><span class="hljs-string">  &lt;body&gt;</span><br><span class="hljs-string">    &lt;p class=&quot;title&quot;&gt;</span><br><span class="hljs-string">      &lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;</span><br><span class="hljs-string">    &lt;/p&gt;</span><br><span class="hljs-string">    &lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were</span><br><span class="hljs-string">      &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;ï¼Œ</span><br><span class="hljs-string">      &lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;and</span><br><span class="hljs-string">      &lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;and they lived at the bottom of a well.&lt;/p&gt;</span><br><span class="hljs-string">    &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œä¸€èˆ¬ç½‘é¡µæœ‰çš„æ ‡ç­¾è¿™é‡Œéƒ½åŸºæœ¬æ¶‰åŠåˆ°äº†ã€‚</p>
<h1 id="ä»æ–‡æ¡£ä¸­æ‰¾åˆ°æ‰€æœ‰-lt-a-gt-æ ‡ç­¾çš„é“¾æ¥"><a href="#ä»æ–‡æ¡£ä¸­æ‰¾åˆ°æ‰€æœ‰-lt-a-gt-æ ‡ç­¾çš„é“¾æ¥" class="headerlink" title="ä»æ–‡æ¡£ä¸­æ‰¾åˆ°æ‰€æœ‰&lt;a&gt;æ ‡ç­¾çš„é“¾æ¥"></a>ä»æ–‡æ¡£ä¸­æ‰¾åˆ°æ‰€æœ‰<code>&lt;a&gt;</code>æ ‡ç­¾çš„é“¾æ¥</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> link <span class="hljs-keyword">in</span> soup.find_all(<span class="hljs-string">&#x27;a&#x27;</span>):<br>    print(link.get(<span class="hljs-string">&#x27;href&#x27;</span>))  <span class="hljs-comment">#getï¼ˆæ ‡ç­¾å±æ€§ï¼‰å°±èƒ½è·å–æ ‡ç­¾å±æ€§å¯¹åº”çš„å†…å®¹</span><br><br><span class="hljs-comment"># http://example.com/elsie</span><br><span class="hljs-comment"># http://example.com/lacie</span><br><span class="hljs-comment"># http://example.com/tillie</span><br></code></pre></td></tr></table></figure>

<h1 id="ä»æ–‡æ¡£ä¸­è·å–æ‰€æœ‰æ–‡å­—å†…å®¹"><a href="#ä»æ–‡æ¡£ä¸­è·å–æ‰€æœ‰æ–‡å­—å†…å®¹" class="headerlink" title="ä»æ–‡æ¡£ä¸­è·å–æ‰€æœ‰æ–‡å­—å†…å®¹"></a>ä»æ–‡æ¡£ä¸­è·å–æ‰€æœ‰æ–‡å­—å†…å®¹</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">print(soup.get_text())<br><br><span class="hljs-comment">#soupå¿…é¡»æ˜¯å­—ç¬¦ä¸²æ ¼å¼æ‰è¡Œ</span><br><br><span class="hljs-comment"># The Dormouse&#x27;s story</span><br><span class="hljs-comment">## The Dormouse&#x27;s story</span><br><span class="hljs-comment">## Once upon a time there were three little sisters; and their names were</span><br><span class="hljs-comment"># Elsieï¼Œ</span><br><span class="hljs-comment"># Lacie and# Tillie;</span><br><span class="hljs-comment"># and they lived at the bottom of a well.</span><br><span class="hljs-comment">## ...</span><br></code></pre></td></tr></table></figure>

<h1 id="æ¯ä¸ªtagéƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œé€šè¿‡-nameæ¥è·å–"><a href="#æ¯ä¸ªtagéƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œé€šè¿‡-nameæ¥è·å–" class="headerlink" title="æ¯ä¸ªtagéƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œé€šè¿‡.nameæ¥è·å–:"></a>æ¯ä¸ªtagéƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œé€šè¿‡<code>.name</code>æ¥è·å–:</h1><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">tag.name<br><span class="hljs-comment"># u&#x27;b&#x27;</span><br></code></pre></td></tr></table></figure>

<h1 id="attrs-ç”¨æ¥è·å–æ ‡ç­¾å±æ€§"><a href="#attrs-ç”¨æ¥è·å–æ ‡ç­¾å±æ€§" class="headerlink" title=".attrs #ç”¨æ¥è·å–æ ‡ç­¾å±æ€§ :"></a><code>.attrs</code> #ç”¨æ¥è·å–æ ‡ç­¾å±æ€§ :</h1><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">tag.attrs<br><span class="hljs-comment"># &#123;u&#x27;class&#x27;: u&#x27;boldest&#x27;&#125;</span><br></code></pre></td></tr></table></figure>

<h1 id="æ“ä½œæ–‡æ¡£æ ‘æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å‘Šè¯‰å®ƒä½ æƒ³è·å–çš„tagçš„name-å¦‚æœæƒ³è·å–-lt-head-gt-æ ‡ç­¾ï¼Œåªè¦ç”¨-soup-head"><a href="#æ“ä½œæ–‡æ¡£æ ‘æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å‘Šè¯‰å®ƒä½ æƒ³è·å–çš„tagçš„name-å¦‚æœæƒ³è·å–-lt-head-gt-æ ‡ç­¾ï¼Œåªè¦ç”¨-soup-head" class="headerlink" title="æ“ä½œæ–‡æ¡£æ ‘æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å‘Šè¯‰å®ƒä½ æƒ³è·å–çš„tagçš„name.å¦‚æœæƒ³è·å– &lt;head&gt; æ ‡ç­¾ï¼Œåªè¦ç”¨ soup.head"></a>æ“ä½œæ–‡æ¡£æ ‘æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å‘Šè¯‰å®ƒä½ æƒ³è·å–çš„<code>tag</code>çš„<code>name</code>.å¦‚æœæƒ³è·å– <code>&lt;head&gt;</code> æ ‡ç­¾ï¼Œåªè¦ç”¨ <code>soup.head</code></h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.head<br><span class="hljs-comment"># &lt;head&gt;&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span><br><br>soup.title<br><span class="hljs-comment"># &lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;</span><br></code></pre></td></tr></table></figure>

<h1 id="è¿™æ˜¯ä¸ªè·å–tagçš„å°çªé—¨ï¼Œå¯ä»¥åœ¨æ–‡æ¡£æ ‘çš„tagä¸­å¤šæ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•-ä¸‹é¢çš„ä»£ç å¯ä»¥è·å–-lt-body-gt-æ ‡ç­¾ä¸­çš„ç¬¬ä¸€ä¸ª-lt-b-gt-æ ‡ç­¾"><a href="#è¿™æ˜¯ä¸ªè·å–tagçš„å°çªé—¨ï¼Œå¯ä»¥åœ¨æ–‡æ¡£æ ‘çš„tagä¸­å¤šæ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•-ä¸‹é¢çš„ä»£ç å¯ä»¥è·å–-lt-body-gt-æ ‡ç­¾ä¸­çš„ç¬¬ä¸€ä¸ª-lt-b-gt-æ ‡ç­¾" class="headerlink" title="è¿™æ˜¯ä¸ªè·å–tagçš„å°çªé—¨ï¼Œå¯ä»¥åœ¨æ–‡æ¡£æ ‘çš„tagä¸­å¤šæ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•.ä¸‹é¢çš„ä»£ç å¯ä»¥è·å–&lt;body&gt;æ ‡ç­¾ä¸­çš„ç¬¬ä¸€ä¸ª&lt;b&gt;æ ‡ç­¾"></a>è¿™æ˜¯ä¸ªè·å–<code>tag</code>çš„å°çªé—¨ï¼Œå¯ä»¥åœ¨æ–‡æ¡£æ ‘çš„<code>tag</code>ä¸­å¤šæ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•.ä¸‹é¢çš„ä»£ç å¯ä»¥è·å–<code>&lt;body&gt;</code>æ ‡ç­¾ä¸­çš„ç¬¬ä¸€ä¸ª<code>&lt;b&gt;</code>æ ‡ç­¾</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.body.b<br><br><span class="hljs-comment"># &lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;</span><br></code></pre></td></tr></table></figure>

<h1 id="tagçš„-contents-å±æ€§å¯ä»¥å°†tagçš„å­èŠ‚ç‚¹ä»¥ã€Œåˆ—è¡¨ã€çš„æ–¹å¼è¾“å‡º"><a href="#tagçš„-contents-å±æ€§å¯ä»¥å°†tagçš„å­èŠ‚ç‚¹ä»¥ã€Œåˆ—è¡¨ã€çš„æ–¹å¼è¾“å‡º" class="headerlink" title="tagçš„.contents å±æ€§å¯ä»¥å°†tagçš„å­èŠ‚ç‚¹ä»¥ã€Œåˆ—è¡¨ã€çš„æ–¹å¼è¾“å‡º"></a><code>tag</code>çš„<code>.contents</code> å±æ€§å¯ä»¥å°†tagçš„å­èŠ‚ç‚¹ä»¥ã€Œåˆ—è¡¨ã€çš„æ–¹å¼è¾“å‡º</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">head_tag.contents<br><br><span class="hljs-comment"># [&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;]</span><br></code></pre></td></tr></table></figure>

<h1 id="è¾“å‡ºçš„å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«äº†å¾ˆå¤šç©ºæ ¼æˆ–ç©ºè¡Œï¼Œä½¿ç”¨-stripped-stringså¯ä»¥å»é™¤å¤šä½™ç©ºç™½å†…å®¹"><a href="#è¾“å‡ºçš„å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«äº†å¾ˆå¤šç©ºæ ¼æˆ–ç©ºè¡Œï¼Œä½¿ç”¨-stripped-stringså¯ä»¥å»é™¤å¤šä½™ç©ºç™½å†…å®¹" class="headerlink" title="è¾“å‡ºçš„å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«äº†å¾ˆå¤šç©ºæ ¼æˆ–ç©ºè¡Œï¼Œä½¿ç”¨.stripped_stringså¯ä»¥å»é™¤å¤šä½™ç©ºç™½å†…å®¹"></a>è¾“å‡ºçš„å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«äº†å¾ˆå¤šç©ºæ ¼æˆ–ç©ºè¡Œï¼Œä½¿ç”¨<code>.stripped_strings</code>å¯ä»¥å»é™¤å¤šä½™ç©ºç™½å†…å®¹</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> string <span class="hljs-keyword">in</span> soup.stripped_strings:<br>    print(repr(string))<br></code></pre></td></tr></table></figure>

<h1 id="æŸ¥æ‰¾æ–‡æ¡£ä¸­æ‰€æœ‰çš„æ ‡ç­¾"><a href="#æŸ¥æ‰¾æ–‡æ¡£ä¸­æ‰€æœ‰çš„æ ‡ç­¾" class="headerlink" title="æŸ¥æ‰¾æ–‡æ¡£ä¸­æ‰€æœ‰çš„æ ‡ç­¾"></a>æŸ¥æ‰¾æ–‡æ¡£ä¸­æ‰€æœ‰çš„<strong>æ ‡ç­¾</strong></h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.find _all(<span class="hljs-string">&#x27;b&#x27;</span>) <span class="hljs-comment"># æŸ¥æ‰¾&lt;b&gt;æ ‡ç­¾</span><br><br><span class="hljs-comment"># [&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;]</span><br></code></pre></td></tr></table></figure>

<h1 id="å¦‚æœä¼ å…¥åˆ—è¡¨å‚æ•°ï¼ŒBeautiful-Soupä¼šå°†ä¸åˆ—è¡¨ä¸­ä»»ä¸€å…ƒç´ åŒ¹é…çš„å†…å®¹è¿”å›"><a href="#å¦‚æœä¼ å…¥åˆ—è¡¨å‚æ•°ï¼ŒBeautiful-Soupä¼šå°†ä¸åˆ—è¡¨ä¸­ä»»ä¸€å…ƒç´ åŒ¹é…çš„å†…å®¹è¿”å›" class="headerlink" title="å¦‚æœä¼ å…¥åˆ—è¡¨å‚æ•°ï¼ŒBeautiful Soupä¼šå°†ä¸åˆ—è¡¨ä¸­ä»»ä¸€å…ƒç´ åŒ¹é…çš„å†…å®¹è¿”å›"></a>å¦‚æœä¼ å…¥åˆ—è¡¨å‚æ•°ï¼ŒBeautiful Soupä¼šå°†ä¸åˆ—è¡¨ä¸­ä»»ä¸€å…ƒç´ åŒ¹é…çš„å†…å®¹è¿”å›</h1><p>ä¸‹é¢ä»£ç æ‰¾åˆ°æ–‡æ¡£ä¸­æ‰€æœ‰<code>&lt;a&gt;</code>æ ‡ç­¾å’Œ<code>&lt;b&gt;</code>æ ‡ç­¾ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.find_all([<span class="hljs-string">&quot;a&quot;</span>ï¼Œ <span class="hljs-string">&quot;b&quot;</span>])<br><br><span class="hljs-comment"># [&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;ï¼Œ#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;ï¼Œ#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;ï¼Œ#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<h1 id="find-all-name-ï¼Œ-attrs-ï¼Œ-recursive-ï¼Œ-string-ï¼Œ-kwargs"><a href="#find-all-name-ï¼Œ-attrs-ï¼Œ-recursive-ï¼Œ-string-ï¼Œ-kwargs" class="headerlink" title="find_all( name ï¼Œ attrs ï¼Œ recursive ï¼Œ string ï¼Œ **kwargs )"></a><code>find_all( name ï¼Œ attrs ï¼Œ recursive ï¼Œ string ï¼Œ **kwargs )</code></h1><h2 id="name-å‚æ•°å¯ä»¥æŸ¥æ‰¾æ‰€æœ‰åå­—ä¸º-name-çš„tagï¼Œå­—ç¬¦ä¸²å¯¹è±¡ä¼šè¢«è‡ªåŠ¨å¿½ç•¥æ‰"><a href="#name-å‚æ•°å¯ä»¥æŸ¥æ‰¾æ‰€æœ‰åå­—ä¸º-name-çš„tagï¼Œå­—ç¬¦ä¸²å¯¹è±¡ä¼šè¢«è‡ªåŠ¨å¿½ç•¥æ‰" class="headerlink" title="name å‚æ•°å¯ä»¥æŸ¥æ‰¾æ‰€æœ‰åå­—ä¸º name çš„tagï¼Œå­—ç¬¦ä¸²å¯¹è±¡ä¼šè¢«è‡ªåŠ¨å¿½ç•¥æ‰."></a><code>name</code> å‚æ•°å¯ä»¥æŸ¥æ‰¾æ‰€æœ‰åå­—ä¸º <code>name</code> çš„<code>tag</code>ï¼Œå­—ç¬¦ä¸²å¯¹è±¡ä¼šè¢«è‡ªåŠ¨å¿½ç•¥æ‰.</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">ç®€å•çš„ç”¨æ³•å¦‚ä¸‹:<br>soup.find_all(<span class="hljs-string">&quot;title&quot;</span>)<br><br><span class="hljs-comment"># [&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;]</span><br></code></pre></td></tr></table></figure>

<h2 id="keyword-å‚æ•°"><a href="#keyword-å‚æ•°" class="headerlink" title="keyword å‚æ•°"></a>keyword å‚æ•°</h2><p>å¦‚æœåŒ…å«ä¸€ä¸ªåå­—ä¸º id çš„å‚æ•°ï¼ŒBeautiful Soup ä¼šæœç´¢æ¯ä¸ª tag çš„ id å±æ€§ã€‚ï¼ˆä¸åªæ˜¯idï¼Œå…¶ä»–æ ‡ç­¾åŒæ ·é€‚ç”¨ï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.find_all(id=<span class="hljs-string">&#x27;link2&#x27;</span>)<br><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<p>å¦‚æœä¼ å…¥ href å‚æ•°ï¼ŒBeautiful Soupä¼šæœç´¢æ¯ä¸ªtagçš„â€hrefâ€å±æ€§:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.find_all(href=re.compile(<span class="hljs-string">&quot;elsie&quot;</span>))<br><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨å¤šä¸ªæŒ‡å®šåå­—çš„å‚æ•°å¯ä»¥åŒæ—¶è¿‡æ»¤tagçš„å¤šä¸ªå±æ€§:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.find_all(href=re.compile(<span class="hljs-string">&quot;elsie&quot;</span>)ï¼Œ id=<span class="hljs-string">&#x27;link1&#x27;</span>)<br><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;three&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<h1 id="é€šè¿‡-find-all-æ–¹æ³•çš„-attrs-å‚æ•°å®šä¹‰ä¸€ä¸ªå­—å…¸å‚æ•°æ¥æœç´¢åŒ…å«ç‰¹æ®Šå±æ€§çš„tag"><a href="#é€šè¿‡-find-all-æ–¹æ³•çš„-attrs-å‚æ•°å®šä¹‰ä¸€ä¸ªå­—å…¸å‚æ•°æ¥æœç´¢åŒ…å«ç‰¹æ®Šå±æ€§çš„tag" class="headerlink" title="é€šè¿‡ find_all() æ–¹æ³•çš„ attrs å‚æ•°å®šä¹‰ä¸€ä¸ªå­—å…¸å‚æ•°æ¥æœç´¢åŒ…å«ç‰¹æ®Šå±æ€§çš„tag"></a>é€šè¿‡ <code>find_all()</code> æ–¹æ³•çš„ <code>attrs</code> å‚æ•°å®šä¹‰ä¸€ä¸ªå­—å…¸å‚æ•°æ¥æœç´¢åŒ…å«ç‰¹æ®Šå±æ€§çš„<code>tag</code></h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">data_soup.find_all(attrs=&#123;<span class="hljs-string">&quot;data-foo&quot;</span>: <span class="hljs-string">&quot;value&quot;</span>&#125;) <span class="hljs-comment">#æ ‡ç­¾ç­‰äºæ ‡ç­¾çš„å±æ€§</span><br><br><span class="hljs-comment"># [&lt;div data-foo=&quot;value&quot;&gt;foo!&lt;/div&gt;]</span><br></code></pre></td></tr></table></figure>

<h1 id="é€šè¿‡-string-å‚æ•°å¯ä»¥æœç´¢æ–‡æ¡£ä¸­çš„å­—ç¬¦ä¸²å†…å®¹"><a href="#é€šè¿‡-string-å‚æ•°å¯ä»¥æœç´¢æ–‡æ¡£ä¸­çš„å­—ç¬¦ä¸²å†…å®¹" class="headerlink" title="é€šè¿‡ string å‚æ•°å¯ä»¥æœç´¢æ–‡æ¡£ä¸­çš„å­—ç¬¦ä¸²å†…å®¹"></a>é€šè¿‡ <code>string</code> å‚æ•°å¯ä»¥æœç´¢æ–‡æ¡£ä¸­çš„å­—ç¬¦ä¸²å†…å®¹</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.find_all(string=re.compile(<span class="hljs-string">&quot;Dormouse&quot;</span>))<br><br><span class="hljs-comment"># [u&quot;The Dormouse&#x27;s story&quot;ï¼Œ u&quot;The Dormouse&#x27;s story&quot;]</span><br></code></pre></td></tr></table></figure>

<h2 id="è™½ç„¶-string-å‚æ•°ç”¨äºæœç´¢å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥ä¸å…¶å®ƒå‚æ•°æ··åˆä½¿ç”¨æ¥è¿‡æ»¤tagï¼Œå¯ä»¥ç”¨æ¥è¿‡æ»¤æ ‡ç­¾"><a href="#è™½ç„¶-string-å‚æ•°ç”¨äºæœç´¢å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥ä¸å…¶å®ƒå‚æ•°æ··åˆä½¿ç”¨æ¥è¿‡æ»¤tagï¼Œå¯ä»¥ç”¨æ¥è¿‡æ»¤æ ‡ç­¾" class="headerlink" title="è™½ç„¶ string å‚æ•°ç”¨äºæœç´¢å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥ä¸å…¶å®ƒå‚æ•°æ··åˆä½¿ç”¨æ¥è¿‡æ»¤tagï¼Œå¯ä»¥ç”¨æ¥è¿‡æ»¤æ ‡ç­¾"></a>è™½ç„¶ <code>string</code> å‚æ•°ç”¨äºæœç´¢å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥ä¸å…¶å®ƒå‚æ•°æ··åˆä½¿ç”¨æ¥è¿‡æ»¤<code>tag</code>ï¼Œå¯ä»¥ç”¨æ¥è¿‡æ»¤æ ‡ç­¾</h2><p>Beautiful Soupä¼šæ‰¾åˆ° .string æ–¹æ³•ä¸ string å‚æ•°å€¼ç›¸ç¬¦çš„tag.ä¸‹é¢ä»£ç ç”¨æ¥æœç´¢å†…å®¹é‡Œé¢åŒ…å«â€œElsieâ€çš„æ ‡ç­¾:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.find_all(<span class="hljs-string">&quot;a&quot;</span>ï¼Œ string=<span class="hljs-string">&quot;Elsie&quot;</span>)<br><br><span class="hljs-comment"># [&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<p><code>find_all()</code> å‡ ä¹æ˜¯ Beautiful Soup ä¸­æœ€å¸¸ç”¨çš„æœç´¢æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å®šä¹‰äº†å®ƒçš„ç®€å†™æ–¹æ³•. BeautifulSoup å¯¹è±¡å’Œ <code>tag</code> å¯¹è±¡å¯ä»¥è¢«å½“ä½œä¸€ä¸ªæ–¹æ³•æ¥ä½¿ç”¨ï¼Œè¿™ä¸ªæ–¹æ³•çš„æ‰§è¡Œç»“æœä¸è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ <code>find_all()</code> æ–¹æ³•ç›¸åŒï¼Œä¸‹é¢ä¸¤è¡Œä»£ç æ˜¯ç­‰ä»·çš„:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.find_all(<span class="hljs-string">&quot;a&quot;</span>)<br>soup(<span class="hljs-string">&quot;a&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸¤è¡Œä»£ç ä¹Ÿæ˜¯ç­‰ä»·çš„:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.title.find_all(string=<span class="hljs-literal">True</span>)<br>soup.title(string=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure>

<h2 id="é€šè¿‡-tag-æ ‡ç­¾é€å±‚æŸ¥æ‰¾ï¼Œæ ¹æ®æ ‡ç­¾é€å±‚æŸ¥æ‰¾"><a href="#é€šè¿‡-tag-æ ‡ç­¾é€å±‚æŸ¥æ‰¾ï¼Œæ ¹æ®æ ‡ç­¾é€å±‚æŸ¥æ‰¾" class="headerlink" title="é€šè¿‡ tag æ ‡ç­¾é€å±‚æŸ¥æ‰¾ï¼Œæ ¹æ®æ ‡ç­¾é€å±‚æŸ¥æ‰¾"></a>é€šè¿‡ <code>tag</code> æ ‡ç­¾é€å±‚æŸ¥æ‰¾ï¼Œæ ¹æ®æ ‡ç­¾é€å±‚æŸ¥æ‰¾</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&quot;body a&quot;</span>)<br><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;ï¼Œ#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot;  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;ï¼Œ#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&quot;html head title&quot;</span>) <br><br><span class="hljs-comment"># å…ˆæ˜¯&lt;html&gt;ç„¶åæ˜¯å…¶ä¸‹çš„&lt;head&gt;ç„¶åæ˜¯&lt;head&gt;ä¸‹çš„&lt;title&gt;æ ‡ç­¾ï¼Œå±‚å±‚å‘ä¸‹</span><br><span class="hljs-comment"># [&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;]</span><br></code></pre></td></tr></table></figure>

<p>æ‰¾åˆ°æŸä¸ªtagæ ‡ç­¾ä¸‹çš„ç›´æ¥å­æ ‡ç­¾:ï¼ˆå¯ä»¥åˆ©ç”¨æ­¤æ–¹æ³•æœç´¢è¾ƒå¤§æ ‡ç­¾ä¸‹çš„å­æ ‡ç­¾ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&quot;head &gt; title&quot;</span>)  <span class="hljs-comment"># æœç´¢çˆ¶æ ‡ç­¾ä¸‹çš„å­æ ‡ç­¾å†…å®¹</span><br><br><span class="hljs-comment"># [&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;]</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&quot;p &gt; a&quot;</span>) <br><br><span class="hljs-comment"># æœç´¢&lt;p&gt;æ ‡ç­¾ä¸‹çš„&lt;a&gt;æ ‡ç­¾å†…å®¹</span><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;ï¼Œ#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot;  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;ï¼Œ#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&quot;p &gt; a:nth-of-type(2)&quot;</span>) <br><br><span class="hljs-comment"># åº”è¯¥æ˜¯æœç´¢&lt;p&gt;æ ‡ç­¾ä¸‹ï¼Œ&lt;a&gt;æ ‡ç­¾å±æ€§æ•°é‡ä¸º3çš„&lt;a&gt;æ ‡ç­¾</span><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&quot;p &gt; #link1&quot;</span>) <span class="hljs-comment"># æœç´¢&lt;p&gt;æ ‡ç­¾ä¸‹å±æ€§å€¼ä¸ºlink1çš„æ ‡ç­¾å†…å®¹</span><br><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&quot;body &gt; a&quot;</span>)<br><br><span class="hljs-comment"># []</span><br></code></pre></td></tr></table></figure>

<h2 id="é€šè¿‡tagçš„idæŸ¥æ‰¾"><a href="#é€šè¿‡tagçš„idæŸ¥æ‰¾" class="headerlink" title="é€šè¿‡tagçš„idæŸ¥æ‰¾"></a>é€šè¿‡<code>tag</code>çš„<code>id</code>æŸ¥æ‰¾</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&quot;#link1&quot;</span>)<br><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&quot;a#link2&quot;</span>)<br><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<p>åŒæ—¶ç”¨å¤šç§CSSé€‰æ‹©å™¨æŸ¥è¯¢å…ƒç´ :</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&quot;#link1ï¼Œ#link2&quot;</span>)<br><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;ï¼Œ#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<p>é€šè¿‡æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§æ¥æŸ¥æ‰¾:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&#x27;a[href]&#x27;</span>)<br><br><span class="hljs-comment"># [&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;ï¼Œ#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;ï¼Œ#  &lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span><br></code></pre></td></tr></table></figure>

<p>é€šè¿‡å±æ€§çš„å€¼æ¥æŸ¥æ‰¾:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select(<span class="hljs-string">&#x27;a[href=&quot;http://example.com/elsie&quot;]&#x27;</span>)<br></code></pre></td></tr></table></figure>

<h2 id="è¿”å›æŸ¥æ‰¾åˆ°çš„å…ƒç´ çš„ç¬¬ä¸€ä¸ª"><a href="#è¿”å›æŸ¥æ‰¾åˆ°çš„å…ƒç´ çš„ç¬¬ä¸€ä¸ª" class="headerlink" title="è¿”å›æŸ¥æ‰¾åˆ°çš„å…ƒç´ çš„ç¬¬ä¸€ä¸ª"></a>è¿”å›æŸ¥æ‰¾åˆ°çš„å…ƒç´ çš„ç¬¬ä¸€ä¸ª</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.select_one(<span class="hljs-string">&quot;.sister&quot;</span>)<br><br><span class="hljs-comment"># &lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="get-text"><a href="#get-text" class="headerlink" title="get_text()"></a><code>get_text()</code></h2><p>å¦‚æœåªæƒ³å¾—åˆ° tag ä¸­åŒ…å«çš„æ–‡æœ¬å†…å®¹ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ <code>get_text()</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è·å–åˆ°tagä¸­åŒ…å«çš„æ‰€æœ‰æ–‡ç‰ˆå†…å®¹åŒ…æ‹¬å­å­™ tag ä¸­çš„å†…å®¹ï¼Œå¹¶å°†ç»“æœä½œä¸º Unicode å­—ç¬¦ä¸²è¿”å›ã€‚ é€šè¿‡å‚æ•°æŒ‡å®š <code>tag</code> çš„æ–‡æœ¬å†…å®¹çš„åˆ†éš”ç¬¦:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.get_text(<span class="hljs-string">&quot;|&quot;</span>)<span class="hljs-string">u&#x27;\nI linked to |example.com|\n&#x27;</span><br></code></pre></td></tr></table></figure>

<p>è¿˜å¯ä»¥å»é™¤è·å¾—æ–‡æœ¬å†…å®¹çš„å‰åç©ºç™½:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">soup.get_text(<span class="hljs-string">&quot;|&quot;</span>ï¼Œ strip=<span class="hljs-literal">True</span>)<span class="hljs-string">u&#x27;I linked to|example.com&#x27;</span><br></code></pre></td></tr></table></figure>

<p>æˆ‘è§‰å¾—æœ‰ç”¨çš„å°±è¿™ä¹ˆå¤šäº†ï¼Œæ€»ç»“çš„æœ‰äº›ç²—ç³™ï¼Œä¸è¿‡æˆ‘è§‰å¾—å¦‚æœä½ ç”¨è¿‡<code>beautiful soup</code>çš„è¯åº”è¯¥æ˜¯èƒ½ç†è§£çš„ï¼Œå…¶ä»–çš„ä¸€äº›å†…å®¹å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œå¾ˆè¯¦ç»†å¾ˆå…¨ã€‚ <a href="beautifulsoup.readthedocs.io/zh_CN/latest/">Beautiful Soup 4.4.0å®˜æ–¹æ–‡æ¡£</a></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>BeautifulSoup4</tag>
      </tags>
  </entry>
  <entry>
    <title>åšå®¢ä¸»é¢˜è‡ªå®šä¹‰ä¿®æ”¹è®°å½•</title>
    <url>/312.html</url>
    <content><![CDATA[<p>æœ¬åšå®¢ç”¨çš„æ˜¯ Kratos ä¸»é¢˜ã€‚ä½†æ˜¯æŸäº›åœ°æ–¹ä¸ªäººåšäº†æ”¹åŠ¨ã€‚</p>
<p>å› ä¸ºå¯¹ PHP ä¸äº†è§£ï¼Œæ‰€ä»¥æŠ˜è…¾å®Œä¹‹åå†™æ­¤æ–‡è®°å½•ä¸€ä¸‹ã€‚</p>
<a id="more"></a>
<h1 id="åº•éƒ¨æ·»åŠ è¿è¡Œæ—¶é—´"><a href="#åº•éƒ¨æ·»åŠ è¿è¡Œæ—¶é—´" class="headerlink" title="åº•éƒ¨æ·»åŠ è¿è¡Œæ—¶é—´"></a>åº•éƒ¨æ·»åŠ è¿è¡Œæ—¶é—´</h1><p>æˆ‘ä»¬ç»å¸¸èƒ½çœ‹åˆ°ä»–äººçš„åšå®¢é¡µè„šçš„ä½ç½®æœ‰å„å¼å„æ ·çš„å»ºç«™æ—¶é—´æ˜¾ç¤ºã€‚æ ¸å¿ƒè¿˜æ˜¯ä½¿ç”¨ JavaScript è®¡ç®—æ—¥æœŸï¼Œå¹¶æ˜¾ç¤ºåˆ°é¡µé¢ä¸Šã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åœ¨ Wordpress ä»ªè¡¨ç›˜ï¼Œæ‰¾åˆ°å¤–è§‚ï¼Œé€‰æ‹©ä¸»é¢˜ç¼–è¾‘å™¨ï¼Œé€‰æ‹©<strong>ä¸»é¢˜é¡µè„šï¼ˆfooter.phpï¼‰</strong>æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;div class&#x3D;&quot;k-footer&quot;&gt;<br>&lt;script&gt;<br>    var now &#x3D; new Date();<br>    function createtime() &#123;<br>      var grt &#x3D; new Date(&quot;11&#x2F;16&#x2F;2016 00:00:00&quot;); &#x2F;&#x2F; è¿™é‡Œæ˜¯ä½ çš„å»ºç«™æ—¶é—´<br>      now.setTime(now.getTime() + 250);<br>      days &#x3D; (now - grt) &#x2F; 1000 &#x2F; 60 &#x2F; 60 &#x2F; 24;<br>      dnum &#x3D; Math.floor(days);<br>      hours &#x3D; (now - grt) &#x2F; 1000 &#x2F; 60 &#x2F; 60 - 24 * dnum;<br>      hnum &#x3D; Math.floor(hours);<br>      if (String(hnum).length &#x3D;&#x3D; 1) &#123;<br>        hnum &#x3D; &quot;0&quot; + hnum;<br>      &#125;<br>      minutes &#x3D; (now - grt) &#x2F; 1000 &#x2F; 60 - 24 * 60 * dnum - 60 * hnum;<br>      mnum &#x3D; Math.floor(minutes);<br>      if (String(mnum).length &#x3D;&#x3D; 1) &#123;<br>        mnum &#x3D; &quot;0&quot; + mnum;<br>      &#125;<br>      seconds &#x3D;<br>        (now - grt) &#x2F; 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;<br>      snum &#x3D; Math.round(seconds);<br>      if (String(snum).length &#x3D;&#x3D; 1) &#123;<br>        snum &#x3D; &quot;0&quot; + snum;<br>      &#125;<br>      document.getElementById(&quot;timeDate&quot;).innerHTML &#x3D;<br>        &quot;æœ¬ç«™å·²è¿è¡Œ &quot; + dnum + &quot; å¤© &quot;;<br>      document.getElementById(&quot;times&quot;).innerHTML &#x3D;<br>        hnum + &quot; å°æ—¶ &quot; + mnum + &quot; åˆ† &quot; + snum + &quot; ç§’&quot;;<br>    &#125;<br>    setInterval(&quot;createtime()&quot;, 250);<br>  &lt;&#x2F;script&gt;<br><br>...<br><br>&lt;p&gt;&lt;span id&#x3D;&quot;timeDate&quot;&gt;æ­£åœ¨è½½å…¥å¤©æ•°...&lt;&#x2F;span&gt;&lt;span id&#x3D;&quot;times&quot;&gt;è½½å…¥æ—¶åˆ†ç§’...&lt;&#x2F;span&gt;&lt;&#x2F;p&gt;<br>&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å…ˆç”¨ JavaScript æŠŠæ—¶é—´è®¡ç®—å‡ºæ¥ï¼Œç„¶ååœ¨é€šè¿‡ <code>document.getElementById(&quot;times&quot;).innerHTML</code> æ–¹æ³•æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚<code>&lt;p&gt;&lt;span id=&quot;timeDate&quot;&gt;æ­£åœ¨è½½å…¥å¤©æ•°...&lt;/span&gt;&lt;span id=&quot;times&quot;&gt;è½½å…¥æ—¶åˆ†ç§’...&lt;/span&gt;&lt;/p&gt;</code> éœ€è¦æ·»åŠ åˆ°é¡µé¢åˆé€‚çš„ä½ç½®ã€‚</p>
<p>å®é™…æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://i.loli.net/2020/03/08/PlSeW5csbznkr6a.png" alt="è¿è¡Œæ—¶é—´"></p>
<h1 id="ç½‘ç«™æ ‡è¯­ï¼ˆå…¬å‘Šï¼‰"><a href="#ç½‘ç«™æ ‡è¯­ï¼ˆå…¬å‘Šï¼‰" class="headerlink" title="ç½‘ç«™æ ‡è¯­ï¼ˆå…¬å‘Šï¼‰"></a>ç½‘ç«™æ ‡è¯­ï¼ˆå…¬å‘Šï¼‰</h1><p>è¿™éƒ¨åˆ†éœ€è¦ä¿®æ”¹<strong>é¦–é¡µæ¨¡æ¿ï¼ˆindex.phpï¼‰</strong>ä¸­çš„ä»£ç ã€‚</p>
<p>ä¸€å¼€å§‹æˆ‘å¹¶ä¸æ¸…æ¥šéœ€è¦ä¿®æ”¹å“ªä¸ªæ–‡ä»¶ä¸­çš„ä»£ç ï¼Œå› ä¸ºæµ‹è¯•äº†åŠå¤©éƒ½æ²¡æœ‰ç¬¦åˆè‡ªå·±çš„é¢„æœŸã€‚åæ¥æˆ‘æƒ³åˆ°æœç´¢å…³é”®å­—çš„æ—¶å€™ä¼šå¼¹å‡ºç±»ä¼¼çš„ç•Œé¢ã€‚æ‰€ä»¥ç›´æ¥åœ¨æœç´¢éƒ¨åˆ†æ·»åŠ äº† <code>else</code> è¯­å¥ã€‚ä¿è¯äº†å¹³æ—¶æ˜¾ç¤ºæ ‡è¯­æˆ–è€…å…¬å‘Šï¼Œåœ¨æœç´¢å…³é”®è¯çš„æ—¶å€™éšè—æ ‡è¯­ï¼Œçœ‹èµ·æ¥æ›´ç¾è§‚ä¸€äº›ã€‚</p>
<p>æœç´¢éƒ¨åˆ†çš„ä»£ç ä¿®æ”¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;?php<br>        if ( is_search() ) &#123; ?&gt;<br>        &lt;div class&#x3D;&quot;article-panel&quot;&gt;<br>            &lt;div class&#x3D;&quot;search-title&quot;&gt;&lt;?php _e(&#39;æœç´¢å†…å®¹ï¼š&#39;, &#39;kratos&#39;);the_search_query(); ?&gt;&lt;&#x2F;div&gt;<br>        &lt;&#x2F;div&gt;<br>        &lt;?php &#125; else &#123; ?&gt;<br>        &lt;div class&#x3D;&quot;article-panel&quot;&gt;<br>                &lt;span id&#x3D;&quot;mySweetIcon&quot;&gt;ğŸ’&lt;&#x2F;span&gt;&lt;span id&#x3D;&quot;loveForYou&quot;&gt;æ˜¥æ°´åˆç”Ÿï¼Œæ˜¥æ—åˆç››ï¼Œæ˜¥é£åé‡Œï¼Œä¸å¦‚ä½ ã€‚&lt;&#x2F;span&gt;<br>            &lt;&#x2F;div&gt;<br>        &lt;&#x2F;div&gt;<br>&lt;?php &#125; ?&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/03/08/sPMdHzmIpkuV89U.png" alt="ç½‘ç«™æ ‡è¯­"></p>
<h1 id="é¼ æ ‡æ»‘è¿‡æ˜¾ç¤ºå°æ ‡é¢˜"><a href="#é¼ æ ‡æ»‘è¿‡æ˜¾ç¤ºå°æ ‡é¢˜" class="headerlink" title="é¼ æ ‡æ»‘è¿‡æ˜¾ç¤ºå°æ ‡é¢˜"></a>é¼ æ ‡æ»‘è¿‡æ˜¾ç¤ºå°æ ‡é¢˜</h1><p>è¿™éƒ¨åˆ†æ˜¯åœ¨çœ‹ Bootstarp4 çš„ Tooltip çœ‹åˆ°çš„ï¼Œå°±å°è¯•äº†ä¸€ä¸‹ï¼Œå› ä¸º Kratos ä¸»é¢˜å°±ç”¨åˆ°äº† Bootstarpï¼Œæ‰€ä»¥æ·»åŠ è¿™ä¸ªåŠŸèƒ½å¾ˆç®€å•äº†ã€‚</p>
<p>åœ¨ç½‘ç«™æ ‡è¯­çš„åŸºç¡€ä¸Šä¿®æ”¹å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;div class&#x3D;&quot;article-panel&quot;&gt;<br>    &lt;div class&#x3D;&quot;shadow-sm p-3 bg-white font-weight-light text-wrap&quot; data-toggle&#x3D;&quot;tooltip&quot; title&#x3D;&quot;æ¬¢è¿æ¥è®¿ï¼å¦‚æœè§‰å¾—å°ç«™ä¸é”™è¯·æ¨èç»™æ‚¨çš„æœ‹å‹ï¼&quot;&gt;<br>        &lt;span id&#x3D;&quot;mySweetIcon&quot;&gt;ğŸ’&lt;&#x2F;span&gt;&lt;span id&#x3D;&quot;loveForYou&quot;&gt;æ˜¥æ°´åˆç”Ÿï¼Œæ˜¥æ—åˆç››ï¼Œæ˜¥é£åé‡Œï¼Œä¸å¦‚ä½ ã€‚&lt;&#x2F;span&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/03/08/Hh6AONzofJlyavg.png" alt="å°æ ‡é¢˜"></p>
<h1 id="æ–‡ç« æœ€åç¼–è¾‘æ—¶é—´æç¤º"><a href="#æ–‡ç« æœ€åç¼–è¾‘æ—¶é—´æç¤º" class="headerlink" title="æ–‡ç« æœ€åç¼–è¾‘æ—¶é—´æç¤º"></a>æ–‡ç« æœ€åç¼–è¾‘æ—¶é—´æç¤º</h1><p>ä¸€å¼€å§‹æƒ³ç”¨ PHP è®¡ç®—æ—¶é—´ï¼Œæ¸²æŸ“åˆ°é¡µé¢ä¸Šå°±è¡Œï¼Œä½†æ˜¯å› ä¸ºå¯¹ PHP éå¸¸ä¸ç†Ÿæ‚‰ï¼Œè¯•äº†è¯•æ²¡æœ‰æˆåŠŸå°±æ”¾å¼ƒäº†ã€‚ä½†æ˜¯è½¬å¿µä¸€æƒ³ï¼Œè¿™ä¸ªä¸å°±å’Œåº•éƒ¨æ˜¾ç¤ºå»ºç«™æ—¶é—´ä¸€æ ·å—ï¼Ÿç”¨ JavaScript è®¡ç®—æ—¶é—´æ¸²æŸ“å°±å¯ä»¥äº†ã€‚ä½†æ˜¯æ–‡ç« çš„æ—¶é—´æ˜¯ç”¨ PHP çš„å‡½æ•°è·å–çš„ï¼Œæˆ‘è¯¥å¦‚ä½•åœ¨ JavaScript ä¸­ä¼ å…¥ PHP ç”Ÿæˆçš„å‚æ•°å‘¢ï¼Ÿæ²¡æƒ³åˆ°éå¸¸ç®€å•æ— è„‘ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">var</span> now = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCreateTime</span>(<span class="hljs-params">dataTime</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> grt = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(dataTime);<br>    now.setTime(now.getTime() + <span class="hljs-number">250</span>);<br>    days = (now - grt) / <span class="hljs-number">1000</span> / <span class="hljs-number">60</span> / <span class="hljs-number">60</span> / <span class="hljs-number">24</span>;<br>    dnum = <span class="hljs-built_in">Math</span>.floor(days);<br>    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;postDateL&quot;</span>).innerHTML = dnum;<br>    <span class="hljs-keyword">if</span> (dnum &lt; <span class="hljs-number">30</span>) &#123;<br>        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;postDateTitle&quot;</span>).style.display = <span class="hljs-string">&#x27;none&#x27;</span>;<br>    &#125;<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;div class&#x3D;&quot;callout callout-warning&quot; id&#x3D;&quot;postDateTitle&quot;&gt;<br>  &lt;p&gt;æ­¤æ–‡è·ç¦»æœ€åä¸€æ¬¡ç¼–è¾‘å·²ç»è¿‡å» &lt;span id&#x3D;&quot;postDateL&quot;&gt;0&lt;&#x2F;span&gt; å¤©ã€‚&lt;&#x2F;p&gt;<br>&lt;&#x2F;div&gt;<br><br>&lt;script&gt;<br>    var v_arr&#x3D;&quot;&lt;?php echo the_modified_date( &#39;Y-m-d&#39; );?&gt;&quot;; <br>    getCreateTime(v_arr);<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p>çœ‹åˆ°ä»£ç åº”è¯¥ä¸€ä¸‹å°±æ˜ç™½äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> v_arr=<span class="hljs-string">&quot;&lt;?php echo the_modified_date( &#x27;Y-m-d&#x27; );?&gt;&quot;</span>; <br></code></pre></td></tr></table></figure>

<p>é™„ä¸Š callout çš„ cssï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.callout</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;<br>  <span class="hljs-attribute">border-left-width</span>: <span class="hljs-number">5px</span>;<br>  <span class="hljs-attribute">border-left-color</span>: crimson;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">3px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.callout</span> <span class="hljs-selector-tag">p</span> &#123;<br>  <span class="hljs-attribute">margin-bottom</span>: auto;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/03/08/SmY6DOJ2QdBbG5V.png" alt="æ—¶é—´æç¤º"></p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>wordpress</tag>
      </tags>
  </entry>
  <entry>
    <title>Celery ä½¿ç”¨å°è®°</title>
    <url>/88.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/03/05/20/09/hurry-2119711__480.jpg"> Celery æ˜¯ä¸€ä¸ªç®€å•é«˜æ•ˆå¯é çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚åœ¨å¤„ç†å¤§é‡æ¶ˆæ¯ï¼Œå®æ—¶å¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼Œå®šæ—¶æ‰§è¡Œä»»åŠ¡ï¼Œæ”¯æŒä»»åŠ¡è°ƒåº¦ç­‰æ–¹é¢ä½¿ç”¨èµ·æ¥æ›´ä¸ºçµæ´»ã€‚ ç®€å•ç†è§£ Celery å°±æ˜¯å‘å¸ƒä»»åŠ¡(Producer)ï¼Œæ¶ˆæ¯ä¸­é—´ä»¶(Broker)æ¥æ”¶ä»»åŠ¡ï¼Œæ‰§è¡Œä»»åŠ¡(Worker)æˆ–å®šæ—¶æ‰§è¡Œä»»åŠ¡(Celery Beat)ã€‚</p>
<a id="more"></a>
<h1 id="ä»»åŠ¡é˜Ÿåˆ—"><a href="#ä»»åŠ¡é˜Ÿåˆ—" class="headerlink" title="ä»»åŠ¡é˜Ÿåˆ—"></a>ä»»åŠ¡é˜Ÿåˆ—</h1><p>ä»»åŠ¡é˜Ÿåˆ—ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä»»åŠ¡å·¥ä½œå•å…ƒçš„é›†åˆï¼Œé›†åˆä¸­å­˜æ”¾äº†ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ã€‚ ä½•æ—¶ä½¿ç”¨ä»»åŠ¡é˜Ÿåˆ—ï¼Ÿå‡å¦‚å½“å‰æˆ‘ä»¬éœ€è¦æ‰§è¡ŒæŸé¡¹ä»»åŠ¡ï¼Œä½†æ˜¯è¯¥ä»»åŠ¡æ¯”è¾ƒè€—æ—¶ï¼Œä¸”å¯ä»¥æ”¾åœ¨åå°æ‰§è¡Œï¼Œä¸ºäº†ä¸å½±å“å½“å‰æ“ä½œï¼Œæˆ‘ä»¬å°±æŠŠè¯¥ä»»åŠ¡æ”¾åœ¨ä»»åŠ¡é˜Ÿåˆ—ï¼Œç­‰å¾…è°ƒç”¨å’Œæ‰§è¡Œã€‚æœ€å¸¸ä½¿ç”¨çš„åœºæ™¯æ˜¯åœ¨ web å¼€å‘ä¸­ã€‚ä¾‹å¦‚æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªç”¨æˆ·è®¤è¯å‘é€ç”µå­é‚®ä»¶çš„åŠŸèƒ½ï¼Œå¦‚æœä¸ä½¿ç”¨å¼‚æ­¥æ‰§è¡Œï¼Œæˆ‘ä»¬éœ€è¦ç­‰å¾…ç”µå­é‚®ä»¶å‘é€å®Œæˆæ‰å¯æ‰§è¡Œä¸‹æ­¥æ“ä½œï¼Œä½†æ˜¯å‘é€é‚®ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œweb é¡µé¢ä¼šå¤„äºå‡æ­»çŠ¶æ€ï¼Œå½±å“ç”¨æˆ·ä½¿ç”¨ä½“éªŒã€‚ç®€å•çš„ web åº”ç”¨å¯ä»¥ç”¨å¤šçº¿ç¨‹æ¥å®Œæˆè¯¥ä»»åŠ¡ï¼Œä¸€æ—¦ä»»åŠ¡é‡åŠ é‡ï¼Œè¿˜æ˜¯éœ€è¦ä½¿ç”¨æ›´ä¸ºå¼ºå¤§çš„ Celeryã€‚ å®šæ—¶æ‰§è¡Œä»»åŠ¡ï¼Œå¯ä»¥ç†è§£ä¸º crontabã€‚</p>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>ä½¿ç”¨ Celery çš„ç¬¬ä¸€æ­¥å°±æ˜¯é€‰æ‹©æ¶ˆæ¯ä¸­é—´ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹© redisï¼Œä¸Šæ‰‹å¿«å¥½æ“ä½œã€‚</p>
<h2 id="å®‰è£…-redis"><a href="#å®‰è£…-redis" class="headerlink" title="å®‰è£… redis"></a>å®‰è£… redis</h2><p><a href="https://redis.io/download#installation">å®˜æ–¹æ–‡æ¡£</a>æœ‰è¯¦ç»†çš„æºç å®‰è£…è¯´æ˜ã€‚ è¿™é‡Œä»‹ç»åœ¨ Ubuntu 16.04 ä¸‹é€šè¿‡ apt å·¥å…·å®‰è£…ï¼š <code>apt-get install redis-server -y</code> å¯åŠ¨ redisï¼š <code>redis-server</code> æµ‹è¯•æ˜¯å¦æˆåŠŸå®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">âœ  ~ redis-cli<br>127.0.0.1:6379&gt; PING<br>PONG<br></code></pre></td></tr></table></figure>

<p>è¯´æ˜å®‰è£…æˆåŠŸã€‚ ç»ˆç«¯è¾“å…¥ï¼š <code>python3 -m pip install redis</code> è¿™æ ·æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ python æ“ä½œ redisã€‚</p>
<h2 id="å®‰è£…-Celery"><a href="#å®‰è£…-Celery" class="headerlink" title="å®‰è£… Celery"></a>å®‰è£… Celery</h2><p>ç»ˆç«¯æ‰§è¡Œï¼š <code>python3 -m pip install celery</code> è¿™æ ·å°±å®Œæˆäº† redis å’Œ Celery çš„å®‰è£…ã€‚</p>
<h1 id="ç®€å•åº”ç”¨"><a href="#ç®€å•åº”ç”¨" class="headerlink" title="ç®€å•åº”ç”¨"></a>ç®€å•åº”ç”¨</h1><p>å½“æˆ‘ä»¬å®‰è£…å¥½ redisï¼Œå¹¶å¯åŠ¨æœåŠ¡åï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ç”¨æ¥ç»ƒä¹  celeryã€‚ <code>mkdir celery_test</code> è¿›å…¥è¯¥ç›®å½•åï¼Œåˆ›å»ºæ–‡ä»¶ <code>test.py</code>ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> celery <span class="hljs-keyword">import</span> Celery<br><br><br>app = Celery(<br>    <span class="hljs-string">&#x27;hello&#x27;</span>,<br>    broker=<span class="hljs-string">&quot;redis://127.0.0.1:6379/1&quot;</span><br>)<br><br><span class="hljs-meta">@app.task</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hello</span>():</span><br>    <span class="hljs-comment"># è€—æ—¶éœ€è¦å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;hello world&#x27;</span><br></code></pre></td></tr></table></figure>

<p>è¿™å°±å®Œæˆäº† Celery çš„ç®€å•åº”ç”¨ã€‚ å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ æˆ‘ä»¬éœ€è¦åœ¨ç»ˆç«¯å¯åŠ¨ Celery æœåŠ¡ã€‚è¾“å…¥ï¼š <code>celery worker -A test --loglevel INFO</code> å¦‚æœçœ‹åˆ°ä»¥ä¸‹ç•Œé¢è¯´æ˜æˆåŠŸå¯åŠ¨ï¼ <img src="https://i.loli.net/2019/08/29/9nZkF73uJPfGh6v.png" alt="celery å¯åŠ¨ç•Œé¢"> ä½¿ç”¨ python shell ç®€å•è¯•ä¸€ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; from <span class="hljs-built_in">test</span> import hello<br>&gt;&gt;&gt; hello.delay()<br>&lt;AsyncResult: 182f57d7-71fc-4c61-b6b4-dbdd76ac4068&gt;<br></code></pre></td></tr></table></figure>

<p>ç„¶åæŸ¥çœ‹ Celeryï¼Œå¯ä»¥çœ‹åˆ°æœ€ä¸‹æ–¹æœ‰ä¸€ä¸ªæ–°çš„ Worker è¢«æ‰§è¡Œï¼š <img src="https://i.loli.net/2019/08/29/dAPzc2F6bHSGkvj.png" alt="ä»»åŠ¡è¢«æ‰§è¡Œ"> æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿè¿™æ ·å°±å®Œæˆäº† Celery çš„ç®€å•ä½¿ç”¨ã€‚</p>
<h1 id="ä½¿ç”¨é…ç½®æ–‡ä»¶"><a href="#ä½¿ç”¨é…ç½®æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨é…ç½®æ–‡ä»¶"></a>ä½¿ç”¨é…ç½®æ–‡ä»¶</h1><p>æˆ‘ä»¬å¯ä»¥å°† Celery ä»»åŠ¡å•ç‹¬åšæˆæ¨¡å—çš„å½¢å¼ï¼Œå¹¶é€šè¿‡é…ç½®æ–‡ä»¶æ¥é…ç½® Celeryã€‚ ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">.<br>â”œâ”€â”€ app<br>â”‚Â Â  â”œâ”€â”€ __init__.py<br>â”‚Â Â  â”œâ”€â”€ config.py<br>â”‚Â Â  â””â”€â”€ tasks.py<br>â””â”€â”€ test.py<br></code></pre></td></tr></table></figure>

<p><code>app</code> æ–‡ä»¶å¤¹ä¸‹å­˜æ”¾ Celery ç›¸å…³é…ç½®å’Œä»»åŠ¡ã€‚ <code>__init__.py</code> ç”¨æ¥åˆå§‹åŒ– Celeryï¼Œ<code>config.py</code> æ˜¯ Celery çš„é…ç½®æ–‡ä»¶ï¼Œ<code>tasks.py</code> å­˜æ”¾ä»»åŠ¡ã€‚ <code>test.py</code> ç”¨æ¥æµ‹è¯•æ‰§è¡Œä»»åŠ¡ã€‚</p>
<h2 id="init-py"><a href="#init-py" class="headerlink" title="init.py"></a><strong>init</strong>.py</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> celery <span class="hljs-keyword">import</span> Celery<br><br><br>app = Celery(<span class="hljs-string">&quot;hello&quot;</span>)<br><br><span class="hljs-comment"># ä½¿ç”¨é…ç½®æ–‡ä»¶</span><br>app.config_from_object(<span class="hljs-string">&quot;app.config&quot;</span>)<br></code></pre></td></tr></table></figure>

<h2 id="config-py"><a href="#config-py" class="headerlink" title="config.py"></a>config.py</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">Celery é…ç½®</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br>broker_url = <span class="hljs-string">&quot;redis://127.0.0.1:6379/1&quot;</span><br></code></pre></td></tr></table></figure>

<p>å¾ˆå¤šæ•™ç¨‹åŸºæœ¬ä½¿ç”¨éƒ½æ˜¯å¤§å†™é…ç½®ï¼Œä½†å®˜æ–¹æ–‡æ¡£ä¸­ä»‹ç»åœ¨ 4.0 ä»¥åå¼€å§‹æ¨èä½¿ç”¨å°å†™é…ç½®ï¼Œæ‰€ä»¥ä¾æ®æ–‡æ¡£è¿™é‡Œä½¿ç”¨å°å†™é…ç½®ã€‚ å…·ä½“æ›´å¤šè¯¦ç»†é…ç½®å¯ä»¥æŸ¥çœ‹<a href="http://docs.celeryproject.org/en/latest/userguide/configuration.html#new-lowercase-settings">Configuration and defaults</a>ã€‚</p>
<h2 id="tasks-py"><a href="#tasks-py" class="headerlink" title="tasks.py"></a>tasks.py</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> app <span class="hljs-keyword">import</span> app<br><br><br><span class="hljs-meta">@app.task</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hello</span>():</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello, world!&quot;</span><br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–‡ä»¶å­˜æ”¾è€—æ—¶ä»»åŠ¡ã€‚ åœ¨ç»ˆç«¯å¯åŠ¨ Celeryï¼š <code>celery worker -A app.tasks --loglevel INFO</code> å¯åŠ¨æˆåŠŸååœ¨ python shell ä¸­æµ‹è¯•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; from app import tasks<br>&gt;&gt;&gt; tasks.hello.delay()<br>&lt;AsyncResult: 3aaa9e64-66ea-42dc-bed7-b1921275e9f9&gt;<br></code></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ Celeryï¼Œå’Œä¹‹å‰ä¸€æ ·ï¼Œè¯´æ˜å°±æ‰§è¡ŒæˆåŠŸå•¦ï¼</p>
<h1 id="éƒ¨ç½²-Celery-å’Œ-redis"><a href="#éƒ¨ç½²-Celery-å’Œ-redis" class="headerlink" title="éƒ¨ç½² Celery å’Œ redis"></a>éƒ¨ç½² Celery å’Œ redis</h1><p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨ supervisor å¯åŠ¨å’Œç®¡ç† Celery å’Œ redis æœåŠ¡ã€‚ <code>pip install supervisor</code> å®‰è£…å®Œæˆåä¿®æ”¹é…ç½®æ–‡ä»¶ <code>/etc/supervisord.conf</code>ï¼ŒåŠ å…¥ä»¥ä¸‹é…ç½®ï¼ˆredis çš„é…ç½®è¦å†™åœ¨ Celery ä¹‹å‰ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs config">[program:redis]<br>user &#x3D; root<br>directory&#x3D;&#x2F;root&#x2F;celery_test<br>command&#x3D;redis-server<br>numprocs&#x3D;1<br>startsecs &#x3D; 5<br>startretries &#x3D; 3<br>autostart&#x3D;true<br>autorestart&#x3D;true<br>; stdout æ—¥å¿—æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„å½“æŒ‡å®šç›®å½•ä¸å­˜åœ¨æ—¶æ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ›å»ºç›®å½•ï¼ˆsupervisord ä¼šè‡ªåŠ¨åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼‰<br>stdout_logfile &#x3D; &#x2F;root&#x2F;logs&#x2F;redis_stdout.log<br><br>[program:celery_worker]<br>user &#x3D; root<br>directory&#x3D;&#x2F;root&#x2F;celery_test<br>command&#x3D;celery worker -A app.tasks --loglevel INFO --logfile &#x2F;root&#x2F;celery_worker.log<br>numprocs&#x3D;1<br>startsecs &#x3D; 5<br>startretries &#x3D; 3<br>autostart&#x3D;true<br>autorestart&#x3D;true<br>stdout_logfile &#x3D; &#x2F;root&#x2F;logs&#x2F;celery_stdout.log<br></code></pre></td></tr></table></figure>

<p>è¾“å…¥å‘½ä»¤å¯åŠ¨æœåŠ¡ï¼š <code>supervisord -c /etc/supervisord.conf</code> è¿™æ ·å°±å®Œæˆäº† redis å’Œ Celery çš„éƒ¨ç½²ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Celery</tag>
        <tag>ä»»åŠ¡é˜Ÿåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>Django URL Pattern å­¦ä¹ è®°å½•</title>
    <url>/90.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/yUBWREsLAOYSwcQ.jpg"> å­¦ä¹  Django æ–‡æ¡£çš„ URL éƒ¨åˆ†ï¼Œåšäº›ç¬”è®°ã€‚</p>
<a id="more"></a>
<h1 id="ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼"><a href="#ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼"></a>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</h1><p>ä½¿ç”¨<code>re_path()</code>æ¥é…ç½® URL è·¯å¾„ã€‚ åœ¨ Python æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå‘½åæ­£åˆ™è¡¨è¾¾å¼ç»„çš„è¯­æ³•æ˜¯(<code>?P&lt;name&gt;pattern</code>)ï¼Œå…¶ä¸­<code>name</code>æ˜¯åç§°ï¼Œ<code>pattern</code>æ˜¯è¦åŒ¹é…çš„æ¨¡å¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, re_path<br><br><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;articles/2003/&#x27;</span>, views.special_case_2003),<br>    re_path(<span class="hljs-string">r&#x27;^articles/(?P&lt;year&gt;[0-9]&#123;4&#125;)/$&#x27;</span>, views.year_archive),<br>    re_path(<span class="hljs-string">r&#x27;^articles/(?P&lt;year&gt;[0-9]&#123;4&#125;)/(?P&lt;month&gt;[0-9]&#123;2&#125;)/$&#x27;</span>, views.month_archive),<br>    re_path(<span class="hljs-string">r&#x27;^articles/(?P&lt;year&gt;[0-9]&#123;4&#125;)/(?P&lt;month&gt;[0-9]&#123;2&#125;)/(?P&lt;slug&gt;[\w-]+)/$&#x27;</span>, views.article_detail),<br>]<br></code></pre></td></tr></table></figure>

<h1 id="URL-pattern-å»é™¤å†—ä½™"><a href="#URL-pattern-å»é™¤å†—ä½™" class="headerlink" title="URL pattern å»é™¤å†—ä½™"></a>URL pattern å»é™¤å†—ä½™</h1><p>ä½¿ç”¨ urlpatterns çš„ <code>include</code> æ¨¡å—å¯ä»¥ç”¨æ¥å»é™¤ URLconf ä¸­çš„å†—ä½™ï¼Œå…¶ä¸­æŸä¸ªæ¨¡å¼å‰ç¼€è¢«é‡å¤ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;&lt;page_slug&gt;-&lt;page_id&gt;/history/&#x27;</span>, views.history),<br>    path(<span class="hljs-string">&#x27;&lt;page_slug&gt;-&lt;page_id&gt;/edit/&#x27;</span>, views.edit),<br>    path(<span class="hljs-string">&#x27;&lt;page_slug&gt;-&lt;page_id&gt;/discuss/&#x27;</span>, views.discuss),<br>    path(<span class="hljs-string">&#x27;&lt;page_slug&gt;-&lt;page_id&gt;/permissions/&#x27;</span>, views.permissions),<br>]<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥å°†ä¸Šè¾¹ä»£ç å—æ”¹ä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> include, path<br><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;&lt;page_slug&gt;-&lt;page_id&gt;/&#x27;</span>, include([<br>        path(<span class="hljs-string">&#x27;history/&#x27;</span>, views.history),<br>        path(<span class="hljs-string">&#x27;edit/&#x27;</span>, views.edit),<br>        path(<span class="hljs-string">&#x27;discuss/&#x27;</span>, views.discuss),<br>        path(<span class="hljs-string">&#x27;permissions/&#x27;</span>, views.permissions),<br>    ])),<br>]<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Django</tag>
        <tag>Webå¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title>Django ä¸­çš„å†…ç½®æ¨¡æ¿å’Œè¿‡æ»¤å™¨</title>
    <url>/89.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/yUBWREsLAOYSwcQ.jpg"> Django ä¸­çš„å†…ç½®æ¨¡æ¿å’Œè¿‡æ»¤å™¨ã€‚ <a href="https://docs.djangoproject.com/zh-hans/2.2/ref/templates/builtins/#ref-templates-builtins-tags">å®˜æ–¹æ–‡æ¡£</a></p>
<a id="more"></a>
<h1 id="for"><a href="#for" class="headerlink" title="for"></a>for</h1><figure class="highlight"><table><tr><td class="code"><pre><code class="hljs python">&lt;ul&gt;<br>&#123; % <span class="hljs-keyword">for</span> athlete <span class="hljs-keyword">in</span> athlete_list % &#125;<br>    &lt;li&gt;&#123; &#123; athlete.name &#125; &#125;&lt;/li&gt;<br>&#123; % endfor % &#125;<br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>

<h1 id="for-â€¦-empty"><a href="#for-â€¦-empty" class="headerlink" title="for â€¦ empty"></a>for â€¦ empty</h1><figure class="highlight"><table><tr><td class="code"><pre><code class="hljs python">&lt;ul&gt;<br>&#123; % <span class="hljs-keyword">for</span> athlete <span class="hljs-keyword">in</span> athlete_list % &#125;<br>    &lt;li&gt;&#123; &#123; athlete.name &#125; &#125;&lt;/li&gt;<br>&#123; % empty % &#125;<br>    &lt;li&gt;Sorry, no athletes in this list.&lt;/li&gt;<br>&#123; % endfor % &#125;<br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>

<h1 id="if"><a href="#if" class="headerlink" title="if"></a>if</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">&#123; % <span class="hljs-keyword">if</span> athlete_list % &#125;<br>    Number of athletes: &#123; &#123; athlete_list|length &#125; &#125;<br>&#123; % <span class="hljs-keyword">elif</span> athlete_in_locker_room_list % &#125;<br>    Athletes should be out of the locker room soon!<br>&#123; % <span class="hljs-keyword">else</span> % &#125;<br>    No athletes.<br>&#123; % endif % &#125;<br></code></pre></td></tr></table></figure>

<p>å…è®¸åœ¨åŒä¸€æ ‡è®°ä¸­ä½¿ç”¨ <code>and</code> å’Œ <code>or</code> å­å¥ï¼Œ<code>and</code> ä¼˜å…ˆçº§é«˜äº <code>or</code> ä¾‹å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">&#123; % <span class="hljs-keyword">if</span> athlete_list <span class="hljs-keyword">and</span> coach_list <span class="hljs-keyword">or</span> cheerleader_list % &#125;<br></code></pre></td></tr></table></figure>

<p>å°†è¢«è§£é‡Šä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> (athlete_list <span class="hljs-keyword">and</span> coach_list) <span class="hljs-keyword">or</span> cheerleader_list<br></code></pre></td></tr></table></figure>

<h1 id="templatetag"><a href="#templatetag" class="headerlink" title="templatetag"></a>templatetag</h1><p>ç”±äºæ¨¡æ¿ç³»ç»Ÿæ²¡æœ‰â€œè½¬ä¹‰â€çš„æ¦‚å¿µï¼Œå› æ­¤è¦æ˜¾ç¤ºæ¨¡æ¿æ ‡ç­¾ä¸­ä½¿ç”¨çš„å…¶ä¸­ä¸€ä¸ªä½ï¼Œå¿…é¡»ä½¿ç”¨è¯¥æ ‡ç­¾ã€‚<code>&#123; % templatetag % &#125;</code> å‚æ•°å‘Šè¯‰è¾“å‡ºå“ªä¸ªæ¨¡æ¿ä½ï¼š</p>
<p>äº‰è®º</p>
<p>è¾“å‡º</p>
<p>openblock</p>
<p>{ %</p>
<p>closeblock</p>
<p>% }</p>
<p>openvariable</p>
<p>{ {</p>
<p>closevariable</p>
<p>} }</p>
<p>openbrace</p>
<p>{</p>
<p>closebrace</p>
<p>}</p>
<p>opencomment</p>


<p>æ ·å“ç”¨æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">&#123; % templatetag openblock % &#125; url <span class="hljs-string">&#x27;entry_list&#x27;</span> &#123; % templatetag closeblock % &#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Django</tag>
        <tag>Webå¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title>Django ä¸­çš„è·¯å¾„è½¬æ¢å™¨</title>
    <url>/93.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/yUBWREsLAOYSwcQ.jpg"> åœ¨ä½¿ç”¨ Django é…ç½® URL è°ƒåº¦å™¨çš„æ—¶å€™ï¼Œå¤šå°‘ä¼šæ¶‰åŠåˆ° URL ä¸­å‚æ•°çš„ä½¿ç”¨ï¼Œé‚£ä¹ˆ Django ä¸­æœ‰å¤šå°‘è·¯å¾„è½¬æ¢å™¨å¯ä»¥ä½¿ç”¨å‘¢ï¼Ÿ</p>
<a id="more"></a>
<p>åŸæ–‡æ¡£å¯å‚è§ <a href="https://docs.djangoproject.com/zh-hans/2.2/topics/http/urls/#path-converters">path-converters</a> é»˜è®¤æƒ…å†µä¸‹ï¼Œä»¥ä¸‹è·¯å¾„è½¬æ¢å™¨å¯ç”¨ï¼š</p>
<h2 id="str"><a href="#str" class="headerlink" title="str"></a>str</h2><p>åŒ¹é…ä»»ä½•éç©ºå­—ç¬¦ä¸²ï¼Œä¸åŒ…æ‹¬è·¯å¾„åˆ†éš”ç¬¦â€™/â€˜ã€‚ å¦‚æœè½¬æ¢å™¨æœªè¡¨ç¤ºåœ¨è¡¨è¾¾å¼ä¸­ï¼Œåˆ™è¿™æ˜¯é»˜è®¤å€¼ã€‚</p>
<h2 id="path"><a href="#path" class="headerlink" title="path"></a>path</h2><p>åŒ¹é…ä»»ä½•éç©ºå­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬è·¯å¾„åˆ†éš”ç¬¦â€™/â€˜ã€‚ è¿™å…è®¸æ‚¨åŒ¹é…å®Œæ•´çš„ URL è·¯å¾„ï¼Œè€Œä¸æ˜¯åƒ str ä¸€æ ·åŒ¹é… URL è·¯å¾„çš„ä¸€éƒ¨åˆ†ã€‚</p>
<h2 id="int"><a href="#int" class="headerlink" title="int"></a>int</h2><p>åŒ¹é…é›¶æˆ–ä»»ä½•æ­£æ•´æ•°ã€‚ è¿”å›ä¸€ä¸ªintã€‚</p>
<h2 id="slug"><a href="#slug" class="headerlink" title="slug"></a>slug</h2><p>åŒ¹é…ç”± ASCII å­—æ¯æˆ–æ•°å­—ç»„æˆçš„ä»»ä½• slug å­—ç¬¦ä¸²ï¼Œä»¥åŠè¿å­—ç¬¦å’Œä¸‹åˆ’çº¿å­—ç¬¦ã€‚ ä¾‹å¦‚ï¼š<code>building-your-1st-django-site</code>ã€‚</p>
<h2 id="uuid"><a href="#uuid" class="headerlink" title="uuid"></a>uuid</h2><p>åŒ¹é…æ ¼å¼åŒ–çš„ UUIDã€‚ è¦é˜²æ­¢å¤šä¸ª URL æ˜ å°„åˆ°åŒä¸€é¡µé¢ï¼Œå¿…é¡»åŒ…å«çŸ­åˆ’çº¿ï¼Œå¹¶ä¸”å­—æ¯å¿…é¡»ä¸ºå°å†™ã€‚ ä¾‹å¦‚ï¼š<code>075194d3-6885-417e-a8a8-6c931e272f00</code>ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Django</tag>
        <tag>Webå¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title>Django ä½¿ç”¨æŒ‡å—â€”â€”ä½¿ç”¨è¡¨å•</title>
    <url>/92.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/yUBWREsLAOYSwcQ.jpg"> è¡¨å•æ˜¯ç½‘ç«™ä¸­æœ€æœ€å¸¸è§å’Œé‡è¦çš„åŠŸèƒ½äº†ï¼Œå¯ä»¥å®ç°ä¸ç”¨æˆ·äº¤äº’å’Œäº¤æ¢æ•°æ®ã€‚</p>
<a id="more"></a>
<p>åŸºæœ¬éƒ½æ˜¯çœ‹å®Œå®˜æ–¹æ–‡æ¡£åæ‘˜æŠ„çš„ï¼Œä¸ºäº†ä»¥åçœ‹çš„æ—¶å€™æ–¹ä¾¿ã€‚**è¯¦è§<a href="https://docs.djangoproject.com/zh-hans/2.2/topics/forms/">å®˜æ–¹æ–‡æ¡£</a>**ã€‚</p>
<h1 id="å­—æ®µæ•°æ®"><a href="#å­—æ®µæ•°æ®" class="headerlink" title="å­—æ®µæ•°æ®"></a>å­—æ®µæ•°æ®</h1><p>æ— è®ºç”¨è¡¨å•æäº¤äº†ä»€ä¹ˆæ•°æ®ï¼Œä¸€æ—¦é€šè¿‡è°ƒç”¨ <code>is_valid()</code> éªŒè¯æˆåŠŸï¼ˆ <code>is_valid()</code> è¿”å› <code>True</code> ï¼‰ï¼Œå·²éªŒè¯çš„è¡¨å•æ•°æ®å°†è¢«æ”¾åˆ° <code>form.cleaned_data</code> å­—å…¸ä¸­ã€‚è¿™é‡Œçš„æ•°æ®å·²ç»å¾ˆå¥½çš„ä¸ºä½ è½¬åŒ–ä¸ºPythonç±»å‹ï¼ˆå­—å…¸ï¼‰ã€‚ ä½¿ç”¨å®˜æ–¹æ–‡æ¡£ä¸­çš„ä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># forms.py</span><br><br><span class="hljs-keyword">from</span> django <span class="hljs-keyword">import</span> forms<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ContactForm</span>(<span class="hljs-params">forms.Form</span>):</span><br>    subject = forms.CharField(max_length=<span class="hljs-number">100</span>)<br>    message = forms.CharField(widget=forms.Textarea)<br>    sender = forms.EmailField()<br>    cc_myself = forms.BooleanField(required=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># views.py</span><br><br><span class="hljs-keyword">from</span> django.core.mail <span class="hljs-keyword">import</span> send_mail<br><br><br><span class="hljs-keyword">if</span> form.is_valid():<br>    subject = form.cleaned_data[<span class="hljs-string">&#x27;subject&#x27;</span>]<br>    message = form.cleaned_data[<span class="hljs-string">&#x27;message&#x27;</span>]<br>    sender = form.cleaned_data[<span class="hljs-string">&#x27;sender&#x27;</span>]<br>    cc_myself = form.cleaned_data[<span class="hljs-string">&#x27;cc_myself&#x27;</span>]<br><br>    recipients = [<span class="hljs-string">&#x27;info@example.com&#x27;</span>]<br>    <span class="hljs-keyword">if</span> cc_myself:<br>        recipients.append(sender)<br><br>    send_mail(subject, message, sender, recipients)<br>    <span class="hljs-keyword">return</span> HttpResponseRedirect(<span class="hljs-string">&#x27;/thanks/&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>cleaned_data</code> æå–æ•°æ®ï¼Œä¸å»ºè®®ç›´æ¥ä» <code>request.POST</code>ä¸­è·å–ã€‚</p>
<h1 id="æ‰‹åŠ¨æ¸²æŸ“è¡¨å•"><a href="#æ‰‹åŠ¨æ¸²æŸ“è¡¨å•" class="headerlink" title="æ‰‹åŠ¨æ¸²æŸ“è¡¨å•"></a>æ‰‹åŠ¨æ¸²æŸ“è¡¨å•</h1><p>ä½¿ç”¨ä¸Šè¾¹çš„ä¾‹å­ï¼Œå†™æ¨¡æ¿æ–‡ä»¶ï¼Œå•ç‹¬æ¸²æŸ“æ¯é¡¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123; &#123; form.non_field_errors &#125; &#125;<br>&lt;div class&#x3D;&quot;fieldWrapper&quot;&gt;<br>    &#123; &#123; form.subject.errors &#125; &#125;<br>    &lt;label for&#x3D;&quot;&#123; &#123; form.subject.id_for_label &#125; &#125;&quot;&gt;Email subject:&lt;&#x2F;label&gt;<br>    &#123; &#123; form.subject &#125; &#125;<br>&lt;&#x2F;div&gt;<br>&lt;div class&#x3D;&quot;fieldWrapper&quot;&gt;<br>    &#123; &#123; form.message.errors &#125; &#125;<br>    &lt;label for&#x3D;&quot;&#123; &#123; form.message.id_for_label &#125; &#125;&quot;&gt;Your message:&lt;&#x2F;label&gt;<br>    &#123; &#123; form.message &#125; &#125;<br>&lt;&#x2F;div&gt;<br>&lt;div class&#x3D;&quot;fieldWrapper&quot;&gt;<br>    &#123; &#123; form.sender.errors &#125; &#125;<br>    &lt;label for&#x3D;&quot;&#123; &#123; form.sender.id_for_label &#125; &#125;&quot;&gt;Your email address:&lt;&#x2F;label&gt;<br>    &#123; &#123; form.sender &#125; &#125;<br>&lt;&#x2F;div&gt;<br>&lt;div class&#x3D;&quot;fieldWrapper&quot;&gt;<br>    &#123; &#123; form.cc_myself.errors &#125; &#125;<br>    &lt;label for&#x3D;&quot;&#123; &#123; form.cc_myself.id_for_label &#125; &#125;&quot;&gt;CC yourself?&lt;&#x2F;label&gt;<br>    &#123; &#123; form.cc_myself &#125; &#125;<br>&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

<h1 id="å¸¸ç”¨çš„-field-å±æ€§"><a href="#å¸¸ç”¨çš„-field-å±æ€§" class="headerlink" title="å¸¸ç”¨çš„ field å±æ€§"></a>å¸¸ç”¨çš„ field å±æ€§</h1><h2 id="field-label"><a href="#field-label" class="headerlink" title="{ { field.label } }"></a>{ { field.label } }</h2><p>å­—æ®µçš„labelï¼Œæ¯”å¦‚ Email addressã€‚</p>
<h2 id="field-label-tag"><a href="#field-label-tag" class="headerlink" title="{ { field.label_tag } }"></a>{ { field.label_tag } }</h2><p>è¯¥å­—æ®µçš„labelå°è£…åœ¨ç›¸åº”çš„ HTML <code>&lt;label&gt;</code> æ ‡ç­¾ä¸­ã€‚å®ƒåŒ…å«è¡¨å•çš„ label_suffix ã€‚ä¾‹å¦‚ï¼Œé»˜è®¤çš„ label_suffix æ˜¯ä¸€ä¸ªå†’å·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;label for&#x3D;&quot;id_email&quot;&gt;Email address:&lt;&#x2F;label&gt;<br></code></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; f = ContactForm(auto_id=<span class="hljs-string">&#x27;id_for_%s&#x27;</span>, label_suffix=<span class="hljs-string">&#x27;&#x27;</span>)<br>&gt;&gt;&gt; <span class="hljs-built_in">print</span>(f.as_ul())<br>&lt;li&gt;&lt;label <span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;id_for_subject&quot;</span>&gt;Subject&lt;/label&gt; &lt;input id=<span class="hljs-string">&quot;id_for_subject&quot;</span> <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;subject&quot;</span> maxlength=<span class="hljs-string">&quot;100&quot;</span> required&gt;&lt;/li&gt;<br>&lt;li&gt;&lt;label <span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;id_for_message&quot;</span>&gt;Message&lt;/label&gt; &lt;input <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;message&quot;</span> id=<span class="hljs-string">&quot;id_for_message&quot;</span> required&gt;&lt;/li&gt;<br>&lt;li&gt;&lt;label <span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;id_for_sender&quot;</span>&gt;Sender&lt;/label&gt; &lt;input <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;email&quot;</span> name=<span class="hljs-string">&quot;sender&quot;</span> id=<span class="hljs-string">&quot;id_for_sender&quot;</span> required&gt;&lt;/li&gt;<br>&lt;li&gt;&lt;label <span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;id_for_cc_myself&quot;</span>&gt;Cc myself&lt;/label&gt; &lt;input <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> name=<span class="hljs-string">&quot;cc_myself&quot;</span> id=<span class="hljs-string">&quot;id_for_cc_myself&quot;</span>&gt;&lt;/li&gt;<br><br>&gt;&gt;&gt; f = ContactForm(auto_id=<span class="hljs-string">&#x27;id_for_%s&#x27;</span>, label_suffix=<span class="hljs-string">&#x27; -&gt;&#x27;</span>)<br>&gt;&gt;&gt; <span class="hljs-built_in">print</span>(f.as_ul())<br>&lt;li&gt;&lt;label <span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;id_for_subject&quot;</span>&gt;Subject -&gt;&lt;/label&gt; &lt;input id=<span class="hljs-string">&quot;id_for_subject&quot;</span> <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;subject&quot;</span> maxlength=<span class="hljs-string">&quot;100&quot;</span> required&gt;&lt;/li&gt;<br>&lt;li&gt;&lt;label <span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;id_for_message&quot;</span>&gt;Message -&gt;&lt;/label&gt; &lt;input <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;message&quot;</span> id=<span class="hljs-string">&quot;id_for_message&quot;</span> required&gt;&lt;/li&gt;<br>&lt;li&gt;&lt;label <span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;id_for_sender&quot;</span>&gt;Sender -&gt;&lt;/label&gt; &lt;input <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;email&quot;</span> name=<span class="hljs-string">&quot;sender&quot;</span> id=<span class="hljs-string">&quot;id_for_sender&quot;</span> required&gt;&lt;/li&gt;<br>&lt;li&gt;&lt;label <span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;id_for_cc_myself&quot;</span>&gt;Cc myself -&gt;&lt;/label&gt; &lt;input <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> name=<span class="hljs-string">&quot;cc_myself&quot;</span> id=<span class="hljs-string">&quot;id_for_cc_myself&quot;</span>&gt;&lt;/li&gt;<br></code></pre></td></tr></table></figure>

<h2 id="field-id-for-label"><a href="#field-id-for-label" class="headerlink" title="{ { field.id_for_label } }"></a>{ { field.id_for_label } }</h2><p>ç”¨äºè¯¥å­—æ®µçš„ IDï¼ˆåƒä¸Šé¢çš„ä¾‹å­ä¸­çš„ <code>id_email</code> ï¼‰ã€‚å¦‚æœæ‚¨è¦æ‰‹åŠ¨æ„å»º labelï¼Œæ‚¨å¯èƒ½è¦ç”¨è¿™ä¸ªæ¥æ›¿æ¢ <code>label_tag</code> ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€äº›å†…åµŒçš„ JavaScript å¹¶ä¸”æƒ³è¦é¿å…ç¡¬ç¼–ç å­—æ®µçš„ IDï¼Œè¿™ä¹Ÿå¾ˆæœ‰ç”¨ã€‚</p>
<h2 id="field-value"><a href="#field-value" class="headerlink" title="{ { field.value } }"></a>{ { field.value } }</h2><p>å­—æ®µçš„å€¼ã€‚ä¾‹å¦‚ <code>someone@example.com</code> ã€‚</p>
<h2 id="field-html-name"><a href="#field-html-name" class="headerlink" title="{ { field.html_name } }"></a>{ { field.html_name } }</h2><p>å­—æ®µåç§°ï¼šç”¨äºå…¶è¾“å…¥å…ƒç´ çš„ <code>name</code> å±æ€§ä¸­ã€‚å¦‚æœè®¾ç½®äº†è¡¨å•å‰ç¼€ï¼Œå®ƒä¹Ÿä¼šè¢«åŠ è¿›å»ã€‚</p>
<h2 id="field-help-text"><a href="#field-help-text" class="headerlink" title="{ { field.help_text } }"></a>{ { field.help_text } }</h2><p>ä¸è¯¥å­—æ®µå…³è”çš„å¸®åŠ©æ–‡æœ¬ã€‚</p>
<h2 id="field-errors"><a href="#field-errors" class="headerlink" title="{ { field.errors } }"></a>{ { field.errors } }</h2><p>è¾“å‡ºä¸€ä¸ªåŒ…å«å¯¹åº”è¯¥å­—æ®µæ‰€æœ‰éªŒè¯é”™è¯¯ä¿¡æ¯çš„ <code>&lt;ul class=&quot;errorlist&quot;&gt;</code> ã€‚ æ‚¨å¯ä»¥ç”¨ <code>&#123; % for error in field.errors % &#125;</code> å¾ªç¯æ¥è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯çš„æ˜¾ç¤ºã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¾ªç¯ä¸­çš„æ¯ä¸ªå¯¹è±¡åªæ˜¯ä¸€ä¸ªåŒ…å«é”™è¯¯ä¿¡æ¯çš„ç®€å•å­—ç¬¦ä¸²ã€‚</p>
<h2 id="field-is-hidden"><a href="#field-is-hidden" class="headerlink" title="{ { field.is_hidden } }"></a>{ { field.is_hidden } }</h2><p>å¦‚æœæ˜¯éšè—å­—æ®µï¼Œè¿™ä¸ªå±æ€§ä¸º <code>True</code> ï¼Œå¦åˆ™ä¸º <code>False</code> ã€‚</p>
<h2 id="field-field"><a href="#field-field" class="headerlink" title="{ { field.field } }"></a>{ { field.field } }</h2><p>è¡¨å•ç±»ä¸­çš„ <code>Field</code> å®ä¾‹ç”± <code>BoundField</code> å°è£…ã€‚æ‚¨å¯ä»¥ç”¨å®ƒæ¥è®¿é—® <code>Field</code> çš„å±æ€§ï¼Œæ¯”å¦‚ <code>&#123; &#123; char_field.field.max_length &#125; &#125;</code> ã€‚</p>
<h1 id="å¤ç”¨è¡¨å•æ¨¡æ¿"><a href="#å¤ç”¨è¡¨å•æ¨¡æ¿" class="headerlink" title="å¤ç”¨è¡¨å•æ¨¡æ¿"></a>å¤ç”¨è¡¨å•æ¨¡æ¿</h1><p>ç½‘ç«™åœ¨å¤šä¸ªä½ç½®å¯¹è¡¨å•ä½¿ç”¨ç›¸åŒçš„æ¸²æŸ“é€»è¾‘ï¼Œå¯ä»¥å°†è¡¨å•ä¿å­˜åˆ°ç‹¬ç«‹çš„æ¨¡æ¿ä¸­ï¼Œç„¶ååœ¨å…¶ä»–æ¨¡æ¿ä¸­ä½¿ç”¨ <code>include</code> æ ‡ç­¾æ¥å‡å°‘ä»£ç é‡å¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup"># In your form template:<br># è°ƒç”¨è¡¨å•æ¨¡æ¿<br>&#123; % include &quot;form_snippet.html&quot; % &#125;<br><br><br># In form_snippet.html:<br># å¯å¤ç”¨è¡¨å•<br>&#123; % for field in form % &#125;<br>    &lt;div class&#x3D;&quot;fieldWrapper&quot;&gt;<br>        &#123; &#123; field.errors &#125; &#125;<br>        &#123; &#123; field.label_tag &#125; &#125; &#123; &#123; field &#125; &#125;<br>    &lt;&#x2F;div&gt;<br>&#123; % endfor % &#125;<br></code></pre></td></tr></table></figure>

<p>å¦‚æœä¼ é€’ç»™æ¨¡æ¿çš„è¡¨å•å¯¹è±¡åœ¨ä¸Šä¸‹æ–‡ä¸­å…·æœ‰ä¸åŒçš„åç§°ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>include</code> æ ‡ç­¾çš„ <code>with</code> å±æ€§æ¥ç»™å®ƒå–åˆ«åã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">&#123; % include <span class="hljs-string">&quot;form_snippet.html&quot;</span> <span class="hljs-keyword">with</span> form=comment_form % &#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Django</tag>
        <tag>Webå¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker é•œåƒä¸‹è½½æ…¢æ€ä¹ˆåŠ</title>
    <url>/94.html</url>
    <content><![CDATA[<p>å›½å†…ä½¿ç”¨ docker ä¸‹è½½é•œåƒé€Ÿåº¦éå¸¸æ…¢ã€‚</p>
<a id="more"></a>
<p>Registry mirrors ä¸­è¾“å…¥ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">&quot;registry-mirrors&quot;</span>: [<br>    <span class="hljs-string">&quot;http://f1361db2.m.daocloud.io&quot;</span>,<br>    <span class="hljs-string">&quot;https://dockerhub.azk8s.cn&quot;</span>,<br>    <span class="hljs-string">&quot;https://hub-mirror.c.163.com&quot;</span><br>  ],<br></code></pre></td></tr></table></figure>

<p>è®¾ç½®å¥½é‡å¯ã€‚</p>
<p><img src="https://i.loli.net/2020/02/09/zGDIE6Qfmys2WKA.png"></p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Flask è¡¨å•</title>
    <url>/215.html</url>
    <content><![CDATA[<p>è¯´èµ· HTML è¡¨å•ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œåªè¦æµè§ˆç½‘é¡µï¼Œå¤šå¤šå°‘å°‘ä¸€å®šä¼šä½¿ç”¨åˆ°è¡¨å•åŠŸèƒ½ã€‚æ¯”å¦‚è¯´ç™»å½•ï¼Œç•™è¨€ï¼Œæ’°å†™æ–‡ç« ç­‰ï¼Œæœ‰è¾“å…¥å’Œæäº¤çš„åœ°æ–¹å°±æœ‰è¡¨å•ã€‚è¿™ä¹ˆå¸¸ç”¨çš„åŠŸèƒ½ï¼Œå·²ç»æœ‰å¼ºå¤§çš„ <a href="https://wtforms.readthedocs.io/en/stable/index.html">WTForms</a> æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆè¿™é¡¹å·¥ä½œï¼Œå’Œä¹‹å‰ä¸€æ ·ï¼ŒFlask åŒæ ·æœ‰æ’ä»¶å·²ç»é›†æˆäº† WTFormsï¼Œå¹¶ä¸”åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¢åŠ äº†è·¨ç«™è¯·æ±‚ä¼ªé€ ä¿æŠ¤ï¼ˆCSRFï¼‰ï¼Œé¢„é˜² SQL æ³¨å…¥æ”»å‡»ï¼Œæ–‡ä»¶ä¸Šä¼ å’Œ reCAPTCHA ç­‰ï¼Œè¿™æ¬¾æ’ä»¶å°±æ˜¯ <a href="https://flask-wtf.readthedocs.io/en/stable/">Flask-WTF</a>ï¼Œè®©æˆ‘ä»¬åœ¨è¡¨å•å¤„ç†æ–¹é¢æ›´æ„‰æ‚¦ã€‚</p>
<a id="more"></a>
<h1 id="Flask-WTF"><a href="#Flask-WTF" class="headerlink" title="Flask-WTF"></a>Flask-WTF</h1><p><img src="https://i.loli.net/2020/02/17/6TMFPdAhrLcQnlE.png" alt="ç™»å½•é¡µé¢"></p>
<p>å¦‚å›¾ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„è¡¨å•ï¼Œå¯ä»¥å®ç°ç™»å½•å’Œè®°ä½ç”¨æˆ·çš„åŠŸèƒ½ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åšçš„äº‹æ˜¯ä½¿ç”¨ Flask-WTF æŠŠè¿™éƒ¨åˆ† HTML è¡¨ç¤ºå‡ºæ¥ï¼Œå¹¶ä¼ é€’åˆ°æ¨¡æ¿ä¸­ã€‚</p>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">pipenv install flask-wtf<br></code></pre></td></tr></table></figure>

<h1 id="è·¨ç«™è¯·æ±‚ä¼ªé€ ä¿æŠ¤"><a href="#è·¨ç«™è¯·æ±‚ä¼ªé€ ä¿æŠ¤" class="headerlink" title="è·¨ç«™è¯·æ±‚ä¼ªé€ ä¿æŠ¤"></a>è·¨ç«™è¯·æ±‚ä¼ªé€ ä¿æŠ¤</h1><p>è·¨ç«™è¯·æ±‚æ”»å‡»ï¼Œç®€å•åœ°è¯´ï¼Œæ˜¯æ”»å‡»è€…é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µæ¬ºéª—ç”¨æˆ·çš„æµè§ˆå™¨å»è®¿é—®ä¸€ä¸ªè‡ªå·±æ›¾ç»è®¤è¯è¿‡çš„ç½‘ç«™å¹¶è¿è¡Œä¸€äº›æ“ä½œï¼ˆå¦‚å‘é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç”šè‡³è´¢äº§æ“ä½œå¦‚è½¬è´¦å’Œè´­ä¹°å•†å“ï¼‰ã€‚ç”±äºæµè§ˆå™¨æ›¾ç»è®¤è¯è¿‡ï¼Œæ‰€ä»¥è¢«è®¿é—®çš„ç½‘ç«™ä¼šè®¤ä¸ºæ˜¯çœŸæ­£çš„ç”¨æˆ·æ“ä½œè€Œå»è¿è¡Œã€‚è¿™åˆ©ç”¨äº† web ä¸­ç”¨æˆ·èº«ä»½éªŒè¯çš„ä¸€ä¸ªæ¼æ´ï¼šç®€å•çš„èº«ä»½éªŒè¯åªèƒ½ä¿è¯è¯·æ±‚å‘è‡ªæŸä¸ªç”¨æˆ·çš„æµè§ˆå™¨ï¼Œå´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„ã€‚ï¼ˆ<a href="https://zh.wikipedia.org/zh-cn/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0">ç»´åŸºç™¾ç§‘</a>ï¼‰</p>
<p>æˆ‘ä»¬éœ€è¦é…ç½®ä¸€ä¸ªå¯†é’¥æ¥å®ç° CSRFã€‚è¿™ä¸ªå¯†é’¥å°±æ˜¯ä¸€ä¸ªå¤æ‚çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœä½ çš„ç”µè„‘é‡Œæœ‰å¯†ç ç®¡ç†è½¯ä»¶ï¼Œé‚£ä¹ˆéå¸¸æ–¹ä¾¿ï¼Œéšæœºç”Ÿæˆä¸€ä¸ªå°±å¯ä»¥ï¼Œä¾‹å¦‚è¿™æ ·ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">k&#123;/p9qw9vk4[x79XeZ7c8(q,y,g[Vs<br></code></pre></td></tr></table></figure>

<p>è®¾ç½®å¯†é’¥ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">app.secret_key = <span class="hljs-string">&quot;k&#123;/p9qw9vk4[x79XeZ7c8(q,y,g[Vs&quot;</span><br></code></pre></td></tr></table></figure>

<p>å¦‚æœæŠŠå¯†é’¥å†™å…¥ç¯å¢ƒå˜é‡ï¼Œç„¶åè¯»å–ä½¿ç”¨ä¼šæ›´åŠ å®‰å…¨ã€‚</p>
<h1 id="åˆ›å»ºè¡¨å•"><a href="#åˆ›å»ºè¡¨å•" class="headerlink" title="åˆ›å»ºè¡¨å•"></a>åˆ›å»ºè¡¨å•</h1><p>app.py ä»£ç ï¼Œåˆ›å»ºè¡¨å•å®ä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template<br><span class="hljs-keyword">from</span> flask_bootstrap <span class="hljs-keyword">import</span> Bootstrap<br><span class="hljs-keyword">from</span> flask_wtf <span class="hljs-keyword">import</span> FlaskForm<br><span class="hljs-keyword">from</span> wtforms <span class="hljs-keyword">import</span> (StringField, PasswordField, <br>                     BooleanField, SubmitField)<br><br>app = Flask(__name__)<br>bootstrap = Bootstrap(app)<br>app.secret_key = <span class="hljs-string">&quot;k&#123;/p9qw9vk4[x79XeZ7c8(q,y,g[Vs&quot;</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginForm</span>(<span class="hljs-params">FlaskForm</span>):</span><br>    username = StringField(<span class="hljs-string">&quot;ç”¨æˆ·å&quot;</span>)<br>    password = PasswordField(<span class="hljs-string">&quot;å¯†ç &quot;</span>)<br>    remember_me = BooleanField(<span class="hljs-string">&quot;è®°ä½æˆ‘&quot;</span>)<br>    submit = SubmitField(<span class="hljs-string">&quot;ç™»å½•&quot;</span>)<br><br><span class="hljs-meta">@app.route(&quot;/&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    login_form = LoginForm()<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, login_form=login_form)<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº† StringFieldï¼ŒPasswordFieldï¼ŒBooleanFieldï¼ŒSubmitField å››ç§å­—æ®µç±»å‹ï¼Œåˆ†åˆ«æ˜¯æ–‡æœ¬å­—æ®µï¼Œå¯†ç å­—æ®µï¼Œå¤é€‰æ¡†å’Œæäº¤æŒ‰é’®ã€‚<a href="https://wtforms.readthedocs.io/en/stable/fields.html">æ›´å¤šå­—æ®µç±»å‹å¯ä»¥å‚è€ƒæ­¤æ–‡æ¡£</a>ã€‚</p>
<p>index.html ä»£ç ï¼Œæ¸²æŸ“ login_form è¡¨å•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% extends &quot;base.html&quot; %&#125;<br><br>&#123;% block title %&#125;<br>é¦–é¡µ<br>&#123;% endblock %&#125;<br><br>&#123;% block body %&#125;<br>&#123;&#123; login_form.csrf_token &#125;&#125;<br>&lt;p&gt;<br>    &#123;&#123; login_form.username.label &#125;&#125;<br>    &#123;&#123; login_form.username &#125;&#125;<br>&lt;&#x2F;p&gt;<br>&lt;p&gt;<br>    &#123;&#123; login_form.password.label &#125;&#125;<br>    &#123;&#123; login_form.password &#125;&#125;<br>&lt;&#x2F;p&gt;<br>&lt;p&gt;<br>    &#123;&#123; login_form.remember_me.label &#125;&#125;<br>    &#123;&#123; login_form.remember_me &#125;&#125;<br>&lt;&#x2F;p&gt;<br>&lt;p&gt;<br>    &#123;&#123; login_form.submit &#125;&#125;<br>&lt;&#x2F;p&gt;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<p><strong>è®°å¾—å†™å…¥éšè—å­—æ®µï¼š<code>&#123;&#123; login_form.csrf_token &#125;&#125;</code></strong></p>
<p>è¿™ä¸ªä¸ä¼šåœ¨é¡µé¢ä¸Šæ˜¾ç¤ºï¼Œä½†æ˜¯æ­£æ˜¯å› ä¸ºè¿™è¡Œä»£ç è®© CSRF ç”Ÿæ•ˆã€‚</p>
<p>è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://i.loli.net/2020/02/19/AFyxQKNMaEGgeU2.png" alt="è¡¨å•æ¸²æŸ“"></p>
<p>ä½†æ˜¯çœ‹èµ·æ¥å¾ˆä¸ç¾è§‚ï¼Œæˆ‘ä»¬å·²ç»é›†æˆäº† Bootstrapï¼Œè¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ</p>
<p>ä½¿ç”¨è¡¨å•å­—æ®µçš„ <code>render_kw</code> å±æ€§æ¥ç”Ÿæˆ HTML å±æ€§ã€‚ä¿®æ”¹ app.py ä¸­è¡¨å•éƒ¨åˆ†çš„ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginForm</span>(<span class="hljs-params">FlaskForm</span>):</span><br>    username = StringField(<span class="hljs-string">&quot;ç”¨æˆ·å&quot;</span>, render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;form-control&quot;</span>, <span class="hljs-string">&quot;placeholder&quot;</span>: <span class="hljs-string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span>&#125;)<br>    password = PasswordField(<span class="hljs-string">&quot;å¯†ç &quot;</span>, render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;form-control&quot;</span>, <span class="hljs-string">&quot;placeholder&quot;</span>: <span class="hljs-string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>&#125;)<br>    remember_me = BooleanField(<span class="hljs-string">&quot;è®°ä½æˆ‘&quot;</span>)<br>    submit = SubmitField(<span class="hljs-string">&quot;ç™»å½•&quot;</span>, render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;btn btn-primary&quot;</span>&#125;)<br></code></pre></td></tr></table></figure>

<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://i.loli.net/2020/02/19/Jq8Y2tnL3VCEADI.png" alt="ä½¿ç”¨bs"></p>
<p>æ˜¯ä¸æ˜¯ä¸€ä¸‹ç¾è§‚äº†è®¸å¤šã€‚</p>
<p>å¯èƒ½å…¶ä»–æ•™ç¨‹ä¼šæä¾›ç¬¬äºŒç§æ·»åŠ å±æ€§çš„åŠæ³•ï¼Œæ˜¯åœ¨æ¨¡æ¿ä¸­æ“ä½œçš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;&#123; login_form.username(class&#x3D;&quot;form-control&quot;, placeholder&#x3D;&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;) &#125;&#125;<br></code></pre></td></tr></table></figure>

<p>ä½†æ˜¯æˆ‘ä¸ªäººå¹¶ä¸æ¨èè¿™ç§å†™æ³•ã€‚æˆ‘è®¤ä¸ºæ¨¡æ¿çš„åŠŸèƒ½æ˜¯æ¥å—å‚æ•°å¹¶æ¸²æŸ“é¡µé¢ï¼Œä½¿ç”¨å°‘é‡è¿‡æ»¤å™¨å³å¯ã€‚è™½ç„¶æ ‡ç­¾å±æ€§å±äº HTMLï¼Œä½†æ˜¯èƒ½è®©è¡¨å•ç±»å¤„ç†çš„æœ€å¥½ä¸è¦äº¤ç»™æ¨¡æ¿ã€‚è€Œä¸”äº¤ç»™è¡¨å•ç±»å¯ä»¥è®©ä»£ç å¾ˆç›´è§‚ï¼Œå¹¶ä¸å¤æ‚ã€‚ä¸ä»…å¥½ç»´æŠ¤ï¼Œçœ‹èµ·æ¥ä¹Ÿéå¸¸é¡ºçœ¼ã€‚</p>
<h1 id="éªŒè¯å™¨"><a href="#éªŒè¯å™¨" class="headerlink" title="éªŒè¯å™¨"></a>éªŒè¯å™¨</h1><p>ç”¨æˆ·å¡«å†™å®Œè¡¨å•ï¼Œæˆ‘ä»¬éœ€è¦åšè¡¨å•æ ¡éªŒå·¥ä½œï¼Œè¿™é‡Œå°±ç”¨åˆ°äº†éªŒè¯å™¨ã€‚ä¾‹å¦‚æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨è¡¨å•çš„æ—¶å€™ï¼Œä¼šé‡åˆ°åªèƒ½å¡«å…¥æ•°å­—ï¼Œåªèƒ½å¡«å…¥è‹±æ–‡å­—æ¯å’Œæ•°å­—ï¼Œå­—æ®µæ˜¯å¦æ˜¯å¿…å¡«é¡¹ï¼Œæœ‰çš„éœ€è¦é™åˆ¶æ•°æ®é•¿åº¦ï¼Œæ•°æ®æ ¼å¼ç­‰ç­‰ï¼Œéƒ½éœ€è¦ç”¨åˆ°éªŒè¯å™¨ã€‚</p>
<p>ä½¿ç”¨ WTForms æä¾›çš„éªŒè¯å™¨ï¼Œå¯ä»¥è®©æˆ‘ä»¬ä¸ç”¨è€ƒè™‘å¦‚ä½•ç¼–å†™ HTMl å±æ€§ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å¯¼å…¥éªŒè¯å™¨ï¼Œä½œä¸ºå­—æ®µå‚æ•°ä½¿ç”¨ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> wtforms.validators <span class="hljs-keyword">import</span> DataRequired<br><br>username = StringField(<span class="hljs-string">&quot;ç”¨æˆ·å&quot;</span>, validators=[DataRequired()])<br></code></pre></td></tr></table></figure>

<p>ä¾‹å¦‚è¿™éƒ¨åˆ†ä»£ç å°±æ˜¯å¼•å…¥å¿…å¡«å­—æ®µéªŒè¯å™¨å¹¶ä½¿ç”¨ã€‚</p>
<p>åœ¨ HTML ä¸­æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;input class&#x3D;&quot;form-control&quot; id&#x3D;&quot;username&quot; name&#x3D;&quot;username&quot; placeholder&#x3D;&quot;è¯·è¾“å…¥å¯†ç &quot; type&#x3D;&quot;text&quot; value&#x3D;&quot;&quot; required&gt;<br></code></pre></td></tr></table></figure>

<p>å¦‚æœåœ¨æäº¤çš„æ—¶å€™è¿™ä¸ªå­—æ®µæ²¡æœ‰æ•°æ®ï¼Œå°±ä¼šæç¤ºå­—æ®µä¸èƒ½ä¸ºç©ºã€‚</p>
<p>å¸¸ç”¨çš„éªŒè¯å™¨ï¼š</p>
<p>éªŒè¯å™¨</p>
<p>è¯´æ˜</p>
<p>Email</p>
<p>éªŒè¯ç”µå­é‚®ä»¶åœ°å€</p>
<p>EqualTo</p>
<p>æ¯”è¾ƒä¸¤å­—æ®µçš„å€¼æ˜¯å¦ç›¸åŒï¼Œä¾‹å¦‚æ³¨å†Œæ—¶äºŒæ¬¡è¾“å…¥å¯†ç </p>
<p>Length(min=-1, max=-1)</p>
<p>åˆ¤æ–­è¾“å…¥å­—æ®µçš„é•¿åº¦</p>
<p>NumberRange</p>
<p>åˆ¤æ–­è¾“å…¥æ•°å­—çš„èŒƒå›´</p>
<p>Required</p>
<p>ç¡®ä¿å­—æ®µä¸­æœ‰æ•°æ®</p>
<p>URL</p>
<p>éªŒè¯ URL</p>
<p>Regexp</p>
<p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯è¾“å…¥å€¼</p>
<p>å¦‚æœæ²¡æœ‰åˆé€‚çš„éªŒè¯å™¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰éªŒè¯å™¨ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> wtforms.validators <span class="hljs-keyword">import</span> ValidationError<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">url_is_https</span>(<span class="hljs-params">form, field</span>):</span><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    éªŒè¯ URL æ˜¯å¦ https å¼€å¤´</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> field.startswith(<span class="hljs-string">&quot;https&quot;</span>):<br>        <span class="hljs-keyword">return</span> ValidationError(<span class="hljs-string">&quot;URL å¿…é¡»ä½¿ç”¨ httpsï¼&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨èµ·æ¥å’Œå†…ç½®éªŒè¯å™¨ä¸€æ ·ã€‚</p>
<h1 id="å¤„ç†é”™è¯¯æ¶ˆæ¯"><a href="#å¤„ç†é”™è¯¯æ¶ˆæ¯" class="headerlink" title="å¤„ç†é”™è¯¯æ¶ˆæ¯"></a>å¤„ç†é”™è¯¯æ¶ˆæ¯</h1><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æ›´æ–°ä»£ç æ¥å®ç°é”™è¯¯æ¶ˆæ¯çš„å±•ç¤ºã€‚å°†ç™»å½•ä¿¡æ¯æ”¹ä¸ºç”µå­é‚®ç®±ç™»å½•ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template, flash<br><span class="hljs-keyword">from</span> flask_bootstrap <span class="hljs-keyword">import</span> Bootstrap<br><span class="hljs-keyword">from</span> flask_wtf <span class="hljs-keyword">import</span> FlaskForm<br><span class="hljs-keyword">from</span> wtforms <span class="hljs-keyword">import</span> StringField, PasswordField, BooleanField, SubmitField<br><span class="hljs-keyword">from</span> wtforms.validators <span class="hljs-keyword">import</span> Email, DataRequired<br><br>app = Flask(__name__)<br>bootstrap = Bootstrap(app)<br>app.secret_key = <span class="hljs-string">&quot;k&#123;/p9qw9vk4[x79XeZ7c8(q,y,g[Vs&quot;</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginForm</span>(<span class="hljs-params">FlaskForm</span>):</span><br>    username = StringField(<span class="hljs-string">&quot;ç”µå­é‚®ç®±&quot;</span>, render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;form-control&quot;</span>, <span class="hljs-string">&quot;placeholder&quot;</span>: <span class="hljs-string">&quot;è¯·è¾“å…¥ç”µå­é‚®ç®±&quot;</span>&#125;,<br>                           validators=[Email(), DataRequired()])<br>    password = PasswordField(<span class="hljs-string">&quot;å¯†ç &quot;</span>, render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;form-control&quot;</span>, <span class="hljs-string">&quot;placeholder&quot;</span>: <span class="hljs-string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>&#125;,<br>                             validators=[DataRequired()])<br>    remember_me = BooleanField(<span class="hljs-string">&quot;è®°ä½æˆ‘&quot;</span>)<br>    submit = SubmitField(<span class="hljs-string">&quot;ç™»å½•&quot;</span>, render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;btn btn-primary&quot;</span>&#125;)<br><br><span class="hljs-meta">@app.route(&quot;/&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;])</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    login_form = LoginForm()<br>    <span class="hljs-keyword">if</span> login_form.validate_on_submit():<br>        flash(<span class="hljs-string">&quot;è¡¨å•æäº¤æˆåŠŸ!&quot;</span>)<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, login_form=login_form)<br></code></pre></td></tr></table></figure>

<p>index.html å¢åŠ äº†å†…ç½®çš„æ¶ˆæ¯æç¤ºå’Œé”™è¯¯æç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% extends &quot;base.html&quot; %&#125;<br><br>&#123;% block title %&#125;<br>é¦–é¡µ<br>&#123;% endblock %&#125;<br><br>&#123;% block body %&#125;<br><br>&#123;% for msg in get_flashed_messages() %&#125;<br>&lt;div class&#x3D;&quot;alert alert-success&quot; role&#x3D;&quot;alert&quot;&gt;<br>    &#123;&#123; msg &#125;&#125;<br>&lt;&#x2F;div&gt;<br>&#123;% endfor %&#125;<br><br>&lt;form method&#x3D;&quot;post&quot;&gt;<br>    &#123;&#123; login_form.csrf_token &#125;&#125;<br>    &lt;p&gt;<br>        &#123;&#123; login_form.username.label &#125;&#125;<br>        &#123;&#123; login_form.username &#125;&#125;<br><br>        &#123;% for err in login_form.username.errors %&#125;<br>            &lt;small class&#x3D;&quot;text-danger&quot;&gt;&#123;&#123; err &#125;&#125;&lt;&#x2F;small&gt;<br>        &#123;% endfor %&#125;<br>    &lt;&#x2F;p&gt;<br>    &lt;p&gt;<br>        &#123;&#123; login_form.password.label &#125;&#125;<br>        &#123;&#123; login_form.password &#125;&#125;<br>    &lt;&#x2F;p&gt;<br>    &lt;p&gt;<br>        &#123;&#123; login_form.remember_me.label &#125;&#125;<br>        &#123;&#123; login_form.remember_me &#125;&#125;<br>    &lt;&#x2F;p&gt;<br>    &lt;p&gt;<br>        &#123;&#123; login_form.submit &#125;&#125;<br>    &lt;&#x2F;p&gt;<br>&lt;&#x2F;form&gt;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·åœ¨æˆ‘ä»¬æ²¡æœ‰å¡«å†™ Email æˆ–è€…æ ¼å¼ä¸æ­£ç¡®å°±ä¼šçœ‹åˆ°é”™è¯¯æç¤ºï¼š</p>
<p><img src="https://i.loli.net/2020/02/19/EeocPBAUjQDKRfZ.png" alt="é”™è¯¯æç¤º"></p>
<p>ä¼šçœ‹åˆ°æç¤º**Invalid email address.**ã€‚åªä¸è¿‡æ˜¯è‹±æ–‡çš„ï¼Œæ€ä¹ˆæ”¹æˆä¸­æ–‡çš„å‘¢ï¼Ÿ</p>
<p>éœ€è¦æ”¹åŠ¨ä»¥ä¸‹éƒ¨åˆ†ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">app.config[<span class="hljs-string">&quot;WTF_I18N_ENABLED&quot;</span>] = <span class="hljs-literal">False</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseForm</span>(<span class="hljs-params">FlaskForm</span>):</span><br><br>    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Meta</span>:</span><br>        locales = [<span class="hljs-string">&quot;zh&quot;</span>]<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginForm</span>(<span class="hljs-params">BaseForm</span>):</span><br>    ...<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬éœ€è¦ç¼–å†™åŸºç±»ç»§æ‰¿ <code>FlaskForm</code>ï¼Œå®šä¹‰ <code>Meta</code> ç±»ï¼Œç„¶ååœ¨è¡¨å•ç»„ä»¶ç»§æ‰¿æˆ‘ä»¬åˆ›å»ºçš„åŸºç±»ã€‚</p>
<p><img src="https://i.loli.net/2020/02/19/OsSRxoGWk49XKMq.png" alt="é”™è¯¯æ˜¾ç¤ºä¸­æ–‡"></p>
<p>å¯ä»¥çœ‹åˆ°å·²ç»å˜æˆä¸­æ–‡äº†ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æ¯ä¸ªæ ‡ç­¾éƒ½è¦å¤„ç†é”™è¯¯æ¶ˆæ¯ï¼Œä¼šäº§ç”Ÿå¤§é‡é‡å¤çš„ä»£ç ã€‚è¿˜è®°å¾—æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„å®å—ï¼Ÿå¯ä»¥ä½¿ç”¨å®å¤§å¹…å‡å°‘ä»£ç é‡ã€‚</p>
<p>ç¼–å†™å®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% macro form_data(form_field) %&#125;<br>&lt;p&gt;<br>    &#123;&#123; form_field.label &#125;&#125;<br>    &#123;&#123; form_field &#125;&#125;<br>    &#123;% for err in form_field.errors %&#125;<br>    &lt;small class&#x3D;&quot;text-danger&quot;&gt;&#123;&#123; err &#125;&#125;&lt;&#x2F;small&gt;<br>    &#123;% endfor %&#125;<br>&lt;&#x2F;p&gt;<br>&#123;% endmacro %&#125;<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨å®æ›¿ä»£ä¹‹å‰çš„ç”µå­é‚®ä»¶å’Œå¯†ç å­—æ®µçš„éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;&#123; macros.form_data(login_form.username) &#125;&#125;<br>&#123;&#123; macros.form_data(login_form.password) &#125;&#125;<br></code></pre></td></tr></table></figure>

<p>è¿è¡Œä»¥åå¯ä»¥çœ‹åˆ°æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å¸®æˆ‘ä»¬èŠ‚çœäº†å¾ˆå¤šäº‹æƒ…ã€‚</p>
<h1 id="é‡æ–°å‘é€è¡¨å•é—®é¢˜"><a href="#é‡æ–°å‘é€è¡¨å•é—®é¢˜" class="headerlink" title="é‡æ–°å‘é€è¡¨å•é—®é¢˜"></a>é‡æ–°å‘é€è¡¨å•é—®é¢˜</h1><p><img src="https://i.loli.net/2020/02/19/e3RC7xFTM24qY1y.png" alt="é‡å®šå‘"></p>
<p>ç›¸ä¿¡æˆ‘ä»¬éƒ½çœ‹è¿‡ç±»ä¼¼çš„æç¤ºæ¡†ï¼Œä¹‹æ‰€ä»¥ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬åœ¨åˆ·æ–°é¡µé¢çš„æ—¶å€™ä¼šå†æ¬¡ä½¿ç”¨ POST æ–¹å¼æäº¤è¡¨å•ï¼Œå¯¼è‡´æµè§ˆå™¨éœ€è¦ç”¨æˆ·ç¡®è®¤ã€‚ä½†ä¸€èˆ¬æƒ…å†µæˆ‘ä»¬åˆ·æ–°é¡µé¢å¹¶ä¸ä¼šå†æäº¤è¡¨å•ã€‚è¿™æ ·å°±å¯¼è‡´ç”¨æˆ·ä½“éªŒå¾ˆä¸å¥½ã€‚å¦‚ä½•æ”¹å–„è¿™ä¸ªé—®é¢˜ï¼Ÿ</p>
<p>åªè¦åœ¨åˆ·æ–°çš„æ—¶å€™ä¸æäº¤ POST è¯·æ±‚å°±å¯ä»¥äº†ï¼Œä¹Ÿå°±æ˜¯è®©æœ€åä¸€ä¸ªè¯·æ±‚ä½¿ç”¨ GET æ–¹å¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">...<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> redirect, url_for<br><br><span class="hljs-meta">@app.route(&quot;/&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;])</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    login_form = LoginForm()<br>    <span class="hljs-keyword">if</span> login_form.validate_on_submit():<br>        flash(<span class="hljs-string">&quot;è¡¨å•æäº¤æˆåŠŸ!&quot;</span>)<br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&quot;index&quot;</span>))<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, login_form=login_form)<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬éœ€è¦å¼•å…¥ <code>redirect</code>, <code>url_for</code> æ¥å®Œæˆé‡å®šå‘ã€‚</p>
<p>è¿™æ ·åšå°±ä¿è¯åœ¨æˆåŠŸæäº¤è¡¨å•ä»¥åï¼Œé‡å®šå‘åˆ° <code>index</code> å¯¹åº”çš„é¡µé¢ã€‚ä¹Ÿå°±é¿å…äº†ä¹‹å‰æåˆ°çš„é—®é¢˜ã€‚</p>
<h1 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h1><p>æœ‰å…³è¡¨å•çš„è¯é¢˜ç¦»ä¸å¼€æ–‡ä»¶ä¸Šä¼ ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç»™ form æ ‡ç­¾æ·»åŠ  <code>enctype=multipart/form-data</code> å±æ€§ã€‚</p>
<p>app.py ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">...<br><span class="hljs-keyword">from</span> wtforms <span class="hljs-keyword">import</span> SubmitField, FileField<br><br>app.config[<span class="hljs-string">&#x27;MAX_CONTENT_LENGTH&#x27;</span>] = <span class="hljs-number">16</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span><br>app.config[<span class="hljs-string">&#x27;UPLOAD_FOLDER&#x27;</span>] = <span class="hljs-string">&#x27;/path/to/the/uploads&#x27;</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileForm</span>(<span class="hljs-params">BaseForm</span>):</span><br>    my_file = FileField(<span class="hljs-string">&quot;æ–‡ä»¶ä¸Šä¼ &quot;</span>)<br>    submit = SubmitField(<span class="hljs-string">&quot;ä¸Šä¼ &quot;</span>)<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>MAX_CONTENT_LENGTH</code> å­—æ®µæ§åˆ¶ä¸Šä¼ æ–‡ä»¶çš„å¤§å°ï¼Œ<code>UPLOAD_FOLDER</code> æ§åˆ¶ä¸Šä¼ æ–‡ä»¶çš„è·¯å¾„ã€‚</p>
<p>index.html ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% extends &quot;base.html&quot; %&#125;<br>&#123;% import &quot;macros.html&quot; as macros %&#125;<br><br>&#123;% block title %&#125;<br>ä¸Šä¼ æ–‡ä»¶<br>&#123;% endblock %&#125;<br><br>&#123;% block body %&#125;<br>&lt;form method&#x3D;&quot;post&quot; enctype&#x3D;&quot;multipart&#x2F;form-data&quot;&gt;<br>    &#123;&#123; login_form.csrf_token &#125;&#125;<br>    &#123;&#123; login_form.my_file &#125;&#125;<br>    &#123;&#123; login_form.submit &#125;&#125;<br>&lt;&#x2F;form&gt;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/02/20/SyVsuYm1z4HoRtv.png" alt="ä¸Šä¼ æ–‡ä»¶"></p>
<p>è¿™é‡Œåªæ˜¯ç®€å•çš„å®ç°çš„æ–‡ä»¶ä¸Šä¼ ï¼Œè§†å›¾å‡½æ•°è¿˜éœ€è¦åšå¾ˆå¤šå·¥ä½œã€‚ä¾‹å¦‚ä¸Šä¼ æ–‡ä»¶çš„åç§°å¿…é¡»ä¿®æ”¹æˆå®‰å…¨å­—ç¬¦ï¼Œä¸Šä¼ æ–‡ä»¶ç±»å‹çš„åˆ¤æ–­ç­‰ç­‰éƒ½éœ€è¦åœ¨è§†å›¾å‡½æ•°ä¸­å¤„ç†ã€‚<a href="https://flask.palletsprojects.com/en/1.1.x/patterns/fileuploads/">è¯¦æƒ…æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚</a></p>
]]></content>
      <categories>
        <category>Flask æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Flask</tag>
        <tag>è¡¨å•</tag>
      </tags>
  </entry>
  <entry>
    <title>Flask ä¸¤æ¬¾æ‹“å±•æ’ä»¶ä½¿ç”¨è®°å½•</title>
    <url>/207.html</url>
    <content><![CDATA[<p>è¿™ç¯‡æ–‡ç« ä»‹ç»ä¸¤æ¬¾ Flask å¼€å‘ä¸­å¸¸ç”¨çš„æ‹“å±•ï¼Œä¸€æ¬¾æ˜¯é«˜æ•ˆç®€æ´ï¼Œç”¨æ¥æ„å»ºé¡µé¢çš„ Bootstrap-Flaskï¼Œä¸€æ¬¾æ˜¯åœ¨é¡µé¢ä¸Šå¯ä»¥å¤šç§é£æ ¼æ˜¾ç¤ºæ—¶é—´çš„ Flask-Momentã€‚</p>
<a id="more"></a>
<h1 id="Bootstrap-Flask"><a href="#Bootstrap-Flask" class="headerlink" title="Bootstrap-Flask"></a>Bootstrap-Flask</h1><p>Bootstrap æ˜¯ä¸€æ¬¾ç”¨äºç½‘ç«™å’Œç½‘ç»œåº”ç”¨ç¨‹åºå¼€å‘çš„å¼€æºå‰ç«¯æ¡†æ¶ï¼ŒåŒ…æ‹¬ HTMLã€CSS åŠ JavaScript çš„æ¡†æ¶ï¼Œæä¾›å­—ä½“æ’å°ã€çª—ä½“ã€æŒ‰é’®ã€å¯¼èˆªåŠå…¶ä»–å„ç§ç»„ä»¶åŠ Javascript æ‰©å±•ï¼Œæ—¨åœ¨ä½¿åŠ¨æ€ç½‘é¡µå’Œ Web åº”ç”¨çš„å¼€å‘æ›´åŠ å®¹æ˜“ï¼ˆ<a href="https://zh.wikipedia.org/zh-cn/Bootstrap">ç»´åŸºç™¾ç§‘</a>ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç°æˆçš„ Flask æ’ä»¶æ¥ä½¿ç”¨ Bootstrapã€‚ä½†æ˜¯ç”±äºè®¸å¤šæ•™ç¨‹ä¸­æåˆ°çš„ Flask-Bootstrap å·²ç»å¾ˆä¹…æ²¡æœ‰ç»´æŠ¤ï¼Œä¸”åªæ”¯æŒ Bootstrap 3ï¼Œæ‰€ä»¥æ›´æ¢ä¸º <a href="https://github.com/greyli/bootstrap-flask">Bootstrap-Flask</a>ï¼ŒåŸºäº Flask-Bootstrap ä½†æ›´å¥½ç”¨æ›´è½»é‡ï¼ŒåŒæ—¶æ”¯æŒ Bootstrap 4ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">pipenv install bootstrap-flask<br></code></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>Bootstrap-Flask ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•æ–¹ä¾¿ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±åˆ›å»ºåŸºç¡€æ¨¡æ¿ï¼Œå¹¶åœ¨åŸºç¡€æ¨¡æ¿ä¸­å¼•å…¥ css å’Œ JavaScript èµ„æºã€‚å’Œ Flask-Bootstrap ä¸åŒï¼Œæˆ‘ä»¬ä¸ç”¨ç»§æ‰¿å…¶ç”Ÿæˆçš„ base.html æ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå·±çš„ base.html æ¨¡æ¿ï¼Œåªéœ€å¯¼å…¥èµ„æºï¼Œå¤§å¤§æå‡äº†ç½‘é¡µå¼€å‘çš„çµæ´»æ€§ã€‚</p>
<p>app.py ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template<br><span class="hljs-keyword">from</span> flask_bootstrap <span class="hljs-keyword">import</span> Bootstrap<br><br>app = Flask(__name__)<br>bootstrap = Bootstrap(app)<br><br><span class="hljs-meta">@app.route(&quot;/&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>base.html ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!DOCTYPE html&gt;<br>&lt;html lang&#x3D;&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &#123;% block head %&#125;<br>    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;<br>    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;<br>    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, user-scalable&#x3D;no, initial-scale&#x3D;1.0, maximum-scale&#x3D;1.0, minimum-scale&#x3D;1.0&quot;&gt;<br>    &lt;title&gt;&#123;% block title %&#125;&#123;% endblock %&#125; - Flask æµ‹è¯•&lt;&#x2F;title&gt;<br>    &#123;% endblock %&#125;<br>    &#123;&#123; bootstrap.load_css() &#125;&#125;<br>&lt;&#x2F;head&gt;<br>&lt;body&gt;<br>&#123;&#123; bootstrap.load_js() &#125;&#125;<br>&lt;div class&#x3D;&quot;container&quot;&gt;<br>    &lt;nav class&#x3D;&quot;navbar navbar-expand-lg navbar-light bg-light&quot;&gt;<br>        &lt;a class&#x3D;&quot;navbar-brand&quot; href&#x3D;&quot;&#123;&#123; url_for(&#39;index&#39;) &#125;&#125;&quot;&gt;Flask æµ‹è¯•&lt;&#x2F;a&gt;<br>        &lt;button class&#x3D;&quot;navbar-toggler&quot; type&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; data-target&#x3D;&quot;#navbarNav&quot; aria-controls&#x3D;&quot;navbarNav&quot; aria-expanded&#x3D;&quot;false&quot; aria-label&#x3D;&quot;Toggle navigation&quot;&gt;<br>            &lt;span class&#x3D;&quot;navbar-toggler-icon&quot;&gt;&lt;&#x2F;span&gt;<br>        &lt;&#x2F;button&gt;<br>        &lt;div class&#x3D;&quot;collapse navbar-collapse&quot; id&#x3D;&quot;navbarNav&quot;&gt;<br>            &lt;ul class&#x3D;&quot;navbar-nav&quot;&gt;<br>                &lt;li class&#x3D;&quot;nav-item active&quot;&gt;<br>                    &lt;a class&#x3D;&quot;nav-link&quot; href&#x3D;&quot;&#123;&#123; url_for(&#39;index&#39;) &#125;&#125;&quot;&gt;é¦–é¡µ&lt;&#x2F;a&gt;<br>                &lt;&#x2F;li&gt;<br>                &lt;li class&#x3D;&quot;nav-item&quot;&gt;<br>                    &lt;a class&#x3D;&quot;nav-link&quot; href&#x3D;&quot;&#123;&#123; url_for(&#39;index&#39;) &#125;&#125;&quot;&gt;ç•™è¨€æ¿&lt;&#x2F;a&gt;<br>                &lt;&#x2F;li&gt;<br>            &lt;&#x2F;ul&gt;<br>        &lt;&#x2F;div&gt;<br>    &lt;&#x2F;nav&gt;<br>    &#123;% block body %&#125;<br>    &#123;% endblock %&#125;<br>&lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;&#x2F;html&gt;<br></code></pre></td></tr></table></figure>

<p>å’Œä¹‹å‰çš„æ–‡ç« ç›¸æ¯”ï¼Œçªç„¶å¤šäº†å¾ˆå¤šä»£ç ï¼Œä½†æ˜¯ä¸ç”¨æ‹…å¿ƒï¼Œå¼•å…¥ bootstrap çš„å…³é”®ä»£ç åœ¨ head å’Œ body ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;head&gt;<br>    ...<br>    &#123;&#123; bootstrap.load_css() &#125;&#125;<br>&lt;&#x2F;head&gt;<br>&lt;body&gt;<br>    &#123;&#123; bootstrap.load_js() &#125;&#125;<br>    ...<br>&lt;&#x2F;body&gt;<br></code></pre></td></tr></table></figure>

<p>è‡³äºå…¶ä»–éƒ¨åˆ†ï¼Œæ˜¯ä½¿ç”¨ bootstrap åˆ›å»ºäº†å¯¼èˆªæ ã€‚</p>
<p><img src="https://i.loli.net/2020/02/17/ZX8WGTyplUfmzI2.png" alt="é¦–é¡µ"></p>
<p>å½“æˆ‘ä»¬çœ‹åˆ°å¯¼èˆªæ ï¼Œè¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸä½¿ç”¨ Bootstrap-Flaskã€‚</p>
<p>ä¾‹å¦‚æˆ‘ä»¬åœ¨é¦–é¡µåˆ›å»ºç™»å½•é¡µé¢ï¼š</p>
<p><img src="https://i.loli.net/2020/02/17/6TMFPdAhrLcQnlE.png" alt="ç™»å½•é¡µé¢"></p>
<p>å…¶ä»–ç»„ä»¶çš„ä½¿ç”¨å®Œå…¨å¯ä»¥å‚ç…§ bootstrap 4 çš„æ–‡æ¡£æ¥æ„å»ºé¡µé¢ã€‚</p>
<h1 id="Flask-Moment"><a href="#Flask-Moment" class="headerlink" title="Flask-Moment"></a>Flask-Moment</h1><p>è¿™æ¬¾æ’ä»¶æ˜¯å°† <a href="https://momentjs.com/">Moment.js</a> æ•´åˆåˆ° Flask ä¸­ï¼ŒMoment.js å¯ä»¥è®©æ—¶é—´æŒ‰å„ç§å„æ ·çš„æ ·å¼å‘ˆç°åˆ°é¡µé¢ä¸Šã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-Flask-Moment"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-Flask-Moment" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Flask-Moment"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Flask-Moment</h2><p>æˆ‘ä»¬çŸ¥é“ï¼Œç½‘ç«™åœ¨æ­å»ºä»¥åï¼Œé¢å¯¹çš„ç”¨æˆ·æ¥è‡ªä¸–ç•Œå„åœ°ï¼Œç”±äºæ—¶åŒºå·®å¼‚ï¼Œæ˜¾ç¤ºæ—¶é—´å˜å¾—æ£˜æ‰‹ã€‚æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•èƒ½å®ç°è™½ç„¶åœ°ç†ä½ç½®ä¸åŒï¼Œä½†æ˜¯æœ‰ç»Ÿä¸€çš„æ—¶é—´å±•ç¤ºï¼Ÿ</p>
<p>UTCï¼ˆåè°ƒä¸–ç•Œæ—¶é—´ï¼‰å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœç›´æ¥ä½¿ç”¨ UTCï¼Œä¼šè®©ç”¨æˆ·éå¸¸å›°æƒ‘ï¼Œå› ä¸ºå…¶æ˜¾ç¤ºçš„å¯èƒ½å¹¶ä¸æ˜¯è‡ªå·±æ‰€åœ¨æ—¶åŒºçš„æ—¶é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨åˆ° <a href="https://github.com/miguelgrinberg/Flask-Moment">Flask-Moment</a>ï¼Œå¸®åŠ©æˆ‘ä»¬å°†æ—¶é—´æ˜¾ç¤ºçš„æ›´åŠ å‹å¥½ï¼Œç¾è§‚ã€‚</p>
<h2 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">pipenv install flask-moment<br></code></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>åªéœ€ä¸‰æ­¥èµ°ï¼š</p>
<p>åœ¨ app.py ä¸­å¼•å…¥ flask-momentï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template<br><span class="hljs-keyword">from</span> flask_bootstrap <span class="hljs-keyword">import</span> Bootstrap<br><span class="hljs-keyword">from</span> flask_moment <span class="hljs-keyword">import</span> Moment<br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><br>app = Flask(__name__)<br>bootstrap = Bootstrap(app)<br>moment = Moment(app)<br><br><span class="hljs-meta">@app.route(&quot;/&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, _time=datetime.utcnow())<br></code></pre></td></tr></table></figure>

<p>åœ¨ base.html çš„ head æ ‡ç­¾ä¸­å¯¼å…¥ moment.js èµ„æºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;head&gt;<br>    ...<br>    &#123;&#123; moment.include_jquery() &#125;&#125;<br>    &#123;&#123; moment.include_moment() &#125;&#125;<br>    &#123;&#123; moment.locale(&quot;zh-cn&quot;) &#125;&#125;<br>&lt;&#x2F;head&gt;<br></code></pre></td></tr></table></figure>

<p>å‰ä¸¤è¡Œä¸ºå¯¼å…¥èµ„æºï¼Œç¬¬ä¸‰è¡Œè®¾ç½®æ˜¾ç¤ºä¸ºä¸­æ–‡ã€‚</p>
<p>åœ¨é¡µé¢ä¸­ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% extends &quot;base.html&quot; %&#125;<br><br>&#123;% block title %&#125;<br>é¦–é¡µ<br>&#123;% endblock %&#125;<br><br>&#123;% block body %&#125;<br><br>&lt;p&gt;å½“å‰æ—¶é—´ï¼š&#123;&#123; moment(_time).format(&quot;llll&quot;) &#125;&#125;&lt;&#x2F;p&gt;<br>&lt;p&gt;å·²ç»è¿‡å»ï¼š&#123;&#123; moment(_time).fromNow(refresh&#x3D;True) &#125;&#125;&lt;&#x2F;p&gt;<br><br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ•ˆæœï¼š</p>
<p><img src="https://i.loli.net/2020/02/17/xkvVNeI3TY4hM6w.png" alt="æ—¶é—´æ˜¾ç¤º"></p>
<p>æŒ‡å®š <code>refresh=True</code> å‚æ•°åï¼Œå†…å®¹ä¼šéšç€æ—¶é—´æ›´æ–°ï¼Œä¸€åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡ã€‚</p>
<h2 id="å¤šç§æ—¶é—´æ˜¾ç¤º"><a href="#å¤šç§æ—¶é—´æ˜¾ç¤º" class="headerlink" title="å¤šç§æ—¶é—´æ˜¾ç¤º"></a>å¤šç§æ—¶é—´æ˜¾ç¤º</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript">moment().format(<span class="hljs-string">&#x27;LT&#x27;</span>);   <span class="hljs-comment">// 21:38</span><br>moment().format(<span class="hljs-string">&#x27;LTS&#x27;</span>);  <span class="hljs-comment">// 21:38:14</span><br>moment().format(<span class="hljs-string">&#x27;L&#x27;</span>);    <span class="hljs-comment">// 2020/02/17</span><br>moment().format(<span class="hljs-string">&#x27;l&#x27;</span>);    <span class="hljs-comment">// 2020/2/17</span><br>moment().format(<span class="hljs-string">&#x27;LL&#x27;</span>);   <span class="hljs-comment">// 2020å¹´2æœˆ17æ—¥</span><br>moment().format(<span class="hljs-string">&#x27;ll&#x27;</span>);   <span class="hljs-comment">// 2020å¹´2æœˆ17æ—¥</span><br>moment().format(<span class="hljs-string">&#x27;LLL&#x27;</span>);  <span class="hljs-comment">// 2020å¹´2æœˆ17æ—¥æ™šä¸Š9ç‚¹38åˆ†</span><br>moment().format(<span class="hljs-string">&#x27;lll&#x27;</span>);  <span class="hljs-comment">// 2020å¹´2æœˆ17æ—¥ 21:38</span><br>moment().format(<span class="hljs-string">&#x27;LLLL&#x27;</span>); <span class="hljs-comment">// 2020å¹´2æœˆ17æ—¥æ˜ŸæœŸä¸€æ™šä¸Š9ç‚¹38åˆ†</span><br>moment().format(<span class="hljs-string">&#x27;llll&#x27;</span>); <span class="hljs-comment">// 2020å¹´2æœˆ17æ—¥æ˜ŸæœŸä¸€ 21:38</span><br></code></pre></td></tr></table></figure>

<p>å…¶ä»–å‚æ•°å¯å‚è€ƒ <a href="https://momentjs.com/">moment.js</a> å®˜ç½‘ä»‹ç»ã€‚</p>
]]></content>
      <categories>
        <category>Flask æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Flask</tag>
        <tag>Bootstrap-Flask</tag>
        <tag>flask-moment</tag>
      </tags>
  </entry>
  <entry>
    <title>Flask æ•°æ®åº“</title>
    <url>/279.html</url>
    <content><![CDATA[<p>æ•°æ®åº“ä¸€èˆ¬åˆè¢«ç§°ä¸ºæ•°æ®ç®¡ç†ç³»ç»Ÿï¼ˆDatabase Management Systemï¼Œç®€ç§° DBMSï¼‰ã€‚åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œå…³ç³»å‹æ•°æ®åº“ï¼ˆSQLï¼‰å’Œéå…³ç³»å‹æ•°æ®åº“ï¼ˆNoSQLï¼‰ã€‚å…³ç³»å‹æ•°æ®åº“æ˜¯æˆ‘ä»¬å¸¸è§çš„ MySQLï¼ŒSQLite ç­‰ã€‚NoSQL æ˜¯å¯¹ä¸åŒäºä¼ ç»Ÿçš„å…³ç³»æ•°æ®åº“çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ç»Ÿç§°ã€‚ä¸¤è€…å­˜åœ¨è®¸å¤šæ˜¾è‘—çš„ä¸åŒç‚¹ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯ NoSQL ä¸ä½¿ç”¨ SQL ä½œä¸ºæŸ¥è¯¢è¯­è¨€ã€‚ä¾‹å¦‚ Redis ä½¿ç”¨é”®å€¼å¯¹ä¿å­˜æ•°æ®ï¼ŒMongoDB ç±»ä¼¼ JSON ç»“æ„ä¿å­˜æ•°æ®ã€‚å¯¹äºä¸­å°å‹ç¨‹åºæ¥è¯´ï¼Œå…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“æ€§èƒ½ç›¸å½“ï¼Œå“ªä¸ªæ–¹ä¾¿å¼€å‘å°±é€‰æ‹©å“ªä¸ªã€‚</p>
<a id="more"></a>
<p>æœ¬æ–‡ä¼šä½¿ç”¨ SQLAlchemy å’Œ MongoEngine æ¥å¼€å‘ä¸€æ¬¾ç®€æ˜“ç•™è¨€æ¿ã€‚é€šè¿‡è¿™ä¸ªå°é¡¹ç›®æ¥å­¦ä¹  Flask æ•°æ®åº“çš„ä½¿ç”¨ã€‚</p>
<h1 id="Flask-SQLAlchemy"><a href="#Flask-SQLAlchemy" class="headerlink" title="Flask-SQLAlchemy"></a>Flask-SQLAlchemy</h1><p>SQLAlchemy æ˜¯ Python ç¼–ç¨‹è¯­è¨€ä¸‹çš„ä¸€æ¬¾å¼€æºè½¯ä»¶ã€‚æä¾›äº† SQL å·¥å…·åŒ…åŠå¯¹è±¡å…³ç³»æ˜ å°„å·¥å…·ï¼Œä½¿ç”¨ MIT è®¸å¯è¯å‘è¡Œã€‚ SQLAlchemy é‡‡ç”¨ç®€å•çš„ Python è¯­è¨€ï¼Œä¸ºé«˜æ•ˆå’Œé«˜æ€§èƒ½çš„æ•°æ®åº“è®¿é—®è®¾è®¡ï¼Œå®ç°äº†å®Œæ•´çš„ä¼ä¸šçº§æŒä¹…æ¨¡å‹ã€‚ï¼ˆ<a href="https://zh.wikipedia.org/zh-cn/SQLAlchemy">ç»´åŸºç™¾ç§‘</a>ï¼‰</p>
<p>ç®€å•æ¥è¯´ï¼ŒSQLAlchemy å°è£…äº†æ•°æ®åº“æ“ä½œæ¥å£ï¼ŒæŠŠ SQL è¯­å¥ç”¨ Python è¯­è¨€æè¿°å‡ºæ¥ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ Python æ¥æ“ä½œæ•°æ®åº“ï¼Œä¸ç”¨ç›´æ¥è¾“å…¥ SQL è¯­å¥ï¼Œæå‡äº†å¼€å‘æ•ˆç‡ã€‚è€Œ <a href="https://flask-sqlalchemy.palletsprojects.com/en/2.x/">Flask-SQLAlchemy</a> æ˜¯å¯¹ SQLAlchemy åœ¨ Flask ä¸­åˆä¸€å±‚é›†æˆï¼Œè®©æˆ‘ä»¬åœ¨ Flask ä¸­æ“ä½œæ•°æ®åº“æ›´åŠ æ–¹ä¾¿é«˜æ•ˆã€‚</p>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">pipenv install flask-sqlalchemy<br></code></pre></td></tr></table></figure>

<h1 id="åœ¨è¿æ¥æ•°æ®åº“ä¹‹å‰"><a href="#åœ¨è¿æ¥æ•°æ®åº“ä¹‹å‰" class="headerlink" title="åœ¨è¿æ¥æ•°æ®åº“ä¹‹å‰"></a>åœ¨è¿æ¥æ•°æ®åº“ä¹‹å‰</h1><p>å®‰è£…å¥½ <code>flask-sqlalchemy</code> ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå´­æ–°çš„è¡¨å•ï¼Œç±»ä¼¼ Wordpress é»˜è®¤çš„ç•™è¨€æ¿æ ·å¼ã€‚é€šè¿‡è¿™ä¸ªè¡¨å•å°é¡¹ç›®æ¥å­¦ä¹ æ•°æ®åº“çš„åˆ›å»ºï¼ŒæŸ¥è¯¢ï¼Œæ›´æ–°å’Œåˆ é™¤ï¼ˆCRUDï¼‰ã€‚</p>
<p>æˆ‘ä»¬å…ˆæŠŠç•™è¨€æ¿çš„é¡µé¢åˆ›å»ºå¥½ï¼Œå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­ï¼š</p>
<p><img src="https://i.loli.net/2020/02/27/5CjNygDOhmEP7Yo.png" alt="ç•™è¨€æ¿"></p>
<p>index.html ä»£ç å¦‚ä¸‹ï¼Œç”¨åˆ°äº† Bootstrap çš„æ …æ ¼ï¼Œå°†ç”¨æˆ·åï¼Œé‚®ç®±åœ°å€å’Œä¸ªäººç½‘ç«™åˆ†æˆä¸‰æ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% extends &quot;base.html&quot; %&#125;<br><br>&#123;% block title %&#125;<br>ç•™è¨€æ¿<br>&#123;% endblock %&#125;<br><br>&#123;% block body %&#125;<br>&lt;h1&gt;ç•™è¨€æ¿&lt;&#x2F;h1&gt;<br>&lt;form method&#x3D;&quot;post&quot;&gt;<br>    &#123;&#123; form.csrf_token &#125;&#125;<br>    &lt;div class&#x3D;&quot;row&quot;&gt;<br>        &lt;div class&#x3D;&quot;col-sm&quot;&gt;&#123;&#123; form.username &#125;&#125;&lt;&#x2F;div&gt;<br>        &lt;div class&#x3D;&quot;col-sm&quot;&gt;&#123;&#123; form.email &#125;&#125;&lt;&#x2F;div&gt;<br>        &lt;div class&#x3D;&quot;col-sm&quot;&gt;&#123;&#123; form.website &#125;&#125;&lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>    &#123;&#123; form.message &#125;&#125;<br>    &#123;&#123; form.submit &#125;&#125;<br>&lt;&#x2F;form&gt;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<p>åœ¨ app.py ä¸­åˆ›å»ºè¡¨å•ç±»ï¼Œå¹¶é€šè¿‡ <code>render_kw</code> å‚æ•°æ¸²æŸ“å±æ€§ã€‚æˆ‘ä»¬å…ˆæŠŠç•™è¨€æ¿çš„æ¨¡æ¿æ­å»ºå¥½ï¼Œç„¶åå†è¿æ¥æ•°æ®åº“ã€‚ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œæˆ‘ä»¬å°†è¡¨å•å’Œè§†å›¾å‡½æ•°æ”¾åœ¨åŒä¸€æ–‡ä»¶ä¸­ï¼ˆçœŸå®å¼€å‘ä¸­æœ€å¥½åˆ†å¼€å­˜æ”¾ï¼Œæ–¹ä¾¿åæœŸç»Ÿä¸€ç®¡ç†å’Œç»´æŠ¤ï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">...<br><span class="hljs-keyword">from</span> flask_wtf <span class="hljs-keyword">import</span> FlaskForm<br><span class="hljs-keyword">from</span> wtforms <span class="hljs-keyword">import</span> StringField, TextAreaField, SubmitField<br><span class="hljs-keyword">from</span> wtforms.validators <span class="hljs-keyword">import</span> Email, DataRequired, URL, Optional<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MsgBoardForm</span>(<span class="hljs-params">FlaskForm</span>):</span><br>    username = StringField(<span class="hljs-string">&quot;ç”¨æˆ·å&quot;</span>, validators=[DataRequired()],<br>                           render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;form-control&quot;</span>,<br>                                      <span class="hljs-string">&quot;placeholder&quot;</span>: <span class="hljs-string">&quot;æ˜µç§°&quot;</span>&#125;)<br>    email = StringField(<span class="hljs-string">&quot;ç”µå­é‚®ç®±&quot;</span>, validators=[Email(), DataRequired()],<br>                        render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;form-control&quot;</span>,<br>                                   <span class="hljs-string">&quot;placeholder&quot;</span>: <span class="hljs-string">&quot;ç”µå­é‚®ç®±&quot;</span>&#125;)<br>    website = StringField(<span class="hljs-string">&quot;ä¸ªäººç½‘ç«™&quot;</span>, validators=[Optional(), URL()],<br>                          render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;form-control&quot;</span>,<br>                                     <span class="hljs-string">&quot;placeholder&quot;</span>: <span class="hljs-string">&quot;ç½‘å€&quot;</span>&#125;)<br>    message = TextAreaField(validators=[DataRequired()],<br>                            render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;form-control msg-main&quot;</span>,<br>                                       <span class="hljs-string">&quot;placeholder&quot;</span>: <span class="hljs-string">&quot;è¯´ç‚¹ä»€ä¹ˆå§&quot;</span>&#125;)<br>    submit = SubmitField(<span class="hljs-string">&quot;ç•™è¨€&quot;</span>, render_kw=&#123;<span class="hljs-string">&quot;class&quot;</span>: <span class="hljs-string">&quot;btn btn-primary&quot;</span>&#125;)<br><br><span class="hljs-meta">@app.route(&quot;/&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;])</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    form = MsgBoardForm()<br>    <span class="hljs-keyword">if</span> form.validate_on_submit():<br>        username = form.username.data<br>        email = form.email.data<br>        website = form.website.data<br>        message = form.message.data<br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&quot;index&quot;</span>))<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, form=form)<br></code></pre></td></tr></table></figure>

<h1 id="é…ç½®æ•°æ®åº“å¹¶å®šä¹‰æ¨¡å‹"><a href="#é…ç½®æ•°æ®åº“å¹¶å®šä¹‰æ¨¡å‹" class="headerlink" title="é…ç½®æ•°æ®åº“å¹¶å®šä¹‰æ¨¡å‹"></a>é…ç½®æ•°æ®åº“å¹¶å®šä¹‰æ¨¡å‹</h1><p>ä½¿ç”¨ SQLite æ•°æ®åº“ï¼Œæ— éœ€é…ç½®å’Œç®¡ç†ï¼Œè¿æ¥å³å¯ä½¿ç”¨ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask_sqlalchemy <span class="hljs-keyword">import</span> SQLAlchemy<br><br>...<br>basedir = os.path.abspath(os.path.dirname(__file__))<br>app.config[<span class="hljs-string">&quot;SQLALCHEMY_DATABASE_URI&quot;</span>] = <span class="hljs-string">&quot;sqlite:///&quot;</span> + os.path.join(basedir, <span class="hljs-string">&quot;data.sqlite&quot;</span>)<br>app.config[<span class="hljs-string">&quot;SQLALCHEMY_COMMIT_ON_TEARDOWN&quot;</span>] = <span class="hljs-literal">True</span><br>app.config[<span class="hljs-string">&quot;SQLALCHEMY_TRACK_MODIFICATIONS&quot;</span>] = <span class="hljs-literal">False</span><br>db = SQLAlchemy(app)<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MsgBoard</span>(<span class="hljs-params">db.Model</span>):</span><br><br>    __tablename__ = <span class="hljs-string">&quot;message_board&quot;</span><br><br>    id = db.Column(db.Integer, primary_key=<span class="hljs-literal">True</span>)<br>    username = db.Column(db.String)<br>    email = db.Column(db.String)<br>    website = db.Column(db.String, nullable=<span class="hljs-literal">True</span>)<br>    message = db.Column(db.Text)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__repr__</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.username<br></code></pre></td></tr></table></figure>

<p>ä»¥ä¸‹ä»£ç åœ¨åˆ›å»ºæ•°æ®åº“çš„æ—¶å€™ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º data.sqlite æ•°æ®åº“æ–‡ä»¶ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">basedir = os.path.abspath(os.path.dirname(__file__))<br>app.config[<span class="hljs-string">&quot;SQLALCHEMY_DATABASE_URI&quot;</span>] = <span class="hljs-string">&quot;sqlite:///&quot;</span> + os.path.join(basedir, <span class="hljs-string">&quot;data.sqlite&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è‡ªå®šä¹‰çš„ <code>MsgBoard</code> ç±»é€šè¿‡ç»§æ‰¿ <code>db.Model</code> ä¸æ•°æ®åº“è¿æ¥ã€‚ä½¿ç”¨ <code>__tablename__</code> è‡ªå®šä¹‰è¡¨åï¼Œä½¿ç”¨ <code>db.Column</code> åˆ›å»ºæ•°æ®è¡¨ä¸­çš„å­—æ®µã€‚</p>
<p><code>db.Column</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰å­—æ®µåï¼Œå°±å¯ä»¥ç»™è¯¥å‚æ•°èµ‹å€¼ï¼Œå¦‚æœä¸å¡«ï¼Œé»˜è®¤ä½¿ç”¨å˜é‡åç”Ÿæˆè¯¥å­—æ®µåã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">id = db.Column(<span class="hljs-string">&quot;msg_id&quot;</span>, db.Integer, primary_key=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä½¿ç”¨ <code>__repr__()</code> æ–¹æ³•ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿”å›ä¸€äº›æ›´ç›´æ¥çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬è¿™é‡Œè¿”å›ç•™è¨€çš„ç”¨æˆ·æ˜µç§°ï¼Œä¹‹ååœ¨åˆ›å»ºå¥½æ•°æ®å®ä¾‹çš„æ—¶å€™ï¼Œåªè¦è¾“å…¥å®ä¾‹åç§°ï¼Œå°±ä¼šè¿”å›ç”¨æˆ·æ˜µç§°ã€‚ä¸ºäº†æ›´æ–¹ä¾¿çš„æŸ¥çœ‹æ•°æ®ï¼Œè¿™é‡Œä¹Ÿéœ€è¦æ ¹æ®ä¸åŒçš„é¡¹ç›®åšä¸åŒçš„ä¿®æ”¹ã€‚</p>
<h1 id="æµ‹è¯•æ•°æ®åº“"><a href="#æµ‹è¯•æ•°æ®åº“" class="headerlink" title="æµ‹è¯•æ•°æ®åº“"></a>æµ‹è¯•æ•°æ®åº“</h1><h2 id="åˆ›å»ºè®°å½•"><a href="#åˆ›å»ºè®°å½•" class="headerlink" title="åˆ›å»ºè®°å½•"></a>åˆ›å»ºè®°å½•</h2><p>ä½¿ç”¨ flask shell æ–¹ä¾¿æˆ‘ä»¬äº¤äº’æŸ¥çœ‹ä¸æ“ä½œæ•°æ®åº“ï¼Œ<a href="https://docs.sqlalchemy.org/en/13/orm/tutorial.html">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<p>ç»ˆç«¯è¾“å…¥ <code>flask shell</code>ï¼Œè¿›å…¥äº¤äº’ç•Œé¢ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; from app import db, MsgBoard<br>&gt;&gt;&gt; db<br>&lt;SQLAlchemy engine=sqlite:////Users/Documents/FlaskGuide/data.sqlite&gt;<br>&gt;&gt;&gt; MsgBoard<br>&lt;class <span class="hljs-string">&#x27;app.MsgBoard&#x27;</span>&gt;<br>&gt;&gt;&gt; msg1 = MsgBoard(username=<span class="hljs-string">&quot;æµ‹è¯•ç”¨æˆ·å&quot;</span>, email=<span class="hljs-string">&quot;email@qq.com&quot;</span>, website=<span class="hljs-string">&quot;https://lijianxun.top/&quot;</span>, message=<span class="hljs-string">&quot;æµ‹è¯•æµ‹è¯•&quot;</span>)<br>&gt;&gt;&gt; db.session.add(msg1)<br>&gt;&gt;&gt; db.session.commit()<br>&gt;&gt;&gt; msg1.id<br>1<br>&gt;&gt;&gt; msg1.username<br><span class="hljs-string">&#x27;æµ‹è¯•ç”¨æˆ·å&#x27;</span><br>&gt;&gt;&gt; msg1<br>æµ‹è¯•ç”¨æˆ·å<br></code></pre></td></tr></table></figure>

<p>åˆ›å»ºä¸€æ¡æ•°æ®åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ol>
<li>åˆ›å»º Python å¯¹è±¡ï¼ˆ<code>msg1 = MsgBoard(...)</code>ï¼‰</li>
<li>æ·»åŠ åˆ°ä¼šè¯ä¸­ï¼ˆ<code>db.session.add(msg1)</code>ï¼‰</li>
<li>æäº¤ä¼šè¯ï¼ˆ<code>db.session.commit()</code>ï¼‰</li>
</ol>
<p>æˆ‘ä»¬è¿™é‡Œè¾“å…¥ <code>msg1</code> è¿”å› <code>æµ‹è¯•ç”¨æˆ·å</code>ï¼Œæ­£æ˜¯ <code>__repr__()</code> æ–¹æ³•èµ·äº†ä½œç”¨ï¼Œä¹‹åçš„æŸ¥è¯¢æˆ‘ä»¬è¿˜ä¼šçœ‹åˆ°è¯¥æ–¹æ³•è¿”å›çš„æ•°æ®ã€‚</p>
<h2 id="æŸ¥è¯¢è®°å½•"><a href="#æŸ¥è¯¢è®°å½•" class="headerlink" title="æŸ¥è¯¢è®°å½•"></a>æŸ¥è¯¢è®°å½•</h2><p>æˆ‘ä»¬ä½¿ç”¨æ¨¡å‹çš„ query å±æ€§ï¼Œé…åˆè¿‡æ»¤æ¡ä»¶æŸ¥è¯¢æ•°æ®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; <span class="hljs-comment"># æŸ¥è¯¢ MsgBoard çš„å…¨éƒ¨æ•°æ®</span><br>&gt;&gt;&gt; MsgBoard.query.all()<br>[æµ‹è¯•ç”¨æˆ·å]<br>&gt;&gt;&gt; <span class="hljs-comment"># æŸ¥è¯¢ MsgBoard çš„æ€»é‡</span><br>&gt;&gt;&gt; MsgBoard.query.count()<br>1<br>&gt;&gt;&gt; <span class="hljs-comment"># é€šè¿‡ä¸»é”®æŸ¥è¯¢</span><br>&gt;&gt;&gt; MsgBoard.query.get(1)<br>æµ‹è¯•ç”¨æˆ·å<br>&gt;&gt;&gt; <span class="hljs-comment"># æ¡ä»¶æŸ¥è¯¢</span><br>&gt;&gt;&gt; MsgBoard.query.filter_by(email=<span class="hljs-string">&quot;email@qq.com&quot;</span>).all()<br>[æµ‹è¯•ç”¨æˆ·å]<br></code></pre></td></tr></table></figure>

<p>æ›´å¤šæŸ¥è¯¢å’Œè¿‡æ»¤ç”¨æ³•å®˜æ–¹æœ‰æ›´å¤šä»‹ç» <a href="https://docs.sqlalchemy.org/en/13/orm/query.html">query</a> å’Œ <a href="https://docs.sqlalchemy.org/en/13/core/sqlelement.html">sqlelement</a>ã€‚</p>
<h2 id="æ›´æ–°è®°å½•"><a href="#æ›´æ–°è®°å½•" class="headerlink" title="æ›´æ–°è®°å½•"></a>æ›´æ–°è®°å½•</h2><p>æ›´æ–°æ•°æ®æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦æ‰¾åˆ°éœ€è¦æ›´æ–°çš„é¡¹ï¼Œé‡æ–°èµ‹å€¼å³å¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; msg = MsgBoard.query.get(1)<br>&gt;&gt;&gt; msg<br>æµ‹è¯•ç”¨æˆ·å<br>&gt;&gt;&gt; msg.email<br><span class="hljs-string">&#x27;email@qq.com&#x27;</span><br>&gt;&gt;&gt; msg.email = <span class="hljs-string">&quot;test@qq.com&quot;</span><br>&gt;&gt;&gt; msg.email<br><span class="hljs-string">&#x27;test@qq.com&#x27;</span><br>&gt;&gt;&gt; db.session.commit()<br></code></pre></td></tr></table></figure>

<h2 id="åˆ é™¤è®°å½•"><a href="#åˆ é™¤è®°å½•" class="headerlink" title="åˆ é™¤è®°å½•"></a>åˆ é™¤è®°å½•</h2><p>åˆ é™¤è®°å½•å’Œæ·»åŠ è®°å½•å¾ˆç±»ä¼¼ï¼ŒæŠŠ add æ”¹æˆ delete å¹¶æäº¤å³å¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; msg = MsgBoard.query.get(1)<br>&gt;&gt;&gt; db.session.delete(msg)<br>&gt;&gt;&gt; db.session.commit()<br>&gt;&gt;&gt; &gt;&gt;&gt; MsgBoard.query.all()<br>[]<br></code></pre></td></tr></table></figure>

<h1 id="ç•™è¨€æ¿å°é¡¹ç›®"><a href="#ç•™è¨€æ¿å°é¡¹ç›®" class="headerlink" title="ç•™è¨€æ¿å°é¡¹ç›®"></a>ç•™è¨€æ¿å°é¡¹ç›®</h1><h2 id="è¡¨å•æäº¤æ•°æ®"><a href="#è¡¨å•æäº¤æ•°æ®" class="headerlink" title="è¡¨å•æäº¤æ•°æ®"></a>è¡¨å•æäº¤æ•°æ®</h2><p>åœ¨æ­¤ä¹‹å‰æˆ‘ä»¬å…ˆæ”¹åŠ¨ä¸€ä¸‹ <code>__repr__()</code> æ–¹æ³•ï¼Œè®©å®ƒæ›´å¥½çš„å±•ç¤ºæ•°æ®ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__repr__</span>(<span class="hljs-params">self</span>):</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;æ˜µç§°ï¼š&#123;&#125;ï¼Œç”µå­é‚®ç®±ï¼š&#123;&#125;ï¼Œç½‘å€ï¼š&#123;&#125;ï¼Œç•™è¨€å†…å®¹ï¼š&#123;&#125;&quot;</span>.format(<br>        self.username, self.email, self.website, self.message<br>    )<br></code></pre></td></tr></table></figure>

<p>ä¿®æ”¹è§†å›¾å‡½æ•°ï¼Œå°†è¡¨å•ä¸­çš„æ•°æ®æ’å…¥åˆ°æ•°æ®åº“ä¸­ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@app.route(&quot;/&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;])</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    form = MsgBoardForm()<br>    <span class="hljs-keyword">if</span> form.validate_on_submit():<br>        username = form.username.data<br>        email = form.email.data<br>        website = form.website.data<br>        message = form.message.data<br>        msg = MsgBoard(<br>            username=username,<br>            email=email,<br>            website=website,<br>            message=message<br>        )<br>        db.session.add(msg)<br>        db.session.commit()<br>        print(<span class="hljs-string">&quot;æ’å…¥æˆåŠŸ&quot;</span>)<br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&quot;index&quot;</span>))<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, form=form)<br></code></pre></td></tr></table></figure>

<p>æ‰“å¼€ç½‘é¡µï¼Œæˆ‘ä»¬æ’å…¥ä¸€æ¡æ•°æ®ï¼Œä¹‹ååœ¨ shell ä¸­æŸ¥è¯¢è¿™æ¡æ•°æ®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; MsgBoard.query.all()<br>[æ˜µç§°ï¼šç®€è®¯ï¼Œç”µå­é‚®ç®±ï¼ši@lijianxun.topï¼Œç½‘å€ï¼šhttps://lijianxun.topï¼Œç•™è¨€å†…å®¹ï¼šè¿™æ˜¯ä¸€æ®µç•™è¨€ã€‚]<br></code></pre></td></tr></table></figure>

<h2 id="å±•ç¤ºæ•°æ®"><a href="#å±•ç¤ºæ•°æ®" class="headerlink" title="å±•ç¤ºæ•°æ®"></a>å±•ç¤ºæ•°æ®</h2><p>æ’å…¥å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦æŠŠç•™è¨€å±•ç¤ºåˆ°é¡µé¢ä¸Šã€‚æˆ‘ä»¬éœ€è¦ä¿®æ”¹è§†å›¾å‡½æ•°ï¼Œè®©æ•°æ®å±•ç¤ºåˆ°é¡µé¢ä¸Šã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@app.route(&quot;/&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;])</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    form = MsgBoardForm()<br>    <span class="hljs-keyword">if</span> form.validate_on_submit():<br>        username = form.username.data<br>        ...<br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&quot;index&quot;</span>))<br><br>    msg_board = MsgBoard.query.all()<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, form=form, msg_board=msg_board)<br></code></pre></td></tr></table></figure>

<p>æ¨¡ç‰ˆéœ€è¦åŠ å…¥æ•°æ®å±•ç¤ºéƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% if msg_board | length &lt; 1 %&#125;<br>æš‚æ— ç•™è¨€<br>&#123;% else %&#125;<br>&#123;% for msg in msg_board %&#125;<br>&lt;div class&#x3D;&quot;shadow p-3 mb-5 bg-white rounded&quot;&gt;<br>    &#123;&#123; msg.website &#125;&#125;<br>    &lt;div class&#x3D;&quot;mb-0&quot;&gt;<br>        &#123;% if msg.website%&#125;<br>        &lt;a href&#x3D;&quot;&#123;&#123; msg.website &#125;&#125;&quot;&gt;<br>            &#123;&#123; msg.username &#125;&#125;<br>        &lt;&#x2F;a&gt;<br>        &#123;% else %&#125;<br>         &#123;&#123; msg.username &#125;&#125;<br>        &#123;%endif%&#125;<br>    &lt;&#x2F;div&gt;<br>    &lt;div class&#x3D;&quot;blockquote&quot;&gt;&#123;&#123; msg.message &#125;&#125;&lt;&#x2F;div&gt;<br>&lt;&#x2F;div&gt;<br>&#123;% endfor %&#125;<br>&#123;% endif %&#125;<br></code></pre></td></tr></table></figure>

<p>å½“æ— ç•™è¨€çš„æ—¶å€™ä¼šæ˜¾ç¤ºæš‚æ— ç•™è¨€ï¼Œå½“æœ‰ç•™è¨€çš„æ—¶å€™æ‰ä¼šå±•ç¤ºåˆ°é¡µé¢ä¸Šã€‚</p>
<p><img src="https://i.loli.net/2020/02/27/5uQbImAUpr4JOxs.png" alt="ç•™è¨€æ¿å±•ç¤º"></p>
<p>å› ä¸ºç”µå­é‚®ç®±å±äºéšç§ï¼Œæ‰€ä»¥é¡µé¢ä¸Šä¸å±•ç¤ºã€‚å¦‚æœå¡«å†™äº†ä¸ªäººç½‘å€å¯ä»¥é€šè¿‡ç‚¹å‡»æ˜µç§°è·³è½¬ã€‚</p>
<p>è¿™åªæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­ï¼Œå¦‚æœçœŸæ­£éœ€è¦åšç•™è¨€æ¿ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åŠ å…¥æ›´å¤šå­—æ®µï¼Œä¾‹å¦‚åˆ›å»ºç•™è¨€çš„æ—¶é—´æˆ³ï¼Œæ˜¯å¦æ”¯æŒä¿®æ”¹ç•™è¨€ï¼Œå›å¤ç•™è¨€ï¼ˆç›–æ¥¼ï¼‰ç­‰ã€‚</p>
<h1 id="Flask-MongoEngine"><a href="#Flask-MongoEngine" class="headerlink" title="Flask-MongoEngine"></a>Flask-MongoEngine</h1><p>åœ¨ Flask ä¸­ä½¿ç”¨ MongoDBï¼Œéœ€è¦å®‰è£… Flask-MongoEngineã€‚æ›´è¯¦ç»†çš„æ–‡æ¡£éœ€è¦æŸ¥çœ‹ <a href="http://docs.mongoengine.org/tutorial.html">MongoEngine</a>ã€‚</p>
<h2 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">pipenv install flask-mongoengine<br></code></pre></td></tr></table></figure>

<h2 id="è¿æ¥å¹¶å±•ç¤ºæ•°æ®"><a href="#è¿æ¥å¹¶å±•ç¤ºæ•°æ®" class="headerlink" title="è¿æ¥å¹¶å±•ç¤ºæ•°æ®"></a>è¿æ¥å¹¶å±•ç¤ºæ•°æ®</h2><p>å’Œä½¿ç”¨ <code>Flask-SQLAlchemy</code> å¤§åŒå°å¼‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask_mongoengine <span class="hljs-keyword">import</span> MongoEngine<br><span class="hljs-keyword">import</span> mongoengine <span class="hljs-keyword">as</span> mongodb<br>...<br><br>app.config[<span class="hljs-string">&quot;MONGODB_SETTINGS&quot;</span>] = &#123;<br>    <span class="hljs-string">&quot;db&quot;</span>: <span class="hljs-string">&quot;msgBoard&quot;</span>,<br>    <span class="hljs-string">&quot;host&quot;</span>: <span class="hljs-string">&quot;localhost&quot;</span>,<br>    <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-number">27017</span><br>&#125;<br><br>db = MongoEngine(app)<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MsgBoard</span>(<span class="hljs-params">mongodb.Document</span>):</span><br><br>    username = mongodb.StringField(required=<span class="hljs-literal">True</span>)<br>    email = mongodb.EmailField()<br>    website = mongodb.URLField()<br>    message = mongodb.StringField()<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__repr__</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;æ˜µç§°ï¼š&#123;&#125;ï¼Œç”µå­é‚®ç®±ï¼š&#123;&#125;ï¼Œç½‘å€ï¼š&#123;&#125;ï¼Œç•™è¨€å†…å®¹ï¼š&#123;&#125;&quot;</span>.format(<br>            self.username, self.email, self.website, self.message<br>        )<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åŒæ ·å¯ä»¥ä½¿ç”¨ flask shell æµ‹è¯•æ•°æ®åº“çš„è¿æ¥ï¼ŒMongoEngine é»˜è®¤å­—æ®µéƒ½æ˜¯é€‰å¡«çš„ï¼Œä¸æ˜¯å¿…å¡«å­—æ®µéƒ½å¯ä»¥è·³è¿‡ã€‚æ’å…¥æ•°æ®æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://i.loli.net/2020/02/27/mwTK62JGiOkaQBl.png" alt="æ’å…¥æ•°æ®"></p>
<p>åªéœ€è¦ç®€å•ä¿®æ”¹è§†å›¾å‡½æ•°ï¼Œæ¨¡æ¿æ— éœ€æ”¹åŠ¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@app.route(&quot;/&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;])</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    form = MsgBoardForm()<br>    <span class="hljs-keyword">if</span> form.validate_on_submit():<br>        username = form.username.data<br>        email = form.email.data<br>        website = form.website.data<br>        message = form.message.data<br>        msg = MsgBoard(<br>            username=username,<br>            email=email,<br>            website=website,<br>            message=message<br>        )<br>        msg.save()<br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&quot;index&quot;</span>))<br><br>    msg_board = MsgBoard.objects.all()<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, form=form, msg_board=msg_board)<br></code></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/02/27/apEMCyn7d6s59Y2.png" alt="mongoå±•ç¤º"></p>
]]></content>
      <categories>
        <category>Flask æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Flask</tag>
        <tag>MongoEngine</tag>
        <tag>SQLAlchemy</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>Flask æ¡†æ¶ä½¿ç”¨è‡ªå®šä¹‰å‘½ä»¤</title>
    <url>/96.html</url>
    <content><![CDATA[<p><img src="http://docs.jinkan.org/docs/flask/_images/logo-full.png"> åœ¨ä½¿ç”¨flaskæ„å»ºç½‘é¡µçš„æ—¶å€™ï¼Œéš¾å…ä¼šé‡åˆ°æŸä¸€å‘½ä»¤é‡å¤ä½¿ç”¨çš„æƒ…å†µã€‚æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯æ•°æ®åº“çš„ç›¸å…³æ“ä½œã€‚åœ¨ç¼–ç åˆæœŸï¼Œå¦‚æœæ“ä½œæ•°æ®åº“å‡ºé”™ï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯åˆ é™¤é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°æ®åº“æ–‡ä»¶ã€‚ä½†æ˜¯åå¤ç”Ÿæˆæˆ–åˆ é™¤æ•°æ®åº“çš„å·¥ä½œå¾ˆæ— è¶£ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ›´ç®€æ˜“çš„æ–¹æ³•ï¼Ÿå®˜æ–¹æä¾›äº†ä¸€ä¸ªåŸºäº <code>Click</code> å‘½ä»¤è¡Œæ¥å£çš„è‡ªå®šä¹‰å‘½ä»¤çš„åŠŸèƒ½ï¼Œç”¨è¿™ä¸ªåŠŸèƒ½æˆ‘ä»¬å¯ä»¥æŠŠç»å¸¸ç”¨åˆ°çš„æ“ä½œå†™æˆä¸€ä¸ªæ–¹æ³•ï¼Œç›´æ¥è°ƒç”¨å°±å¯ä»¥äº†ã€‚</p>
<a id="more"></a>
<p>ä¸ºäº†ç»ƒä¹ è‡ªå®šä¹‰å‘½ä»¤ï¼Œæˆ‘ä»¬ç®€å•åˆ›å»ºå‡ ä¸ªæ–‡ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">.<br>â”œâ”€â”€ .flaskenv<br>â””â”€â”€ test<br>    â”œâ”€â”€ __init__.py<br>    â””â”€â”€ commands.py<br></code></pre></td></tr></table></figure>

<p><code>.flaskenv</code>ç”¨æ¥æŒ‡æ˜åº”ç”¨çš„åç§°ä¸º<code>test</code>ã€‚ <strong><code>__init__.py</code>æ–‡ä»¶ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><br><br>app = Flask(__name__)<br><br><span class="hljs-keyword">from</span> test <span class="hljs-keyword">import</span> commands<br></code></pre></td></tr></table></figure>

<p><strong><code>commands.py</code>æ–‡ä»¶ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> click<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-keyword">from</span> test <span class="hljs-keyword">import</span> app<br><br><br><span class="hljs-meta">@app.cli.command()</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mkdir</span>():</span><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    ç”Ÿæˆä¸€ä¸ªä»¥æ—¶é—´æˆ³å‘½åçš„æ–‡ä»¶å¤¹</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    os.system(<span class="hljs-string">&quot;mkdir &#123;&#125;&quot;</span>.format(time.time()))<br>    click.echo(<span class="hljs-string">&#x27;ç”Ÿæˆå®Œæˆï¼&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>ç”Ÿæˆå¥½ä»¥åæˆ‘ä»¬åœ¨ç»ˆç«¯æ‰§è¡Œï¼š <code>flask mkdir</code> å‘ç°åœ¨ä¸<code>.flaskenv</code>åŒç›®å½•ä¸‹ç”Ÿæˆäº†ä¸€ä¸ªä»¥æ—¶é—´æˆ³å‘½åçš„æ–‡ä»¶å¤¹ã€‚ å¯¹äºè‡ªå®šä¹‰å‘½ä»¤å®˜æ–¹è¿˜æœ‰å¾ˆå¤šä»‹ç»ï¼š<a href="https://dormousehole.readthedocs.io/en/latest/cli.html#id9">è‡ªå®šä¹‰å‘½ä»¤</a></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Flask</tag>
      </tags>
  </entry>
  <entry>
    <title>Git SSH keys ä»ç”Ÿæˆåˆ°ä½¿ç”¨</title>
    <url>/157.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2014/07/15/23/36/github-394322__480.png" alt="github"></p>
<h2 id="é…ç½®-git-ç”¨æˆ·åå’Œé‚®ç®±"><a href="#é…ç½®-git-ç”¨æˆ·åå’Œé‚®ç®±" class="headerlink" title="é…ç½® git ç”¨æˆ·åå’Œé‚®ç®±"></a>é…ç½® git ç”¨æˆ·åå’Œé‚®ç®±</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">git config --global user.name <span class="hljs-string">&quot;git ç”¨æˆ·å&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;git é‚®ç®±&quot;</span><br></code></pre></td></tr></table></figure>

<h2 id="ç”Ÿæˆå…¬é’¥å’Œç§é’¥"><a href="#ç”Ÿæˆå…¬é’¥å’Œç§é’¥" class="headerlink" title="ç”Ÿæˆå…¬é’¥å’Œç§é’¥"></a>ç”Ÿæˆå…¬é’¥å’Œç§é’¥</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">ssh-keygen -t rsa -C <span class="hljs-string">&quot;git é‚®ç®±&quot;</span><br></code></pre></td></tr></table></figure>

<p>ç„¶åä¸€è·¯å›è½¦ï¼Œç›´åˆ°ç”Ÿæˆç±»ä¼¼çš„å›¾å½¢ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">+--[ RSA 2048]----+<br>|                 |<br>|                 |<br>|        . E +    |<br>|       . o = .   |<br>|      . S =   o  |<br>|       o.O . o   |<br>|       o .+ .    |<br>|      . o+..     |<br>|       .+=o      |<br>+-----------------+<br></code></pre></td></tr></table></figure>

<h2 id="è·å–-id-rsa-pub"><a href="#è·å–-id-rsa-pub" class="headerlink" title="è·å– id_rsa.pub"></a>è·å– id_rsa.pub</h2><p>æ‰¾åˆ° <code>.ssh</code> ç›®å½•ï¼ŒæŸ¥çœ‹ id_rsa.pub æ–‡ä»¶ï¼Œå…¨éƒ¨å¤åˆ¶ï¼Œæ¥ä¸‹æ¥å» github é‡Œé…ç½®ã€‚</p>
<p>ä»¥ä¸Šæ­¥éª¤å¯ä»¥å‚è€ƒæ­¤å›¾ï¼š</p>
<p><img src="https://i.loli.net/2020/02/08/RMr29GUNbasnlzH.png" alt="ssh-key"></p>
<h2 id="é…ç½®-github"><a href="#é…ç½®-github" class="headerlink" title="é…ç½® github"></a>é…ç½® github</h2><p><img src="https://i.loli.net/2020/02/08/SDz3yWk46fwPCvY.png" alt="save_sshkey"></p>
<p>åœ¨ github çš„è®¾ç½®é‡Œæ‰¾åˆ° SSH and GPG keyï¼Œå¡«å…¥åç§°å’Œåˆšå¤åˆ¶çš„å†…å®¹ï¼Œä¿å­˜å³å¯ã€‚</p>
<p>è¿™æ ·é…ç½®ä»¥åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ <a href="mailto:git@github.com">git@github.com</a> å¼€å¤´çš„ä»“åº“é“¾æ¥ï¼Œä¸å†è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>github</tag>
        <tag>SSH</tag>
        <tag>ç»ˆç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>Google Chrome æ’ä»¶æ¨è</title>
    <url>/298.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/03/02/RfrpUcaKJAedv1n.png" alt="chrome"></p>
<p>ä¸°å¯Œçš„æ’ä»¶ä½¿å¾— Chrome æµè§ˆå™¨æ›´åŠ å¼ºå¤§ã€‚è¿™é‡Œæ¨èä¸€éƒ¨åˆ†æ’ä»¶ã€‚ï¼ˆæœ¬æ–‡ä¼šä¸æ–­æ›´æ–°ï¼Œæ”¶é›†æ›´å¤šæ›´å¥½ç”¨çš„ Chrome æµè§ˆå™¨æ’ä»¶ã€‚ï¼‰</p>
<a id="more"></a>
<h1 id="EditThisCookie"><a href="#EditThisCookie" class="headerlink" title="EditThisCookie"></a>EditThisCookie</h1><p><img src="https://i.loli.net/2020/03/02/axTunFVWIHK58Cs.jpg" alt="EditThisCookie"></p>
<p>è¿™æ˜¯ä¸€æ¬¾ Cookie ç®¡ç†å·¥å…·ã€‚å¯ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼Œç¼–è¾‘ï¼Œæœç´¢ï¼Œé”å®šå’Œå±è”½ Cookieã€‚æœ€ç®€å•çš„æ“ä½œæ˜¯å¿«é€Ÿåˆ é™¤ç½‘ç«™ Cookieï¼Œå¦ä¸€ç”¨æ³•æ˜¯å¦‚æœä½ æœ‰ä»–äººç½‘ç«™çš„ Cookieï¼ŒæŒ‰ç…§å¯¹åº”å­—æ®µå¡«è¿›å»ï¼Œåˆ·æ–°ç½‘é¡µï¼Œä½ å°†ç™»å½•ä»–äººçš„è´¦å·ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="FasterChrome"><a href="#FasterChrome" class="headerlink" title="FasterChrome"></a>FasterChrome</h1><p><img src="https://i.loli.net/2020/03/02/hVGKW1XrztTYdRP.png" alt="FasterChrome"></p>
<p>FasterChrome æ¥æºäº instant.page é¡¹ç›®ã€‚é€šè¿‡åˆ¤æ–­ç”¨æˆ·çš„æµè§ˆå’Œç‚¹å‡»é¡µé¢çš„è¡Œä¸ºï¼Œåœ¨ç”¨æˆ·å•å‡»é¡µé¢ä¹‹å‰ç«‹å³é¢„åŠ è½½é¡µé¢ã€‚å› æ­¤ä¼šæå‡åŠ è½½é€Ÿåº¦ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/fasterchrome/nmgpnfccjfjhdenioncabecepjcmdnjg">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="JSON-Formatter"><a href="#JSON-Formatter" class="headerlink" title="JSON Formatter"></a>JSON Formatter</h1><p><img src="https://i.loli.net/2020/03/02/hZL1ngbdUSlpvD2.png" alt="JSON Formatter"></p>
<p>æ ¼å¼åŒ– JSON æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæ–¹ä¾¿å¼€å‘è¿‡ç¨‹ä¸­æŸ¥çœ‹æ¥å£è¿”å›çš„ JSON æ•°æ®ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="Octotree"><a href="#Octotree" class="headerlink" title="Octotree"></a>Octotree</h1><p><img src="https://i.loli.net/2020/03/02/Dg9itZJoR8dePxT.jpg" alt="Octotree"></p>
<p>å¦‚æœä½ ç»å¸¸æµè§ˆ githubï¼Œä¸€å®šä¼šè§‰å¾—æ¯çœ‹ä¸€ä¸ªé¡¹ç›®ï¼Œéƒ½è¦ç‚¹æ— æ•°æ¬¡æ–‡ä»¶å¤¹æ‰å¯èƒ½æ‰¾åˆ°ä½ æƒ³è¦çœ‹çš„æ–‡ä»¶ã€‚ä½†æ˜¯æœ‰äº† Octotreeï¼Œä½ èƒ½åœ¨ç½‘é¡µçš„ä¾§è¾¹æ æŸ¥çœ‹é¡¹ç›®çš„ç›®å½•æ ‘ï¼Œé€šè¿‡ç‚¹å‡»ä¾§è¾¹çš„ç›®å½•ç›´è¾¾æ–‡ä»¶ï¼Œä¹Ÿå¯ç›´æ¥æŸ¥çœ‹æºæ–‡ä»¶ï¼Œéå¸¸æ–¹ä¾¿ï¼</p>
<p><a href="https://chrome.google.com/webstore/detail/octotree/bkhaagjahfmjljalopjnoealnfndnagc">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="Sourcegraph"><a href="#Sourcegraph" class="headerlink" title="Sourcegraph"></a>Sourcegraph</h1><p><img src="https://i.loli.net/2020/03/02/bU2nCFA7gmurIpP.png" alt="Sourcegraph"></p>
<p>è¿™åˆæ˜¯ä¸€å¤§ç¥å™¨ã€‚åŒæ ·æ˜¯åœ¨æµè§ˆ github çš„æ—¶å€™ï¼Œæ–‡ä»¶æ‰¾åˆ°äº†ï¼Œå¯æ˜¯å‡½æ•°è·³è½¬åˆæˆäº†é—®é¢˜ï¼Œè™½ç„¶ç°åœ¨ github é€æ¸æ”¯æŒè·³è½¬æŸ¥çœ‹äº†ï¼Œä½†æ˜¯ Sourcegraph åšçš„æ›´å¥½ï¼Œå°±åƒåœ¨ç¼–è¾‘å™¨é‡ŒæŸ¥çœ‹ä»£ç ä¸€æ ·ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/sourcegraph/dgjhfomjieaadpoljlnidmbgkdffpack">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="Momentum"><a href="#Momentum" class="headerlink" title="Momentum"></a>Momentum</h1><p><img src="https://i.loli.net/2020/03/02/reNfbDzU3alRmVs.jpg" alt="Momentum"></p>
<p>ç»™ä½ ä¸€ä¸ªæ¸…æ–°ç¾ä¸½çš„ Chrome æ¡Œé¢å§ï¼</p>
<p><a href="https://chrome.google.com/webstore/detail/momentum/laookkfknpbbblfpciffpaejjkokdgca">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="Web-Timer"><a href="#Web-Timer" class="headerlink" title="Web Timer"></a>Web Timer</h1><p><img src="https://i.loli.net/2020/03/02/NtV8ck4o6bXy925.jpg" alt="Web Timer"></p>
<p>è®°å½• Chrome æµè§ˆç½‘é¡µçš„æ—¶é—´ï¼Œå¹¶ä»¥é¥¼å›¾çš„å½¢å¼æ˜¾ç¤ºä»Šå¤©ï¼Œæ¯æ—¥å¹³å‡å’Œæ‰€æœ‰æ—¶é—´çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/web-timer/efkkjffdefaaioagghcaflicdajfhceo">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="The-Great-Suspender"><a href="#The-Great-Suspender" class="headerlink" title="The Great Suspender"></a>The Great Suspender</h1><p><img src="https://i.loli.net/2020/03/02/tZSPHkWnEMmbQzU.jpg" alt="The Great Suspender"></p>
<p>æ‰“å¼€è¿‡å¤šçš„ Chrome æ ‡ç­¾ä¼šå ç”¨è®¸å¤šç³»ç»Ÿèµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿå˜æ…¢ï¼ŒThe Great Suspender å¯ä»¥å†»ç»“æš‚æ—¶ç”¨ä¸åˆ°çš„æ ‡ç­¾é¡µï¼Œä»¥ä¾¿é‡Šæ”¾ç³»ç»Ÿèµ„æºã€‚è€Œä¸” The Great Suspender ä¼šè‡ªåŠ¨å±è”½æœ‰è¡¨å•å’Œæ’­æ”¾éŸ³é¢‘çš„ç½‘é¡µï¼Œä¸ä¼šå½±å“æ­£å¸¸å·¥ä½œã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/the-great-suspender/klbibkeccnjlkjkiokjodocebajanakg">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="OneTab"><a href="#OneTab" class="headerlink" title="OneTab"></a>OneTab</h1><p><img src="https://i.loli.net/2020/03/02/A6SXYasU2CklBdO.jpg" alt="OneTab"></p>
<p>è¯´èµ·è¿‡å¤šçš„æ ‡ç­¾ä¼šå ç”¨å¤§é‡ç³»ç»Ÿèµ„æºï¼Œå°±ä¸å¾—ä¸æ OneTab è¿™æ¬¾æ’ä»¶ã€‚å®˜æ–¹å®£ç§°å¯ä»¥èŠ‚çœé«˜è¾¾95ï¼…çš„å†…å­˜ã€‚å½“æœ‰å¤ªå¤šçš„æ ‡ç­¾é¡µæ—¶ï¼Œå•å‡» OneTabï¼Œä¼šå°†æ‰€æœ‰æ ‡ç­¾é¡µè½¬æ¢æˆä¸€ä¸ªç½‘é¡µåˆ—è¡¨ã€‚éœ€è¦å†æ¬¡è®¿é—®è¿™äº›æ ‡ç­¾é¡µæ—¶ï¼Œå¯ä»¥å•ç‹¬æˆ–å…¨éƒ¨æ¢å¤å®ƒä»¬ã€‚</p>
<p>æ—¢èƒ½é‡Šæ”¾å†…å­˜ï¼Œæœ‰å¯ä»¥æ•´ç†æ ‡ç­¾é¡µï¼Œéå¸¸å®ç”¨ï¼å»ºè®®å¤§é‡æ‰“å¼€ Chrome çš„æœ‹å‹ä¸€å®šè¦ä½¿ç”¨ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/onetab/chphlpgkkbolifaimnlloiipkdnihall">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="Dark-Reader"><a href="#Dark-Reader" class="headerlink" title="Dark Reader"></a>Dark Reader</h1><p><img src="https://i.loli.net/2020/03/03/3jasx5v4L1tmWNb.png" alt="Dark Reader"></p>
<p>è¿™æ˜¯ä¸€æ¬¾æŠ¤çœ¼æ‰©å±•ç¨‹åºï¼Œé€šè¿‡å®æ—¶ç”Ÿæˆé»‘è‰²ä¸»é¢˜ï¼Œä¸ºæ¯ä¸€ä¸ªç½‘ç«™å¯ç”¨å¤œé—´æ¨¡å¼ã€‚ Dark Reader åè½¬æ˜äº®çš„é¢œè‰²ï¼Œä½¿å…¶ç½‘é¡µå†…å®¹å…·æœ‰é«˜å¯¹æ¯”åº¦å¹¶ä¸”åœ¨æ˜“äºå¤œé—´é˜…è¯»ã€‚å¯ä»¥è°ƒæ•´äº®åº¦ã€å¯¹æ¯”åº¦ï¼Œåº”ç”¨æ£•è¤è‰²æ»¤é•œã€é»‘æš—æ¨¡å¼ï¼Œè®¾ç½®å­—ä½“å’Œå¿½ç•¥çš„ç½‘ç«™åˆ—è¡¨ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/dark-reader/eimadpbcbfnmbkopoojfekhnkhdbieeh">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="Go-To-Tab"><a href="#Go-To-Tab" class="headerlink" title="Go To Tab"></a>Go To Tab</h1><p><img src="https://i.loli.net/2020/03/03/KMOoHVqeQYvFuaC.jpg" alt="Go To Tab"></p>
<p>é™¤äº† OneTab å¯ä»¥å¸®ä½ åœ¨æ ‡ç­¾é¡µå¤šåˆ°éƒ½çœ‹ä¸æ¸…æ ‡é¢˜çš„æ—¶å€™å¿«é€Ÿé€‰å‡ºä½ æƒ³è¦çš„æ ‡ç­¾é¡µï¼ŒGo To Tab ä¸ç”¨æ”¶èµ·æ ‡ç­¾ä¹Ÿå¯è¾¾åˆ°æ­¤ç›®çš„ã€‚è€Œä¸”æ”¯æŒå¿«æ·é”®å’Œæœç´¢åŠŸèƒ½ï¼Œå¤§å¤§æå‡å¯»æ‰¾æ ‡ç­¾çš„æ•ˆç‡ã€‚æ”¯æŒä¸¤ç§ä¸»é¢˜ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/goto-tab/hjfkaobgkmaeomgdhmhhipdbjdhhjkoi">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="å›¾ç‰‡åŠ©æ‰‹-ImageAssistant-æ‰¹é‡å›¾ç‰‡ä¸‹è½½å™¨"><a href="#å›¾ç‰‡åŠ©æ‰‹-ImageAssistant-æ‰¹é‡å›¾ç‰‡ä¸‹è½½å™¨" class="headerlink" title="å›¾ç‰‡åŠ©æ‰‹(ImageAssistant) æ‰¹é‡å›¾ç‰‡ä¸‹è½½å™¨"></a>å›¾ç‰‡åŠ©æ‰‹(ImageAssistant) æ‰¹é‡å›¾ç‰‡ä¸‹è½½å™¨</h1><p><img src="https://i.loli.net/2020/03/03/5rH9aWLOv7fhKAm.jpg" alt="ImageAssistant"></p>
<p>è¿™æ˜¯ä¸€æ¬¾ç”¨äºå—…æ¢ã€åˆ†æç½‘é¡µå›¾ç‰‡å¹¶æä¾›æ‰¹é‡ä¸‹è½½ç­‰åŠŸèƒ½åŠåœ¨çº¿æ”¶è—ã€æ£€ç´¢ã€åˆ†äº«æœåŠ¡çš„æµè§ˆå™¨æ‰©å±•ç¨‹åºã€‚ä¸ä»…èƒ½å°†å½“å‰é¡µé¢çš„å›¾ç‰‡æŠ“å–ä¸‹æ¥ï¼Œè¿˜èƒ½æ·±å…¥ç›¸å…³é¡µé¢æ”¶é›†å›¾ç‰‡ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/imageassistant-batch-imag/dbjbempljhcmhlfpfacalomonjpalpko">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="æ‰©å±•ç®¡ç†å™¨ï¼ˆExtension-Managerï¼‰"><a href="#æ‰©å±•ç®¡ç†å™¨ï¼ˆExtension-Managerï¼‰" class="headerlink" title="æ‰©å±•ç®¡ç†å™¨ï¼ˆExtension Managerï¼‰"></a>æ‰©å±•ç®¡ç†å™¨ï¼ˆExtension Managerï¼‰</h1><p><img src="https://i.loli.net/2020/03/03/Qy9ra8sb2YfXUGC.png" alt="Extension Manager"></p>
<p>æ’ä»¶å¦‚æœéƒ½å¼€å¯ï¼Œä¼šå ç”¨å¤§é‡ç³»ç»Ÿèµ„æºã€‚Extension Manager ä¸€é”®ç®¡ç†æ‰€æœ‰æ‰©å±•ï¼Œå¿«é€Ÿå¼€å¯/ç¦ç”¨ã€æ‰¹é‡é—ªç”µç®¡ç†ï¼Œæ™ºèƒ½æ’åºï¼Œå³é”®å¸è½½ã€é”å®šã€é€‰é¡¹é…ç½®ï¼Œè§’æ ‡æé†’ï¼Œå¤§å°å¸ƒå±€éšå¿ƒé…ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/extension-manager/gjldcdngmdknpinoemndlidpcabkggco">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="Full-Page-Screen-Capture"><a href="#Full-Page-Screen-Capture" class="headerlink" title="Full Page Screen Capture"></a>Full Page Screen Capture</h1><p><img src="https://i.loli.net/2020/03/05/W8hckSox6wsJRTU.jpg" alt="Full Page Screen Capture"></p>
<p>åœ¨æµè§ˆç½‘é¡µæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰å°†æ•´ä¸ªç½‘é¡µä¿å­˜æˆå›¾ç‰‡çš„éœ€æ±‚ã€‚å¯ä»¥ä½¿ç”¨æµè§ˆå™¨è‡ªå¸¦çš„æˆªå›¾åŠŸèƒ½ï¼Œä½†æ˜¯æ“ä½œå¤æ‚ï¼Œä¸å¤Ÿä¼˜é›…ã€‚Full Page Screen Capture èƒ½å®Œæ•´è€Œå¯é åœ°æ•è·å½“å‰é¡µé¢çš„å±å¹•æˆªå›¾ï¼Œæ–¹ä¾¿å¿«æ·ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/full-page-screen-capture/fdpohaocaechififmbbbbbknoalclacl">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="Chrome-æ¸…ç†å¤§å¸ˆ"><a href="#Chrome-æ¸…ç†å¤§å¸ˆ" class="headerlink" title="Chrome æ¸…ç†å¤§å¸ˆ"></a>Chrome æ¸…ç†å¤§å¸ˆ</h1><p><img src="https://i.loli.net/2020/03/05/6algusJeE7NnvUo.png" alt="Chrome æ¸…ç†å¤§å¸ˆ"></p>
<p>Chrome æ¸…ç†å¤§å¸ˆå¸®åŠ©ç”¨æˆ·ä¸€é”®æ¸…ç†æ‚¨çš„æµè§ˆå™¨ç¼“å­˜å’Œåƒåœ¾ã€‚å¯ä»¥æ ¹æ®æ—¶é—´èŒƒå›´ï¼Œæ¸…ç†é¡¹ç›®ç­‰è¦æ±‚æŒ‰éœ€æ¸…ç†ï¼Œè¿˜èƒ½åœ¨å…³é—­æµè§ˆå™¨çš„æ—¶å€™æ¸…ç†ç¼“å­˜ç­‰åƒåœ¾ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/clean-master-the-best-chr/eagiakjmjnblliacokhcalebgnhellfi">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<h1 id="Amino"><a href="#Amino" class="headerlink" title="Amino"></a>Amino</h1><p><img src="https://i.loli.net/2020/03/05/tZ8UFGdp4v3MbiW.jpg" alt="Amino"></p>
<p>è¿™åˆæ˜¯ä¸€æ¬¾ CSS å®æ—¶ç¼–è¾‘å™¨ã€‚ä¸ä»…èƒ½å¸®åŠ©ç”¨æˆ·è‡ªå®šä¹‰ç½‘ç«™çš„æ ·å¼ï¼Œè¿˜èƒ½åœ¨ç½‘é¡µå¼€å‘è¿‡ç¨‹ä¸­å¿«é€Ÿè°ƒè¯•ï¼Œæœ‰æ˜äº®å’Œæš—é»‘ä¸¤ç§ä¸»é¢˜ï¼Œæ”¯æŒä»£ç æç¤ºå’Œè¡¥å…¨ã€‚</p>
<p><a href="https://chrome.google.com/webstore/detail/amino-live-css-editor/pbcpfbcibpcbfbmddogfhcijfpboeaaf">ğŸ‘‰ Google åº”ç”¨å•†åº—</a></p>
<p><strong>æœªå®Œå¾…ç»­â€¦</strong></p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>Chrome æ’ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML å®ç°æ‰“å­—æœºæ•ˆæœ</title>
    <url>/97.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/01/30/22/04/typewriter-1170657__480.jpg"> æ€æ ·è®©åšå®¢çš„æ ‡è¯­æ›´ä¸ä¼—ä¸åŒå‘¢ï¼Ÿ å¯ä»¥ä½¿ç”¨æ‰“å­—æœºæ•ˆæœï¼Œè®©æ ‡è¯­ä¸€å­—ä¸€å­—æ‰“å‡ºæ¥ã€‚è¿™æ ·çœ‹èµ·æ¥æ›´æœ‰åŠ¨æ„Ÿã€‚</p>
<a id="more"></a>
<p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ç”¨åˆ° <a href="https://github.com/mattboldt/typed.js/">typed.js</a>ã€‚</p>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">npm install typed.js<br><br>yarn add typed.js<br><br>bower install typed.js<br></code></pre></td></tr></table></figure>

<h1 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h1><figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;typed.js@2.0.11&quot;&gt;&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;html&gt;<br><br>  &lt;head&gt;<br>    &lt;title&gt;TypedJS Test&lt;&#x2F;title&gt;<br>    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;typed.js@2.0.11&quot;&gt;&lt;&#x2F;script&gt;<br>  &lt;&#x2F;head&gt;<br><br>  &lt;body&gt;<br>    &lt;span class&#x3D;&quot;test&quot;&gt;&lt;&#x2F;span&gt;<br>    &lt;script&gt;var options &#x3D; &#123;<br>        strings: [&#39;å¤©è¡Œå¥ï¼Œå›å­ä»¥è‡ªå¼ºä¸æ¯ã€‚&#39;],<br>        typeSpeed: 40<br>      &#125;;<br><br>      var typed &#x3D; new Typed(&#39;.test&#39;, options);<br>    &lt;&#x2F;script&gt;<br>  &lt;&#x2F;body&gt;<br><br>&lt;&#x2F;html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="å®˜æ–¹ç¤ºä¾‹"><a href="#å®˜æ–¹ç¤ºä¾‹" class="headerlink" title="å®˜æ–¹ç¤ºä¾‹"></a>å®˜æ–¹ç¤ºä¾‹</h1><p>å¯ä»¥å‚è€ƒè¿™ä¸ªç½‘é¡µçš„æ•ˆæœï¼š<a href="http://mattboldt.github.io/typed.js/">http://mattboldt.github.io/typed.js/</a></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº LNMP æ­å»º Typecho åšå®¢</title>
    <url>/314.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/03/11/L3GAvD64g85qtZ1.png" alt="typecho"></p>
<p>Typecho æ˜¯é™¤äº† Wordpress åˆä¸€åšå®¢ç³»ç»Ÿï¼Œéå¸¸è½»é‡ã€‚</p>
<a id="more"></a>
<p>Typecho éƒ½æœ‰å“ªäº›ç‰¹ç‚¹å‘¢ï¼Ÿ</p>
<p><strong>1. è½»é‡é«˜æ•ˆï¼š</strong>ä»…ä»… 7 å¼ æ•°æ®è¡¨ï¼ŒåŠ ä¸Šä¸è¶³ 400KB çš„ä»£ç ï¼Œå°±å®ç°äº†å®Œæ•´çš„æ’ä»¶ä¸æ¨¡æ¿æœºåˆ¶ã€‚è¶…ä½çš„ CPU å’Œå†…å­˜ä½¿ç”¨ç‡ï¼Œè¶³ä»¥å‘æŒ¥ä¸»æœºçš„æœ€é«˜æ€§èƒ½ã€‚</p>
<p><strong>2. å…ˆè¿›ç¨³å®šï¼š</strong>åŸç”Ÿæ”¯æŒ Markdown æ’ç‰ˆè¯­æ³•ï¼Œæ˜“è¯»æ›´æ˜“å†™ã€‚æ”¯æŒ BAE/GAE/SAE ç­‰å„ç±»äº‘ä¸»æœºï¼Œå³ä½¿é¢å¯¹çªå¦‚å…¶æ¥çš„é«˜è®¿é—®é‡ï¼Œä¹Ÿèƒ½è½»æ¾åº”å¯¹ã€‚</p>
<p><strong>3. ç®€æ´å‹å¥½ï¼š</strong>ç²¾å¿ƒæ‰“ç£¨è¿‡çš„æ“ä½œç•Œé¢ï¼Œä¾ç„¶æ˜¯ä½ ç†Ÿæ‚‰çš„é¢å­”ï¼Œæ›´å¤šäº†ä¸€ä»½æˆç†Ÿä¸è´´å¿ƒã€‚æ¯ä¸€ä¸ªåƒç´ çš„å‰ªè£ï¼Œéƒ½åªä¸ºç¦»å®Œç¾æ›´è¿›ä¸€æ­¥ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¦‚æœä½ ä¸å–œæ¬¢ Wordpress ä¿å§†å¼çš„åšå®¢ç³»ç»Ÿï¼Œåªæƒ³ç®€å•å†™å†™æ–‡å­—ï¼Œè‡ªå®šä¹‰ä¸»é¢˜ï¼Œå¯ä»¥è¯•è¯• Typechoã€‚</p>
<h1 id="LNMP"><a href="#LNMP" class="headerlink" title="LNMP"></a>LNMP</h1><p>æœåŠ¡å™¨ç‰ˆæœ¬æ˜¯ Ubuntu 16.04.6 LTSã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">sudo apt-get install -y nginx mysql-server php-fpm php-xml php-mysql<br></code></pre></td></tr></table></figure>

<p>å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºè¾“å…¥æ•°æ®åº“çš„å¯†ç ï¼Œä¹‹åç­‰å¾…å®‰è£…å®Œæˆã€‚</p>
<p>çœ‹è¿‡<a href="https://lijianxun.top/34.html">ã€ŠåŸºäº LNMP æ­å»º Wordpress åšå®¢ã€‹</a>è¿™ç¯‡æ–‡ç« çš„æœ‹å‹å¯èƒ½è§‰å¾—å®‰è£… LNMP çš„å‘½ä»¤ä¸€æ ·ï¼Œå…¶å®åœ¨æœ¬æ–‡å®‰è£…è¿‡ç¨‹ä¸­å¤šäº†ä¸€ä¸ª <code>php-xml</code>ã€‚</p>
<p>å¦‚æœæ²¡æœ‰ <code>php-xml</code>ï¼Œå¯èƒ½åœ¨å®‰è£…å®Œæˆä»¥åä¼šæŠ¥é”™ï¼Œ**æç¤º <code>Call to undefined function utf8_decode()</code>**ã€‚</p>
<h2 id="é…ç½®-nginx"><a href="#é…ç½®-nginx" class="headerlink" title="é…ç½® nginx"></a>é…ç½® nginx</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">server &#123;<br>    listen 80 default_server;<br>    listen [::]:80 default_server;<br><br>    root /var/www/html;<br><br>    index index.php index.html index.htm;<br><br>    server_name _;<br><br>    location / &#123;<br>        <span class="hljs-keyword">if</span> (-f <span class="hljs-variable">$request_filename</span>/index.html)&#123;<br>            rewrite (.*) <span class="hljs-variable">$1</span>/index.html <span class="hljs-built_in">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (-f <span class="hljs-variable">$request_filename</span>/index.php)&#123;<br>            rewrite (.*) <span class="hljs-variable">$1</span>/index.php;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (!-f <span class="hljs-variable">$request_filename</span>)&#123;<br>            rewrite (.*) /index.php;<br>        &#125;<br>        try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ =404;<br>    &#125;<br><br>  location ~ \.php$ &#123;<br>    include snippets/fastcgi-php.conf;<br>    fastcgi_pass unix:/run/php/php7.0-fpm.sock;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ä¸‹è¾¹è¿™éƒ¨åˆ†é…ç½®æ˜¯ä¸ºäº†é˜²æ­¢åæœŸå®‰è£…å®Œæˆåï¼Œ<strong>æ–‡ç« è¯¦æƒ…é¡µå’Œåå°é¡µé¢å‡ºç° 404 é”™è¯¯</strong>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">if</span> (-f <span class="hljs-variable">$request_filename</span>/index.html)&#123;<br>    rewrite (.*) <span class="hljs-variable">$1</span>/index.html <span class="hljs-built_in">break</span>;<br>&#125;<br><span class="hljs-keyword">if</span> (-f <span class="hljs-variable">$request_filename</span>/index.php)&#123;<br>    rewrite (.*) <span class="hljs-variable">$1</span>/index.php;<br>&#125;<br><span class="hljs-keyword">if</span> (!-f <span class="hljs-variable">$request_filename</span>)&#123;<br>    rewrite (.*) /index.php;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="é…ç½®æ•°æ®åº“ï¼ˆå¯å…ˆè·³è¿‡ï¼‰"><a href="#é…ç½®æ•°æ®åº“ï¼ˆå¯å…ˆè·³è¿‡ï¼‰" class="headerlink" title="é…ç½®æ•°æ®åº“ï¼ˆå¯å…ˆè·³è¿‡ï¼‰"></a>é…ç½®æ•°æ®åº“ï¼ˆå¯å…ˆè·³è¿‡ï¼‰</h2><p><code>mysql -u root -p</code></p>
<p>è¾“å…¥å¯†ç ï¼Œè¿›å…¥æ•°æ®åº“ã€‚</p>
<p><code>create database typecho;</code></p>
<p>åˆ›å»º typecho æ•°æ®åº“ï¼Œåœ¨ä¹‹åå®‰è£…çš„æ—¶å€™å¯ä»¥é¿å…<strong>å¯¹ä¸èµ·ï¼Œæ— æ³•è¿æ¥æ•°æ®åº“ï¼Œè¯·å…ˆæ£€æŸ¥æ•°æ®åº“é…ç½®å†ç»§ç»­è¿›è¡Œå®‰è£…</strong>è¿™ä¸ªé”™è¯¯ï¼Œä¸è¿‡è¿™ä¸€æ­¥å¯ä»¥å…ˆå¿½ç•¥ï¼Œå¦‚æœä¹‹åå®‰è£…å‡ºç°é—®é¢˜ï¼Œå¯ä»¥å›æ¥æŸ¥çœ‹ã€‚</p>
<h1 id="Typecho"><a href="#Typecho" class="headerlink" title="Typecho"></a>Typecho</h1><p>Typecho å®˜ç½‘çš„ä¸‹è½½é“¾æ¥ï¼š<a href="http://typecho.org/download%E3%80%82">http://typecho.org/downloadã€‚</a></p>
<p>ç›®å‰æœ€æ–°ç‰ˆæ˜¯ Typecho 1.1(17.10.30)ï¼Œä¸‹è½½é“¾æ¥ä¸ºï¼š</p>
<p><a href="http://typecho.org/downloads/1.1-17.10.30-release.tar.gz">http://typecho.org/downloads/1.1-17.10.30-release.tar.gz</a></p>
<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><code>wget http://typecho.org/downloads/1.1-17.10.30-release.tar.gz</code></p>
<h2 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h2><p><code>tar zxvf 1.1-17.10.30-release.tar.gz</code></p>
<h2 id="ç§»åŠ¨åˆ°-var-www-html"><a href="#ç§»åŠ¨åˆ°-var-www-html" class="headerlink" title="ç§»åŠ¨åˆ° /var/www/html/"></a>ç§»åŠ¨åˆ° /var/www/html/</h2><p><code>sudo mv build/* /var/www/html/</code></p>
<h2 id="èµ‹äºˆæƒé™"><a href="#èµ‹äºˆæƒé™" class="headerlink" title="èµ‹äºˆæƒé™"></a>èµ‹äºˆæƒé™</h2><p><code>cd /var/www/html/ &amp;&amp; sudo chmod 777 *</code></p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥æœåŠ¡å™¨çš„å…¬ç½‘ IPï¼Œåæ¥ install.phpã€‚å°±è¿›å…¥äº†å®‰è£…é¡µé¢ã€‚æ ¹æ®æç¤ºå®Œæˆå®‰è£…ã€‚</p>
<h1 id="å¤§åŠŸå‘Šæˆ"><a href="#å¤§åŠŸå‘Šæˆ" class="headerlink" title="å¤§åŠŸå‘Šæˆ"></a>å¤§åŠŸå‘Šæˆ</h1><p><img src="https://i.loli.net/2020/03/11/2TLJyQd5wqeZ63z.png" alt="å®‰è£…å®Œæˆ"></p>
<p>å¦‚æœæŒ‰ç…§ä¸Šæ–‡é…ç½® nginx å’Œ mysqlï¼Œå½“å®‰è£…å®Œæˆåï¼Œå†æ¬¡è®¿é—®å…¬ç½‘ IPï¼Œä¼šæ˜¾ç¤ºæ­¤ç•Œé¢ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>typecho</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³ Electron å®‰è£…æ…¢é—®é¢˜</title>
    <url>/322.html</url>
    <content><![CDATA[<p>å³ä½¿ä½¿ç”¨äº†æ·˜å®æºåŒæ ·å¾ˆæ…¢å¾ˆæ…¢ï¼Œå¡åˆ°è¶…æ—¶ã€‚</p>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">npm install electron -g --registry http://registry.cnpmjs.org<br>/Users/lijianxun/.npm-global/bin/electron -&gt; /Users/lijianxun/.npm-global/lib/node_modules/electron/cli.js<br><br>&gt; electron@8.1.1 postinstall /Users/lijianxun/.npm-global/lib/node_modules/electron<br>&gt; node install.js<br><br>Downloading electron-v8.1.1-darwin-x64.zip: [----------------------------------------------------------------------------------------------------] 0% ETA: 0.0 seconds <br>Downloading electron-v8.1.1-darwin-x64.zip: [=------------------------------------------------------------------------------------------------] 1% ETA: 1001.0 seconds <br>Downloading electron-v8.1.1-darwin-x64.zip: [=------------------------------------------------------------------------------------------------] 1% ETA: 5341.0 seconds <br>Downloading electron-v8.1.1-darwin-x64.zip: [=-----------------------------------------------------------------------------------------------] 1% ETA: 16632.8 seconds <br>Downloading electron-v8.1.1-darwin-x64.zip: [=-----------------------------------------------------------------------------------------------] 1% ETA: 29791.6 seconds <br>Downloading electron-v8.1.1-darwin-x64.zip: [=-----------------------------------------------------------------------------------------------] 1% ETA: 30169.9 seconds <br>Downloading electron-v8.1.1-darwin-x64.zip: [=-----------------------------------------------------------------------------------------------] 1% ETA: 46042.1 seconds <br>Downloading electron-v8.1.1-darwin-x64.zip: [=-----------------------------------------------------------------------------------------------] 1% ETA: 55368.6 seconds <br>Downloading electron-v8.1.1-darwin-x64.zip: [=-----------------------------------------------------------------------------------------------] 1% ETA: 66519.9 seconds <br>Downloading electron-v8.1.1-darwin-x64.zip: [=-----------------------------------------------------------------------------------------------] 1% ETA: 76038.8 seconds <br>Downloading electron-v8.1.1-darwin-x64.zip: [=-----------------------------------------------------------------------------------------------] 1% ETA: 93503.3 seconds<br></code></pre></td></tr></table></figure>

<p>çœ‹åˆ°è¿™æ ·çš„è¿›åº¦æ¡å°±å¤´ç–¼ï¼Œå¦‚ä½•åŠ é€Ÿä¸‹è½½å®‰è£… Electron å‘¢ï¼Ÿ</p>
<h1 id="è§£å†³åŠæ³•ï¼š"><a href="#è§£å†³åŠæ³•ï¼š" class="headerlink" title="è§£å†³åŠæ³•ï¼š"></a>è§£å†³åŠæ³•ï¼š</h1><p><code>npm config set electron_mirror http://npm.taobao.org/mirrors/electron/</code></p>
<p><code>npm config set electron_custom_dir &quot;8.1.1&quot;</code></p>
<p>ç„¶åå†å…¨å±€å®‰è£… Electronï¼š</p>
<p><code>npm install electron -g</code></p>
<h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><p>å®‰è£…åªéœ€ 12.91 ç§’ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/bzwys/blog-imgs@master/imgs/20200314165719.png"></p>
<blockquote>
<p>å‚è€ƒï¼š<a href="https://www.hellojava.com/a/86921.html">è§£å†³electronè¢«å¢™é—®é¢˜</a></p>
</blockquote>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>ç»ˆç«¯</tag>
        <tag>Electron</tag>
      </tags>
  </entry>
  <entry>
    <title>Kratos-2.8.0</title>
    <url>/139.html</url>
    <content><![CDATA[<p>table { width: 100%; border: 1px solid #eee; box-shadow: 1px 1px 1px #eee; margin-top: 10px; margin-bottom: 10px; } th { text-align: center; border-bottom:1px solid #dedede; } td { border-color:#dedede; border-style:solid; border-width:1px } .textwidget { text-align: center; } .custom-html-widget { text-align: left; }</p>
]]></content>
      <categories>
        <category>uncategorized</category>
      </categories>
  </entry>
  <entry>
    <title>Kratos-3.0.0</title>
    <url>/250.html</url>
    <content><![CDATA[<p>.k-main .details .article .content img { height: auto; max-width: 100%; margin-left: auto; margin-right:auto; display:block; } .k-main .details .article .content video { clear:both; display:block; margin:auto; border-radius: 5px; } .k-main .details .article .content li { margin-bottom: 5px; list-style: outside; } .k-main .details .article .content li a { color: darkslategray; }</p>
]]></content>
      <categories>
        <category>uncategorized</category>
      </categories>
  </entry>
  <entry>
    <title>Loon é…ç½®æ–‡ä»¶åˆ†äº«</title>
    <url>/209.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/18/grvkt1eENAOd6DS.jpg" alt="bg"></p>
<p>è¿™æ˜¯ä¸€ä»½éå®˜æ–¹çš„ä¸ªäººé…ç½®ï¼Œå’Œä¹‹å‰çš„ <a href="https://lijianxun.top/106.html">QuantumultX é…ç½®</a>ç±»ä¼¼ï¼Œå› ä¸ºæ²¡æœ‰å¤æ‚çš„éœ€æ±‚ï¼Œæ‰€ä»¥æ²¡æœ‰å¤æ‚çš„ç­–ç•¥ç»„ã€‚å°½é‡åšåˆ°ç®€å•å®ç”¨ã€‚å¦‚æœä½ å’Œæˆ‘æœ‰ç€åŒæ ·çš„éœ€æ±‚ï¼Œå¯ä»¥ç»§ç»­é˜…è¯»ã€‚å¦‚æœä½ æ˜¯å°ç™½æƒ³å…¥é—¨ä½¿ç”¨ Loonï¼Œå¯ä»¥ç»§ç»­é˜…è¯»ã€‚</p>
<a id="more"></a>
<p>è¿™ä»½é…ç½®èåˆäº†<a href="https://www.notion.so/aea3efeb1b1e4b38b258c626df09c548">å®˜æ–¹æ¨èé…ç½®æ–‡ä»¶</a>ï¼Œåœ¨ä¿è¯åªæœ‰ä¸€ç»„ç­–ç•¥çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨äº† NobyDaï¼ŒACL4SSR å’Œç¥æœºè§„åˆ™ã€‚å®ç°å›½å†…ç›´è¿ï¼Œå›½å¤–æ‰¶æ¢¯ï¼Œå»é™¤å¹¿å‘Šçš„æ•ˆæœã€‚</p>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™æ˜¯ä¸€ä»½å•†åº—ç‰ˆçš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨è„šæœ¬åŠŸèƒ½ï¼Œè¿™ä»½é…ç½®æš‚æ—¶ä¸æ”¯æŒï¼Œä½†è¯¥é…ç½®æ–‡ä»¶ä¼šéš Loon å•†åº—ç‰ˆæœ¬åŒæ­¥æ›´æ–°ï¼Œè¯·æŒç»­å…³æ³¨ã€‚</strong></p>
<h1 id="Loon"><a href="#Loon" class="headerlink" title="Loon"></a>Loon</h1><p><img src="https://i.loli.net/2020/02/18/Tvgy5YaOofMxCn4.jpg" alt="ç•Œé¢"></p>
<p>ç•Œé¢ç¾è§‚ï¼Œå¾ˆå¥½çœ‹ã€‚é¦–é¡µçš„ä»ªè¡¨ç›˜ï¼ˆå¿«æ·æ–¹å¼ï¼‰å‡ ä¹åŒ…å«äº†æ‰€æœ‰åŠŸèƒ½é€‰é¡¹ã€‚å½“ç„¶è¿™äº›é€‰é¡¹éƒ½æ˜¯å¯ä»¥è‡ªå®šä¹‰å±•ç¤ºä¸å¦ã€‚ä½†æ˜¯å¯¹ä¸å–œæ¬¢æŠ˜è…¾è¿™ç±»è½¯ä»¶ï¼Œåªæƒ³è¾¾åˆ°ä¸Šç½‘å»å¹¿å‘Šçš„ç›®çš„çš„åŒå­¦æ¥è¯´å¯èƒ½æœ‰äº›ä¸å‹å¥½ã€‚æ‰€ä»¥æˆ‘ä¸ªäººæ•´ç†äº†è¿™ä»½ç®€å•é…ç½®ï¼Œä»€ä¹ˆéº»çƒ¦çœ‹ä¸æ‡‚çš„é…ç½®ç»Ÿç»Ÿèµ°å¼€ï¼Œæˆ‘åªæƒ³ç®€å•å¿«é€Ÿä¸Šç½‘ï¼</p>
<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><h3 id="1-å¤åˆ¶é…ç½®æ–‡ä»¶-URL"><a href="#1-å¤åˆ¶é…ç½®æ–‡ä»¶-URL" class="headerlink" title="1 - å¤åˆ¶é…ç½®æ–‡ä»¶ URL"></a>1 - å¤åˆ¶é…ç½®æ–‡ä»¶ URL</h3><p><a href="https://raw.githubusercontent.com/alpha87/Loon-Profiles/master/LoonConfig.yaml"></a><a href="https://raw.githubusercontent.com/alpha87/Loon-Profiles/master/LoonConfig.yaml">https://raw.githubusercontent.com/alpha87/Loon-Profiles/master/LoonConfig.yaml</a></p>
<h3 id="2-åœ¨é…ç½®ä¸­é€‰æ‹©-ä»-URL-ä¸‹è½½"><a href="#2-åœ¨é…ç½®ä¸­é€‰æ‹©-ä»-URL-ä¸‹è½½" class="headerlink" title="2 - åœ¨é…ç½®ä¸­é€‰æ‹© ä» URL ä¸‹è½½"></a>2 - åœ¨é…ç½®ä¸­é€‰æ‹© <strong>ä» URL ä¸‹è½½</strong></h3><p><img src="https://i.loli.net/2020/02/18/uG51OST6wokjDyp.jpg" alt="ä¸‹è½½é…ç½®æ–‡ä»¶"></p>
<h3 id="3-ä¿®æ”¹è®¢é˜…é“¾æ¥"><a href="#3-ä¿®æ”¹è®¢é˜…é“¾æ¥" class="headerlink" title="3 - ä¿®æ”¹è®¢é˜…é“¾æ¥"></a>3 - ä¿®æ”¹è®¢é˜…é“¾æ¥</h3><p><img src="https://i.loli.net/2020/02/18/B9qSmd3caOWfueK.jpg" alt="ä¿®æ”¹è®¢é˜…é“¾æ¥"></p>
<p>å·¦åˆ’ç‚¹å‡» ç¼–è¾‘ï¼Œå°†ç¤ºä¾‹è®¢é˜…é“¾æ¥æ”¹ä¸ºä½ çš„è®¢é˜…é“¾æ¥ã€‚</p>
<p>ç”±äº Loon é…ç½®æ–‡ä»¶çš„æœºåˆ¶ï¼Œå¿…é¡»å­˜åœ¨ä¸€ç»„ç­–ç•¥ç»„ï¼Œæ‰€ä»¥å¦‚æœä½ åªæœ‰ä¸€ä¸ªæœºåœºï¼Œè¿™æ ·ä¿®æ”¹å®Œå…¨æ»¡è¶³éœ€è¦ã€‚å¦‚æœä½ æœ‰å¤šä¸ªè®¢é˜…é“¾æ¥ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶çš„è¿™éƒ¨åˆ†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">[Remote Proxy]<br>Subs0 = https://example/server-complete.txt<br>Subs1 = https://example/server-complete.txt<br><br>[Proxy Group]<br>Default = select, Subs0, Subs1<br></code></pre></td></tr></table></figure>

<p>å…¶ä¸­ Subs æ˜¯è®¢é˜…é“¾æ¥çš„åç§°ï¼Œå¹¶ä¸”éœ€è¦åœ¨ <code>[Proxy Group]</code> çš„ Default ä¸­å¢åŠ è¯¥åç§°ï¼Œè¿™æ ·å°±ä¿è¯ç­–ç•¥ç»„ä½¿ç”¨äº†æ‰€æœ‰çš„è®¢é˜…èŠ‚ç‚¹ã€‚</p>
<h3 id="4-å¼€å¯-MITMï¼ˆå¯é€‰ï¼‰"><a href="#4-å¼€å¯-MITMï¼ˆå¯é€‰ï¼‰" class="headerlink" title="4 - å¼€å¯ MITMï¼ˆå¯é€‰ï¼‰"></a>4 - å¼€å¯ MITMï¼ˆå¯é€‰ï¼‰</h3><p><img src="https://i.loli.net/2020/02/18/PbJEeA1D5lIOw8y.jpg" alt="å¼€å¯ MITM"></p>
<p>å¦‚æœä½ æ˜¯ä» QuantumultX è¿‡æ¥çš„ç”¨æˆ·åº”è¯¥çŸ¥é“è¿™ä¸ªé€‰é¡¹ã€‚å¦‚æœä½ æ˜¯ä¸€åæ–°ç”¨æˆ·ï¼Œç®€å•ç†è§£ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ä¼šæå‡å»å¹¿å‘Šçš„èƒ½åŠ›ã€‚å½“ç„¶å¦‚æœä¹‹åé…åˆè„šæœ¬è¿˜ä¼šæœ‰å…¶ä»–åŠŸæ•ˆã€‚</p>
<p>è¿™æ ·é…ç½®å®Œæˆåï¼Œå°±å¯ä»¥ç›´æ¥å¼€å§‹ä½¿ç”¨äº†ã€‚</p>
<p>ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾æ­¤è§†é¢‘ï¼</p>
<h1 id="è¿›é˜¶æ•™ç¨‹"><a href="#è¿›é˜¶æ•™ç¨‹" class="headerlink" title="è¿›é˜¶æ•™ç¨‹"></a>è¿›é˜¶æ•™ç¨‹</h1><p>è¿™ä»½é…ç½®åªæ˜¯å¸®åŠ©ä½ å¿«é€Ÿä½¿ç”¨ Loonï¼Œæˆ‘ä»¬è¿˜èƒ½æ ¹æ®èŠ‚ç‚¹çš„å“åº”é€Ÿåº¦è‡ªåŠ¨é€‰æ‹©èŠ‚ç‚¹ï¼Œæ ¹æ® WIFI åç§°ï¼Œèœ‚çªç½‘ç»œç­‰é€‰æ‹©èŠ‚ç‚¹æˆ–ç­–ç•¥ç»„ç­‰ç­‰ã€‚å½“ç„¶äº†ï¼ŒLoon åŒæ ·æœ‰ä¸€ä»½è¯¦ç»†æ•™ç¨‹ã€‚</p>
<p>æ›´å¤šç”¨æ³•è¿˜è¯·å‚è€ƒ <a href="https://www.notion.so/Loon-f0a98c39f5224c09b281c79837380431">Loon ä¸å®Œå…¨æ•™ç¨‹</a>ã€‚</p>
<p>æ„Ÿè°¢é˜…è¯»ã€‚</p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>Loon</tag>
        <tag>ç§‘å­¦ä¸Šç½‘</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac æœ€å¼ºè™šæ‹Ÿæœº Parallels Desktop ä¸‹è½½</title>
    <url>/334.html</url>
    <content><![CDATA[<p>Parallels Desktop åº”è¯¥æ˜¯ Mac ç³»ç»Ÿæœ€å¥½ç”¨ï¼ˆä¹‹ä¸€ï¼‰ä¹Ÿæ˜¯æœ€è´µçš„è™šæ‹Ÿæœºäº†å§ã€‚</p>
<a id="more"></a>
<p><img src="https://i.loli.net/2020/03/24/EYQW7JXaTyImOwg.png" alt="å…³äº"></p>
<p>åº”è¯¥ä¸ç”¨è¿‡å¤šä»‹ç»äº†ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢å’Œè°ï¼Œè¯·å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼š<strong>å®…å®…ç”Ÿæ´»æ”¶è—å¤¹</strong>ã€‚å›å¤ <strong>è™šæ‹Ÿæœº</strong> è·å¾—é“¾æ¥å¯†ç ã€‚</p>
<p><strong>ç™¾åº¦ç½‘ç›˜ï¼š</strong></p>
<p><a href="https://pan.baidu.com/s/1RqkIQiS3qysJoHVzqB23fQ">https://pan.baidu.com/s/1RqkIQiS3qysJoHVzqB23fQ</a></p>
<p><strong>å¾®äº‘ï¼š</strong></p>
<p><a href="https://share.weiyun.com/5l6YPIO">https://share.weiyun.com/5l6YPIO</a></p>
<p><strong>å¤©ç¿¼äº‘ï¼š</strong></p>
<p><a href="https://cloud.189.cn/t/fiiUvmzau2ei">https://cloud.189.cn/t/fiiUvmzau2ei</a></p>
<p>æ²¡æœ‰ç™¾åº¦å’Œå¾®äº‘çš„ä¼šå‘˜ï¼Œå¯ä»¥å…ˆè¯•è¯•å¤©ç¿¼äº‘ã€‚å¤©ç¿¼äº‘ä¸‹è½½ä¸é™é€Ÿï¼Œä½†æ˜¯å¦‚æœè¶…è¿‡ä¸€å®šä¸‹è½½æ¬¡æ•°å¿…é¡»ç™»å½•æ‰èƒ½ä¸‹è½½ã€‚</p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac ä¸‹å®‰è£… MySQL Python åŒ…</title>
    <url>/100.html</url>
    <content><![CDATA[<p>ç®€å•å‡ æ­¥è§£å†³é—®é¢˜ï¼š</p>
<a id="more"></a>
<ol>
<li><p><code>brew install MySQL</code></p>
</li>
<li><p><code>mysql.server start</code></p>
</li>
<li><p>mysqlè®¾ç½®å¯†ç ï¼š<code>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;</code></p>
</li>
<li><p><code>brew unlink mysql</code></p>
</li>
<li><p><code>brew install mysql-connector-c</code></p>
</li>
<li><p><code>brew link --overwrite mysql</code></p>
</li>
<li><p><code>pip install --user MySQL-python</code></p>
</li>
</ol>
<p>ä¸€èˆ¬è¿™æ ·å°±è£…å¥½äº†ã€‚ å¦‚æœé‡åˆ°äº†ï¼š <code>ld: library not found for -lssl</code> è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ç¬¬_7_æ­¥ä½¿ç”¨pipå¯ä»¥æ›¿æ¢ä¸º <code>env LDFLAGS=&quot;-I/usr/local/opt/openssl/include -L/usr/local/opt/openssl/lib&quot; pip install MySQL-python</code></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Mac</tag>
        <tag>MySQL</tag>
        <tag>MySQL-python</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac å…è®¸ä»»ä½•æ¥æº App</title>
    <url>/102.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2015/08/11/06/35/startup-883576__480.jpg"> å¦‚æœåœ¨å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°â€œåº”ç”¨å·²æŸåâ€çš„é—®é¢˜ï¼Œè¯´æ˜ç³»ç»Ÿä¸å…è®¸å®‰è£…å…¶ä»–æ¥æºçš„åº”ç”¨ã€‚ å¦‚ä½•è®©Macå…è®¸å®‰è£…æ¥è‡ªä»»ä½•æ¥æºçš„appå‘¢ï¼Ÿåªéœ€ä¸€æ¡ç®€å•å‘½ä»¤ã€‚</p>
<a id="more"></a>
<p>åœ¨ç»ˆç«¯è¾“å…¥ï¼š <code>sudo spctl --master-disable</code> å°±å¯ä»¥äº†ã€‚</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac å¯åŠ¨å°å›¾æ ‡æ•°é‡ä¿®æ”¹</title>
    <url>/99.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/D8X6pTWqQCzK12H.png"></p>
<p>é»˜è®¤å¯åŠ¨å°çš„å›¾æ ‡å¤ªå¤§ï¼Œæ ¹æœ¬æ”¾ä¸äº†å‡ ä¸ªappï¼Œå¦‚ä½•ä¿®æ”¹æ˜¾ç¤ºæ•°é‡å‘¢ï¼Ÿ</p>
<p>å½“ç„¶å¯åŠ¨åº”ç”¨ä¹Ÿå¯ä»¥ä½¿ç”¨èšç„¦æœç´¢ã€‚</p>
<a id="more"></a>
<p><strong><code>?</code>ä»£è¡¨æ•°é‡</strong></p>
<p>è°ƒæ•´è¡Œå›¾æ ‡æ•°é‡ï¼š</p>
<p><code>defaults write com.apple.dock springboard-rows -int ?</code></p>
<p>è°ƒæ•´åˆ—å›¾æ ‡æ•°é‡ï¼š</p>
<p><code>defaults write com.apple.dock springboard-columns -int ?</code></p>
<p>ä¿®æ”¹åä½¿å…¶ç”Ÿæ•ˆï¼Œè¾“å…¥å‘½ä»¤ï¼š</p>
<p><code>defaults write com.apple.dock ResetLaunchPad -bool TRUE;killall Dock</code></p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>MongoDB ä¿®æ”¹é»˜è®¤ç«¯å£ï¼Œå¢åŠ ç”¨æˆ·è®¤è¯</title>
    <url>/320.html</url>
    <content><![CDATA[<p>ä¸ºä»€ä¹ˆè¦ä¿®æ”¹æ•°æ®åº“é»˜è®¤ç«¯å£ï¼Ÿç­”æ¡ˆæ— ç–‘æ˜¯ä¸ºäº†å®‰å…¨ã€‚é»˜è®¤çš„ç«¯å£å’Œæ— å¯†ç è®¿é—®ï¼Œä½ çš„æ•°æ®åº“å¾ˆå¿«å°±ä¼šè¢«æ”»å‡»ã€‚æ‰€ä»¥ä¸è¦å¤ªå¤©çœŸï¼Œå¦‚æœä½ æ­£åœ¨ä½¿ç”¨ Mongo æ•°æ®åº“ï¼Œä¸è¦åªæƒ³ç€è‡ªå·±ç”¨ç€æ–¹ä¾¿ï¼Œå°å¿ƒç»™ä»–äººç•™äº†åé—¨ã€‚</p>
<a id="more"></a>
<h1 id="ä¿®æ”¹é»˜è®¤ç«¯å£å·"><a href="#ä¿®æ”¹é»˜è®¤ç«¯å£å·" class="headerlink" title="ä¿®æ”¹é»˜è®¤ç«¯å£å·"></a>ä¿®æ”¹é»˜è®¤ç«¯å£å·</h1><p>ç¼–è¾‘ mongoDB é…ç½®æ–‡ä»¶ï¼š</p>
<p><code>sudo vim /etc/mongodb.conf</code></p>
<p>ä¿®æ”¹ä»¥ä¸‹ä¸¤è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">bind_ip = 0.0.0.0<br>port = 12345<br></code></pre></td></tr></table></figure>

<p>bind_ip é»˜è®¤æ˜¯ <code>127.0.0.1</code>ï¼Œåªèƒ½æœ¬æœºè®¿é—®ï¼Œæ”¹ä¸º <code>0.0.0.0</code> å°±å¯ä»¥å…¬ç½‘è®¿é—®ï¼Œport å¯¹åº”ç«¯å£å·ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚ä¿®æ”¹ã€‚</p>
<p><strong>å¦‚æœæ˜¯äº‘æœåŠ¡å™¨è®°å¾—ä¿®æ”¹å®‰å…¨ç»„è§„åˆ™ï¼Œå¼€æ”¾å¯¹åº”ç«¯å£æ‰èƒ½è®¿é—®ï¼</strong></p>
<p>ä¿®æ”¹ä»¥åè®°å¾—é‡å¯ mongo æœåŠ¡ï¼š</p>
<p><code>sudo /etc/init.d/mongodb restart</code></p>
<p>é‡å¯ä¹‹åï¼Œå¦‚æœä¸è¾“å…¥ç«¯å£å·ï¼Œä¼šæŠ¥é”™ï¼Œå› ä¸ºé»˜è®¤è¿æ¥ 27017 ç«¯å£ã€‚</p>
<p><img src="https://i.loli.net/2020/03/13/BbcqvZD4fIrMP69.png" alt="æŠ¥é”™"></p>
<p>æ­¤æ—¶å†è¿æ¥æˆ‘ä»¬éœ€è¦æŒ‡å®šç«¯å£å·ï¼š</p>
<p><code>mongo --port 12345</code></p>
<p><img src="https://i.loli.net/2020/03/13/zX3VhIslfP8qK7U.png" alt="æˆåŠŸ"></p>
<p>è¿™æ ·å°±èƒ½æˆåŠŸè¿æ¥äº†ã€‚</p>
<h1 id="å¢åŠ ç”¨æˆ·è®¤è¯"><a href="#å¢åŠ ç”¨æˆ·è®¤è¯" class="headerlink" title="å¢åŠ ç”¨æˆ·è®¤è¯"></a>å¢åŠ ç”¨æˆ·è®¤è¯</h1><p>mongoDB é»˜è®¤æ˜¯æ— å¯†ç è®¿é—®çš„ï¼Œæˆ‘ä»¬ä¿®æ”¹ç«¯å£å·ä¹‹åä»éœ€è¦å¢åŠ ç”¨æˆ·è®¤è¯ï¼Œæ·»åŠ ä¸€å±‚ä¿éšœã€‚</p>
<p>é¦–å…ˆè¿æ¥ mongo æ•°æ®åº“ï¼Œä½¿ç”¨ admin æ•°æ®åº“ã€‚</p>
<p><code>use admin</code></p>
<p>ä¾‹å¦‚æˆ‘ç°åœ¨åˆ›å»ºä¸€ä¸ªç”¨æˆ·åä¸º rootï¼Œå¯†ç ä¸º root çš„ç”¨æˆ·ï¼Œè·å–æ‰€æœ‰æƒé™ã€‚</p>
<p><code>db.createUser(&#123;user: &#39;root&#39;, pwd: &#39;root&#39;, roles: [&#39;root&#39;]&#125;)</code></p>
<p>å¦‚æœæ³¨å†ŒæˆåŠŸï¼Œä¼šæç¤ºï¼š</p>
<p><code>Successfully added user: &#123; &quot;user&quot; : &quot;root&quot;, &quot;roles&quot; : [ &quot;root&quot; ] &#125;</code></p>
<p>æ­¤æ—¶æˆ‘ä»¬éœ€è¦ä¿®æ”¹ mongo çš„é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Turn on/off security.  Off is currently the default</span><br><span class="hljs-comment">#noauth = true</span><br><span class="hljs-comment">#auth = true</span><br></code></pre></td></tr></table></figure>

<p>æŠŠ <code>auth = true</code> å–æ¶ˆæ³¨é‡Šï¼Œé‡å¯ mongo æœåŠ¡ã€‚</p>
<p><code>sudo /etc/init.d/mongodb restart</code></p>
<p>è¿™æ ·æˆ‘ä»¬åœ¨æ“ä½œçš„æ—¶å€™å¿…é¡»ä½¿ç”¨å¯†ç ï¼Œå¦‚æœæ²¡æœ‰å¯†ç ï¼Œä¼šæŠ¥æƒé™é”™è¯¯ã€‚</p>
<p><img src="https://i.loli.net/2020/03/13/2Ziv3qW7kuoTgSn.png" alt="æ— æƒé™"></p>
<p>åœ¨ç™»å½•çš„æ—¶å€™ä½¿ç”¨åˆšæ‰å·²ç»æ³¨å†Œå¥½çš„ç”¨æˆ·åå’Œå¯†ç ï¼ŒåŒæ—¶éœ€è¦æŒ‡å®šåŠ å¯†çš„æ•°æ®åº“ï¼š</p>
<p><code>mongo -u &quot;root&quot; -p &quot;root&quot; --authenticationDatabase &quot;admin&quot;</code></p>
<p>è¿™è¡Œå‘½ä»¤çš„æ„æ€æ˜¯ä½¿ç”¨ç”¨æˆ·åï¼ˆ<code>-u</code>ï¼‰ä¸º rootï¼Œå¯†ç ï¼ˆ<code>-p</code>ï¼‰ä¸º rootï¼Œæ•°æ®åº“ï¼ˆ<code>--authenticationDatabase</code>ï¼‰ä¸º admin æ¥è¿æ¥ mongo æ•°æ®åº“ã€‚</p>
<p>æˆ‘ç°åœ¨éœ€è¦ç»™æŒ‡å®šæ•°æ®åº“æ·»åŠ ç”¨æˆ·ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿä¾‹å¦‚æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªåä¸º TEST çš„æ•°æ®åº“ï¼Œæ–°å¢ç”¨æˆ·ï¼Œèµ‹äºˆè¯»å†™æƒé™ã€‚</p>
<p><code>db.createUser(&#123;user:&#39;admin&#39;,pwd:&#39;admin&#39;,roles:[&#123;role:&#39;readWrite&#39;, db:&#39;TEST&#39;&#125;]&#125;)</code></p>
<p>è¿™æ ·å°±ä¸º TEST æ•°æ®åº“æ·»åŠ äº†ç”¨æˆ·ã€‚</p>
<p>å¦‚æœéœ€è¦å¯¹ TEST æ•°æ®åº“æ“ä½œçš„è¯ï¼Œåœ¨è¿æ¥æ•°æ®åº“æ—¶éœ€è¦è¿™æ ·è¾“å…¥ï¼š</p>
<p><code>mongo -u &quot;admin&quot; -p &quot;admin&quot; --authenticationDatabase &quot;TEST&quot;</code></p>
<p>å¦‚æœæ—¢ä¿®æ”¹äº†ç«¯å£ï¼Œä¹Ÿå¢åŠ äº†ç”¨æˆ·ï¼Œé‚£ä¹ˆå®Œæ•´çš„è¿æ¥æ–¹å¼æ˜¯è¿™æ ·çš„ï¼š</p>
<p><code>mongo --port 12345 -u &#39;admin&#39; -p &#39;admin&#39; --authenticationDatabase &quot;TEST&quot;</code></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>mongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title>Flask æ¨¡æ¿</title>
    <url>/194.html</url>
    <content><![CDATA[<p>åœ¨çœŸæ­£å¼€å§‹åˆ›å»ºåº”ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»æ˜ç¡®ä¸€ç‚¹ï¼Œè§†å›¾å‡½æ•°è¦å’Œæ¨¡ç‰ˆåˆ†ç¦»æ‰è¡Œã€‚å¦‚æœä¸åˆ†ç¦»ï¼Œä»£ç å°†å˜å¾—éš¾ä»¥ç»´æŠ¤ï¼Œè€Œä¸”å¤ç”¨ä¹Ÿå°†å˜å¾—å›°éš¾ã€‚</p>
<a id="more"></a>
<p>è§†å›¾å‡½æ•°çš„ä½œç”¨æ˜¯è¯·æ±‚è¿›æ¥ä¹‹åï¼Œä»£ç å¯¹è¯¥è¯·æ±‚ä½œå‡ºç›¸åº”çš„é€»è¾‘å¤„ç†ï¼Œå°†åŠ¨æ€ç»“æœè¿”å›ç»™æ¨¡æ¿ï¼›è€Œæ¨¡æ¿çš„ä½œç”¨å°±æ˜¯å°†æ”¶åˆ°çš„å˜é‡æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚è¿™æ ·å°±å®Œæˆäº†æ•°æ®çš„å¤„ç†ä¸å±•ç¤ºã€‚</p>
<h1 id="Jinja"><a href="#Jinja" class="headerlink" title="Jinja"></a>Jinja</h1><p>Jinjaï¼ˆç¥ç¤¾â›©ï¸ï¼‰æ˜¯ä¸€ç§ç°ä»£ä¸”è®¾è®¡å‹å¥½çš„ Python æ¨¡æ¿è¯­è¨€ã€‚è¯­æ³•ç®€å•æ˜“ç†è§£ã€‚Flask é»˜è®¤ä½¿ç”¨ Jinja ä½œä¸ºæ¨¡æ¿è¯­è¨€ï¼Œæ‰€ä»¥åœ¨å®‰è£… Flask çš„æ—¶å€™å°±å·²ç»å®‰è£…å¥½äº†ï¼Œæ— éœ€å†æ¬¡å®‰è£…ï¼Œå½“ç„¶å¦‚æœä½ åªæ˜¯æƒ³å•ç‹¬ä½¿ç”¨ Jinjaï¼Œå¯ä»¥ä½¿ç”¨ <code>pip install Jinja2</code> æ¥å®‰è£…å®ƒã€‚</p>
<h1 id="æ¸²æŸ“æ¨¡æ¿"><a href="#æ¸²æŸ“æ¨¡æ¿" class="headerlink" title="æ¸²æŸ“æ¨¡æ¿"></a>æ¸²æŸ“æ¨¡æ¿</h1><p>Flask ä¼šé»˜è®¤å¯»æ‰¾ templates æ–‡ä»¶å¤¹çš„æ¨¡æ¿æ–‡ä»¶ï¼Œç›®å½•æ ‘å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">.<br>â”œâ”€â”€ Pipfile<br>â”œâ”€â”€ Pipfile.lock<br>â”œâ”€â”€ app.py<br>â””â”€â”€ templates<br>    â””â”€â”€ index.html<br></code></pre></td></tr></table></figure>

<p>Pipfile å’Œ Pipfile.lock æ˜¯ pipenv ç”Ÿæˆçš„ç®¡ç†åŒ…çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ pipenv åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¯ä»¥å¿½ç•¥ã€‚</p>
<p>ä¸ä½¿ç”¨æ¨¡æ¿çš„ Flask ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><br>app = Flask(__name__)<br><br><span class="hljs-meta">@app.route(&quot;/&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello, World!&quot;</span><br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ¨¡æ¿åçš„ Flask ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template<br><br>app = Flask(__name__)<br><br><span class="hljs-meta">@app.route(&quot;/&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, msg=<span class="hljs-string">&quot;Hello, World!&quot;</span>)<br></code></pre></td></tr></table></figure>

<h1 id="å˜é‡å’Œé€»è¾‘è¿ç®—"><a href="#å˜é‡å’Œé€»è¾‘è¿ç®—" class="headerlink" title="å˜é‡å’Œé€»è¾‘è¿ç®—"></a>å˜é‡å’Œé€»è¾‘è¿ç®—</h1><p>ä½¿ç”¨ Jinja åªéœ€è®°ä½ä¸¤ä¸ªä¸»è¦å†…å®¹å°±å¯ä»¥ï¼šä¸€ä¸ªæ˜¯å˜é‡åç”± <code>&#123;&#123; &#125;&#125;</code> æ¥å¼•å…¥ï¼Œå¦ä¸€ä¸ªæ˜¯é€»è¾‘è¿ç®—éœ€è¦ä½¿ç”¨ <code>&#123;% %&#125;</code> æ¥æ“ä½œã€‚</p>
<p>æˆ‘ä»¬ç»™æ¨¡æ¿ä¼ å…¥ç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶æŠŠæ‰€æœ‰ç”¨æˆ·ä¿¡æ¯å±•ç¤ºå‡ºæ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% for user in users %&#125;<br>  &lt;li&gt;&lt;a href&#x3D;&quot;&#123;&#123; user.url &#125;&#125;&quot;&gt;&#123;&#123; user.username &#125;&#125;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;<br>&#123;% endfor %&#125;<br>&lt;&#x2F;ul&gt;<br></code></pre></td></tr></table></figure>

<p>æ¨¡æ¿ä¸­çš„ <code>for user in users</code> å°±éœ€è¦ç”¨ <code>&#123;% %&#125;</code> åŒ…èµ·æ¥ï¼Œå˜é‡ <code>user.url</code> å’Œ <code>user.username</code> ç”¨ <code>&#123;&#123; &#125;&#125;</code> åŒ…èµ·æ¥ã€‚</p>
<p>Jinja è¿˜å¯ä»¥è¯†åˆ« Python çš„åˆ—è¡¨ï¼Œå­—å…¸ç»“æ„ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;&#123; user_list[1] &#125;&#125;<br>&#123;&#123; user_list[idx] &#125;&#125;<br>&#123;&#123; user_dict[&quot;name&quot;] &#125;&#125;<br><br>&#123;# è¿™éƒ¨åˆ†æ˜¯æ³¨é‡Š #&#125;<br></code></pre></td></tr></table></figure>

<p>åŸºæœ¬ä¸Šè®°ä½è¿™ä¸¤ä¸ªè¯­æ³•ï¼Œåœ¨æ“ä½œæ¨¡æ¿çš„æ—¶å€™å°±æ¯”è¾ƒå¾—å¿ƒåº”æ‰‹äº†ã€‚</p>
<h1 id="ä½¿ç”¨-JavaScript"><a href="#ä½¿ç”¨-JavaScript" class="headerlink" title="ä½¿ç”¨ JavaScript"></a>ä½¿ç”¨ JavaScript</h1><p>å¦‚æœä½ æƒ³åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ JavaScriptï¼Œæ¯”å¦‚è¯´æƒ³é…åˆ Vue æ¸²æŸ“é¡µé¢ï¼Œè€Œ Vue ä¸­çš„å˜é‡å’Œ Jinja ä¸­çš„å˜é‡éƒ½æ˜¯ä½¿ç”¨ <code>&#123;&#123; &#125;&#125;</code> åŒ…è£¹ï¼Œé‚£è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>Jinja ä¸­æä¾›äº† <code> ... </code> æ¥ä¿è¯æ¨¡æ¿å’Œ JavaScript ä¸è¢«æ··æ·†ã€‚</p>
<p>ä¾‹å¦‚æˆ‘æƒ³åŒæ—¶ä½¿ç”¨ Jinja æ¨¡æ¿å’Œ Vue æ¥æ¸²æŸ“é¡µé¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!DOCTYPE html&gt;<br>&lt;html lang&#x3D;&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;<br>    &lt;title&gt;Flask æµ‹è¯•&lt;&#x2F;title&gt;<br>    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;<br>&lt;&#x2F;head&gt;<br>&lt;body&gt;<br>&#123;&#123; msg &#125;&#125;<br><br>&#123;% raw %&#125;<br>&lt;div id&#x3D;&quot;app&quot;&gt;<br>    &#123;&#123; message &#125;&#125;<br>&lt;&#x2F;div&gt;<br>&#123;% endraw %&#125;<br><br>&#123;% raw %&#125;<br>&lt;script&gt;<br>var app &#x3D; new Vue(&#123;<br>  el: &#39;#app&#39;,<br>  data: &#123;<br>    message: &#39;Hello Vue!&#39;<br>  &#125;<br>&#125;)<br>&lt;&#x2F;script&gt;<br>&#123;% endraw %&#125;<br>&lt;&#x2F;body&gt;<br>&lt;&#x2F;html&gt;<br></code></pre></td></tr></table></figure>

<p><code>&#123;&#123; msg &#125;&#125;</code> ç”¨æ¥æ¥æ”¶è§†å›¾å‡½æ•°çš„ <code>msg</code> å˜é‡ï¼Œ<code>&#123;&#123; message &#125;&#125;</code> æ¥æ”¶ Vue <code>message</code> çš„å€¼ã€‚äº’ä¸å¹²æ‰°ï¼ŒæˆåŠŸæ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚</p>
<p><img src="https://i.loli.net/2020/02/15/QYJr9NIhRVnUjsH.png" alt="HTML é¡µé¢"></p>
<h1 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h1><p>è¿‡æ»¤å™¨çš„åŠŸèƒ½åœ¨äºå¯¹å˜é‡æŒ‰è¦æ±‚è¿›è¡Œä¿®æ”¹ã€‚ä¾‹å¦‚é¦–å°¾å»æ‰ç©ºæ ¼ï¼›å»é™¤æ‰€æœ‰ HTML æ ‡ç­¾ï¼›è½¬ä¹‰æ‰€æœ‰ HTML æ ‡ç­¾ç­‰ç­‰ã€‚</p>
<p>ä½¿ç”¨è¿‡æ»¤å™¨ä¹Ÿéå¸¸ç®€å•ï¼Œåœ¨éœ€è¦è½¬æ¢çš„å˜é‡ååæ·»åŠ ç®¡é“ç¬¦å’Œè¿‡æ»¤å™¨åï¼Œå¦‚æœè¿‡æ»¤å™¨éœ€è¦å‚æ•°ï¼Œåæ¥æ‹¬å·å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;&#123; 75 | float &#125;&#125;<br>&#123;&#123; name | filter_name(*arg) &#125;&#125;<br></code></pre></td></tr></table></figure>

<h2 id="å¸¸ç”¨è¿‡æ»¤å™¨"><a href="#å¸¸ç”¨è¿‡æ»¤å™¨" class="headerlink" title="å¸¸ç”¨è¿‡æ»¤å™¨"></a>å¸¸ç”¨è¿‡æ»¤å™¨</h2><h3 id="trim"><a href="#trim" class="headerlink" title="trim"></a>trim</h3><p>å»æ‰å˜é‡é¦–å°¾ç©ºæ ¼ã€‚</p>
<h3 id="default"><a href="#default" class="headerlink" title="default"></a>default</h3><p>å¦‚æœå˜é‡ä¸º <code>None</code>ï¼Œé»˜è®¤ä½¿ç”¨ <code>default</code> ä¼ å…¥çš„é»˜è®¤å€¼æ¥æ˜¾ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;&#123; username | default(&quot;æé›·&quot;) &#125;&#125;<br></code></pre></td></tr></table></figure>

<p>å¦‚æœå˜é‡çš„å€¼ä¸ºå‡ï¼Œé‚£ä¹ˆä½¿ç”¨ <code>default</code> ä¼ å…¥çš„å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;&#123; &#39;&#39; | default(&#39;éŸ©æ¢…æ¢…&#39;, True)<br></code></pre></td></tr></table></figure>

<h3 id="int-float"><a href="#int-float" class="headerlink" title="int, float"></a>int, float</h3><figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;&#123; 42 | float &#125;&#125;<br>42.0<br><br>&#123;&#123; 42.7 | int &#125;&#125;<br>42<br></code></pre></td></tr></table></figure>

<h3 id="round"><a href="#round" class="headerlink" title="round"></a>round</h3><p>å¦‚æœä½ è¿˜åœ¨ä¸º <code>int</code> è¿‡æ»¤å™¨ç›´æ¥åˆ‡æ–­å°æ•°ç‚¹å–å€¼ä¼šç–‘æƒ‘ï¼Œé‚£ä¹ˆè€ƒè™‘ä½¿ç”¨ <code>round</code> è¿‡æ»¤å™¨å§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;&#123; 4.4 | round(method&#x3D;&quot;common&quot;) &#125;&#125;<br><br>4.0<br><br>&#123;&#123; 4.7 | round(method&#x3D;&quot;common&quot;) &#125;&#125;<br><br>5.0<br><br>&#123;&#123; 4.7 | round(method&#x3D;&quot;floor&quot;) &#125;&#125;<br><br>4.0<br><br>&#123;&#123; 4.2 | round(method&#x3D;&quot;ceil&quot;) &#125;&#125;<br><br>5.0<br></code></pre></td></tr></table></figure>

<h3 id="join"><a href="#join" class="headerlink" title="join"></a>join</h3><p>æŠŠä¼ å…¥çš„åˆ—è¡¨æ‹¼æ¥èµ·æ¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;&#123; [&quot;æé›·&quot;, &quot;éŸ©æ¢…æ¢…&quot;] | join(&quot;ä¸&quot;) &#125;&#125;<br>æé›·ä¸éŸ©æ¢…æ¢…<br></code></pre></td></tr></table></figure>

<h3 id="length"><a href="#length" class="headerlink" title="length"></a>length</h3><p>ç›¸å½“äº <code>len()</code>ã€‚</p>
<h3 id="striptags"><a href="#striptags" class="headerlink" title="striptags"></a>striptags</h3><p>åˆ é™¤å˜é‡ä¸­çš„ HTML æ ‡ç­¾ã€‚</p>
<h3 id="escape"><a href="#escape" class="headerlink" title="escape"></a>escape</h3><p>å˜é‡ä¸­çš„ HTML æ ‡ç­¾ä¼šè¢«è½¬ä¹‰ã€‚</p>
<h3 id="safe"><a href="#safe" class="headerlink" title="safe"></a>safe</h3><p>å¦‚æœä½ ç¡®ä¿ä¼ å…¥çš„å˜é‡ä¸­ HTML ä»£ç è¶³å¤Ÿå®‰å…¨ï¼Œå¯ä»¥ä½¿ç”¨ <code>safe</code> è¿‡æ»¤å™¨ï¼Œè¢«è¿‡æ»¤åçš„ HTML ä»£ç ä¼šè¢«æµè§ˆå™¨æ‰§è¡Œã€‚</p>
<p>Jinja è¿˜æœ‰è®¸å¤šè¿‡æ»¤å™¨ï¼Œå…·ä½“å¯ä»¥<a href="https://jinja.palletsprojects.com/en/2.11.x/templates/#list-of-builtin-filters">æŸ¥çœ‹æ–‡æ¡£</a></p>
<h2 id="è‡ªå®šä¹‰è¿‡æ»¤å™¨"><a href="#è‡ªå®šä¹‰è¿‡æ»¤å™¨" class="headerlink" title="è‡ªå®šä¹‰è¿‡æ»¤å™¨"></a>è‡ªå®šä¹‰è¿‡æ»¤å™¨</h2><p>å¦‚æœæ²¡æœ‰åˆé€‚çš„è¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå·±åˆ›å»ºï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<p>è‡ªå®šä¹‰ä¸€ä¸ªç®€å•çš„åˆ‡ç‰‡è¿‡æ»¤å™¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">slice</span>(<span class="hljs-params">string: str, _len: int</span>):</span><br>    <span class="hljs-keyword">return</span> string[:_len] + <span class="hljs-string">&quot;...&quot;</span><br><br>app = Flask(__name__)<br><br><span class="hljs-comment"># æ³¨å†Œåˆ° Jinja çš„è¿‡æ»¤å™¨åˆ—è¡¨</span><br>app.jinja_env.filters[<span class="hljs-string">&quot;slice&quot;</span>] = slice<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;&#123; &quot;æé›·ä¸éŸ©æ¢…æ¢…ä¸æé›·&quot; | slice(4) &#125;&#125;<br></code></pre></td></tr></table></figure>

<h1 id="å®"><a href="#å®" class="headerlink" title="å®"></a>å®</h1><p>å®çš„ä½œç”¨å¯ä»¥ç†è§£ä¸ºå®šä¹‰é‡å¤ä½¿ç”¨çš„å‡½æ•°ã€‚æ—¢ç„¶æ˜¯ä¸ºäº†é‡å¤ä½¿ç”¨ï¼Œæˆ‘ä»¬å°±éœ€è¦å•ç‹¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æ¥ä¿å­˜å®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!-- macros.html --&gt;<br><br>&#123;% macro get_info(data) %&#125;<br>&lt;h1&gt;&#123;&#123; data[&quot;title&quot;] &#125;&#125; &lt;&#x2F;h1&gt;<br>&lt;p&gt;&#123;&#123; data[&quot;desc&quot;] &#125;&#125; &lt;&#x2F;p&gt;<br>&#123;% endmacro %&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªå®æ˜¯å°†ä¼ å…¥çš„å­—å…¸æŒ‰æ ‡é¢˜å’Œæè¿°æ¸²æŸ“ã€‚</p>
<p>è§†å›¾å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template<br><br>app = Flask(__name__)<br><br><span class="hljs-meta">@app.route(&quot;/&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, msg=&#123;<br>        <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;æ ‡é¢˜&quot;</span>,<br>        <span class="hljs-string">&quot;desc&quot;</span>: <span class="hljs-string">&quot;æè¿°&quot;</span><br>    &#125;)<br></code></pre></td></tr></table></figure>

<p>æ¨¡æ¿ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!DOCTYPE html&gt;<br>&#123;% import &#39;macros.html&#39; as macros %&#125;<br>&lt;html lang&#x3D;&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;<br>    &lt;title&gt;Flask æµ‹è¯•&lt;&#x2F;title&gt;<br>    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;<br>&lt;&#x2F;head&gt;<br>&lt;body&gt;<br>&#123;&#123; macros.get_info(msg) &#125;&#125;<br>&lt;&#x2F;body&gt;<br>&lt;&#x2F;html&gt;<br></code></pre></td></tr></table></figure>

<p>åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨çš„æ—¶å€™è®°å¾—å¼•å…¥ macros.html æ–‡ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% import &#39;macros.html&#39; as macros %&#125;<br></code></pre></td></tr></table></figure>

<h1 id="é‡å¤ä½¿ç”¨ä»£ç ç‰‡æ®µ"><a href="#é‡å¤ä½¿ç”¨ä»£ç ç‰‡æ®µ" class="headerlink" title="é‡å¤ä½¿ç”¨ä»£ç ç‰‡æ®µ"></a>é‡å¤ä½¿ç”¨ä»£ç ç‰‡æ®µ</h1><p>åœ¨å¼€å‘ä¸­ç»å¸¸é‡åˆ°å¤šæ¬¡ä½¿ç”¨çš„ä»£ç ç‰‡æ®µï¼Œå¯ä»¥ä½¿ç”¨ <code>&#123;% include 'HTML æ–‡ä»¶' %&#125;</code> çš„æ–¹å¼æ¥é‡å¤ä½¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!-- hello.html --&gt;<br><br>&lt;h1&gt;Hello, World&lt;&#x2F;h1&gt;<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!-- index.html --&gt;<br><br>&#123;% include &#39;hello.html&#39; %&#125;<br>&#123;% include &#39;hello.html&#39; %&#125;<br>&#123;% include &#39;hello.html&#39; %&#125;<br></code></pre></td></tr></table></figure>

<h1 id="æ¨¡æ¿ç»§æ‰¿"><a href="#æ¨¡æ¿ç»§æ‰¿" class="headerlink" title="æ¨¡æ¿ç»§æ‰¿"></a>æ¨¡æ¿ç»§æ‰¿</h1><p>ä¾‹å¦‚æˆ‘ä»¬å¼€å‘ä¸€æ¬¾åšå®¢åº”ç”¨ï¼Œåšå®¢çš„é¦–é¡µï¼Œæ–‡ç« è¯¦æƒ…é¡µï¼Œåˆ†ç±»ï¼Œå½’æ¡£ç­‰é¡µé¢çš„é£æ ¼éƒ½æ˜¯ä¸€è‡´çš„ï¼Œæœ‰ç€ç›¸åŒçš„é¡µé¦–å’Œé¡µè„šã€‚å¦‚æœä¸ä½¿ç”¨ç»§æ‰¿ï¼Œæ¯ä¸ªé¡µé¢éƒ½è¦å†™å…¥ç›¸åŒçš„å¤´éƒ¨ï¼Œä¼šå‡ºç°å¤§é‡é‡å¤çš„ä»£ç ã€‚ä¸åˆ©äºä»£ç æ›´æ–°å’ŒåæœŸç»´æŠ¤ã€‚</p>
<p>å½“å‰åº”ç”¨çš„ç›®å½•æ ‘ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">.<br>â”œâ”€â”€ Pipfile<br>â”œâ”€â”€ Pipfile.lock<br>â”œâ”€â”€ app.py<br>â””â”€â”€ templates<br>    â”œâ”€â”€ base.html<br>    â”œâ”€â”€ detail.html<br>    â””â”€â”€ index.html<br></code></pre></td></tr></table></figure>

<p>base.html ç”¨æ¥å­˜æ”¾åŸºç¡€æ¨¡æ¿ï¼Œå…¶ä»–é¡µé¢å‡ç»§æ‰¿æ­¤é¡µé¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!-- base.html --&gt;<br><br>&lt;!DOCTYPE html&gt;<br>&lt;html lang&#x3D;&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &#123;% block head %&#125;<br>    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;<br>    &lt;title&gt;&#123;% block title %&#125;&#123;% endblock %&#125; - Flask æµ‹è¯•&lt;&#x2F;title&gt;<br>    &#123;% endblock %&#125;<br>&lt;&#x2F;head&gt;<br>&lt;body&gt;<br>&#123;% block body %&#125;<br>&#123;% endblock %&#125;<br>&lt;&#x2F;body&gt;<br>&lt;&#x2F;html&gt;<br></code></pre></td></tr></table></figure>

<p>index.html ç›¸å½“äºé¦–é¡µï¼Œä½¿ç”¨ <code>extends</code> å£°æ˜æ¨¡æ¿ç»§æ‰¿äº base.html æ¨¡æ¿ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!-- index.html --&gt;<br><br>&#123;% extends &quot;base.html&quot; %&#125;<br><br>&#123;% block head %&#125;<br>&#123;&#123; super() &#125;&#125;<br>&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;<br>&#123;% endblock %&#125;<br><br>&#123;% block title %&#125;<br>é¦–é¡µ<br>&#123;% endblock %&#125;<br><br>&#123;% block body %&#125;<br>&lt;h1&gt;&#123;&#123; msg[&quot;title&quot;] &#125;&#125;&lt;&#x2F;h1&gt;<br>&lt;p&gt;&#123;&#123; msg[&quot;desc&quot;] &#125;&#125;&lt;&#x2F;p&gt;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<p>åœ¨é¦–é¡µ index.html ä¸­ï¼Œæœ‰è¿™ä¹ˆä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% block head %&#125;<br>&#123;&#123; super() &#125;&#125;<br>&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<p>å…¶ä¸­çš„ <code>&#123;&#123; super() &#125;&#125;</code> å’Œ Python ä¸­çš„ super() æ•ˆæœç±»ä¼¼ï¼Œéƒ½æ˜¯æ˜¾å¼ç»§æ‰¿ã€‚å°±æ˜¯åœ¨ç»§æ‰¿ <code>&#123;% block head %&#125; ... &#123;% endblock %&#125;</code> ä¸­çš„å†…å®¹æ—¶ï¼Œä¿ç•™åŸæœ‰å†…å®¹ï¼Œå¦‚æœä¸ä½¿ç”¨ <code>&#123;&#123; super() &#125;&#125;</code>ï¼Œbase.html æ¨¡æ¿ä¸­çš„ç‰‡æ®µå°†ä¸è¢«ä½¿ç”¨ã€‚</p>
<p>detail.html ç›¸å½“äºè¯¦æƒ…é¡µã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!-- detail.html --&gt;<br><br>&#123;% extends &quot;base.html&quot; %&#125;<br><br>&#123;% block title %&#125;<br>ç”¨æˆ·<br>&#123;% endblock %&#125;<br><br>&#123;% block body %&#125;<br>&lt;h1&gt;Hello&lt;&#x2F;h1&gt;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<p>è§†å›¾å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@app.route(&quot;/&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;index.html&quot;</span>, msg=&#123;<br>        <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;æ ‡é¢˜&quot;</span>,<br>        <span class="hljs-string">&quot;desc&quot;</span>: <span class="hljs-string">&quot;æè¿°&quot;</span><br>    &#125;)<br><br><span class="hljs-meta">@app.route(&quot;/user&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">user_info</span>():</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;detail.html&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>å®ï¼Œincludeï¼Œç»§æ‰¿éƒ½ä½“ç°äº†èƒ½å¤ç”¨çš„ä»£ç ä¸€å®šä¸è¦å†™ç¬¬äºŒæ¬¡ã€‚</p>
<h1 id="è‡ªå®šä¹‰é”™è¯¯é¡µé¢"><a href="#è‡ªå®šä¹‰é”™è¯¯é¡µé¢" class="headerlink" title="è‡ªå®šä¹‰é”™è¯¯é¡µé¢"></a>è‡ªå®šä¹‰é”™è¯¯é¡µé¢</h1><p>Flask åº”ç”¨ä¼šé»˜è®¤æ¸²æŸ“ä¸€ä¸ªé”™è¯¯é¡µé¢ï¼Œä½†æ˜¯åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿™æ ·çš„é¡µé¢å’Œæˆ‘ä»¬åˆ›å»ºåº”ç”¨çš„é¡µé¢ä¸»é¢˜å¾ˆä¸æ­è°ƒã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@app.errorhandler(404)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">error_404</span>(<span class="hljs-params">error</span>):</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;404.html&quot;</span>), <span class="hljs-number">404</span><br></code></pre></td></tr></table></figure>

<p>æ³¨æ„è£…é¥°å™¨å¡«å…¥é”™è¯¯ç ï¼Œå‡½æ•°è¦å¡«å…¥å‚æ•°ï¼Œåœ¨è¿”å›å“åº”çš„æ—¶å€™ä¹Ÿè¦å¡«å…¥é”™è¯¯ç ã€‚</p>
<p>åˆ›å»ºå¯¹åº”çš„ 404.html æ¨¡æ¿æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&#123;% extends &quot;base.html&quot; %&#125;<br><br>&#123;% block title %&#125;<br>404<br>&#123;% endblock %&#125;<br><br>&#123;% block body %&#125;<br>&lt;h1&gt;404 æ‰¾ä¸åˆ°é¡µé¢ï¼&lt;&#x2F;h1&gt;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<p>è¿è¡Œ Flask åº”ç”¨ï¼Œéšä¾¿è¯·æ±‚ä¸€ä¸ªä¸å­˜åœ¨çš„é¡µé¢ï¼Œå°±ä¼šè·³è½¬åˆ°è‡ªå®šä¹‰ 404 é”™è¯¯é¡µé¢ã€‚</p>
]]></content>
      <categories>
        <category>Flask æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Flask</tag>
        <tag>æ¨¡æ¿</tag>
      </tags>
  </entry>
  <entry>
    <title>Neovim é…ç½®è®°å½•</title>
    <url>/104.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/03/09/09/17/computer-1245714__480.jpg"> ç¬¬ä¸€æ¬¡æ¥è§¦vimè¿˜æ˜¯åœ¨ç©æ ‘è“æ´¾çš„æ—¶å€™ï¼Œå½“æ—¶æ‰“å¼€ vim æƒ³è¦é€€å‡ºç•Œé¢æ˜¯çœŸçš„éš¾ï¼Œåªèƒ½å¼ºè¡Œå…³é—­ç»ˆç«¯ã€‚ pycharm ç”¨æ¥å†™ python å¾ˆé¡ºæ‰‹ï¼Œä½†æ˜¯åŠŸèƒ½å¤ªå¤šä¹Ÿæ˜¾å¾—è‡ƒè‚¿ã€‚ pycharm çš„å¼ºå¤§è«è¿‡äºå¼‚å¸¸è‡ªåŠ¨è¡¥å…¨ï¼Œè·³è½¬ï¼Œä»£ç è°ƒè¯•åŠŸèƒ½ï¼Œå…¶ä»–åŠŸèƒ½ä¹Ÿå¾ˆå¥½ï¼Œä½†æ˜¯åŸºæœ¬å¾ˆå°‘ç”¨åˆ°ã€‚ æ‰€ä»¥ä¹Ÿæ˜¯ä¸ºäº†å­¦ä¹ ï¼Œè¿˜æ˜¯å‹‰å¼ºæ¢æˆäº† vimã€‚ç”¨èµ·æ¥ä¹Ÿæœ‰å¾ˆå¤šçš„ä¸é¡ºæ‰‹ã€‚åªèƒ½æ…¢æ…¢é€‚åº”ã€‚</p>
<a id="more"></a>
<p>æ€•æŠ˜è…¾è¿˜æ˜¯ä½¿ç”¨ pycharm å§ï¼Œè™½ç„¶æœ‰ ideaVim æ’ä»¶ï¼Œä½†æ˜¯æˆ‘ç”¨èµ·æ¥æ€»è§‰å¾—æ€ªæ€ªçš„ã€‚ ä¸è¿‡ç”¨ä¸€æ®µæ—¶é—´ vim åï¼Œæœ‰äº›æ“ä½œç¡®å®å¾ˆæœ‰æ•ˆç‡ï¼Œå¿«æ·é”®è™½å¤šï¼Œå¹³æ—¶æ•²åˆ°çš„ä¹Ÿå°±åå‡ ä¸ªå¸¸ç”¨çš„ï¼Œç”¨çš„å¤šäº†è‡ªç„¶å°±ç†Ÿç»ƒäº†ã€‚ <strong>ä»¥ä¸‹viméƒ½æŒ‡çš„æ˜¯nvim</strong></p>
<h1 id="é…ç½®åœ°å€"><a href="#é…ç½®åœ°å€" class="headerlink" title="é…ç½®åœ°å€"></a>é…ç½®åœ°å€</h1><p><a href="https://github.com/alpha87/vim-config">https://github.com/alpha87/vim-config</a> æ”¯æŒä¼ªä¸€é”®å®‰è£…ã€‚è¯´ç™½äº†å°±æ˜¯æŠŠ <code>init.vim</code> æ–‡ä»¶å¤åˆ¶åˆ° <code>~/.config/nvim</code> ä¸‹ã€‚ å®‰è£…æ’ä»¶è¿˜æ˜¯éœ€è¦è¿›å…¥nvimæ‰§è¡Œ <code>:PlugInstall</code> å‘½ä»¤ï¼Œæœ¬æ¥ä¹Ÿèƒ½å†™åˆ°shellè„šæœ¬é‡Œï¼Œä½†æ˜¯ä¼šé€ æˆå¡æ­»ï¼Œå½±å“ä½¿ç”¨æ•ˆæœï¼Œè¿˜æ˜¯éœ€è¦ç”¨æˆ·è‡ªå·±æ‰§è¡Œå‘½ä»¤ï¼Œé¡ºä¾¿å¯ä»¥çœ‹ä¸€ä¸‹æ’ä»¶éƒ½ç”¨åˆ°äº†å“ªäº›ç¬¬ä¸‰æ–¹åº“ã€‚ ä¸æ˜¯å¾ˆæ‡‚spaceVimæ˜¯å¦‚ä½•åšåˆ°ç¬¬ä¸€æ¬¡è¿›å…¥è‡ªåŠ¨å®‰è£…çš„æ“ä½œã€‚</p>
<h1 id="ä½¿ç”¨æç¤º"><a href="#ä½¿ç”¨æç¤º" class="headerlink" title="ä½¿ç”¨æç¤º"></a>ä½¿ç”¨æç¤º</h1><h2 id="ç›¸å…³pythonåŒ…"><a href="#ç›¸å…³pythonåŒ…" class="headerlink" title="ç›¸å…³pythonåŒ…"></a>ç›¸å…³pythonåŒ…</h2><p>ç”¨ vim ä¸»è¦æ˜¯ç”¨æ¥å†™ pythonï¼Œå°‘ä¸äº†æ ¼å¼åŒ–å’Œä»£ç æ ¡éªŒï¼Œæ‰€ä»¥è¿˜éœ€è¦å®‰è£… autopep8 å’Œ flaske8ã€‚ <code>pip install --user autopep8 flake8</code> å³å¯ã€‚</p>
<h2 id="æ’ä»¶é…ç½®"><a href="#æ’ä»¶é…ç½®" class="headerlink" title="æ’ä»¶é…ç½®"></a>æ’ä»¶é…ç½®</h2><p>è‡ªåŠ¨è¡¥å…¨ä½¿ç”¨ YCMï¼Œéœ€è¦å®‰è£… cmake æ”¯æŒã€‚ Ubuntu ä¸‹ <code>apt-get install -y cmake</code> å®‰è£…ã€‚ å®‰è£…å®Œæˆååœ¨ç»ˆç«¯è¾“å…¥ <code>/Applications/CMake.app/Contents/MacOS/CMake --install</code>ã€‚ Macå¯ä»¥åœ¨ <a href="https://cmake.org/install/">https://cmake.org/install/</a> ä¸‹å®‰è£…ã€‚ å®‰è£…å¥½ååˆ° <code>~/.config/nvim/plugged/YouCompleteMe</code> ä¸‹æ‰§è¡Œ <code>./install.py</code> ç­‰å¾…å®‰è£…å®Œæˆã€‚ æ–‡ä»¶ä¸­åŒ…å«äº†æ˜ å°„å¥½çš„å¿«æ·é”®ï¼Œè®°ä½ä½¿ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚ è™½ç„¶è¿™ä»½é…ç½®æ˜¯æˆ‘ä¸€ç‚¹ä¸€ç‚¹ç§¯ç´¯æ•²å‡ºæ¥äº†ï¼Œä½†æˆ‘ä¹Ÿè®°ä¸æ¸…é”®å…·ä½“æ˜¯å¯¹åº”ä»€ä¹ˆæ“ä½œï¼Œæƒ³ä¸èµ·æ¥çš„æ—¶å€™ä¹Ÿåªèƒ½æ‰“å¼€æ–‡ä»¶çœ‹ä¸€çœ‹ã€‚ <strong>ç›¸ä¿¡ç”¨å¤šäº†å°±ä¼šå½¢æˆè‚Œè‚‰è®°å¿†å§ã€‚ :)</strong></p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>Neovim</tag>
        <tag>Vim</tag>
      </tags>
  </entry>
  <entry>
    <title>PyAutoGUI ä½¿ç”¨ä»‹ç»</title>
    <url>/370.html</url>
    <content><![CDATA[<p>è¿™ä¸ª python åº“æ˜¯æˆ‘ç”¨çš„æ¯”è¾ƒå¤šçš„ç¬¬ä¸‰æ–¹åº“äº†ï¼Œå› ä¸ºå®ƒèƒ½å¸®æˆ‘è‡ªåŠ¨åŒ–æ“ä½œè®¸å¤šäº‹æƒ…ï¼Œè€Œä¸”è·¨å¹³å°ï¼Œéå¸¸å¥½ç”¨ã€‚å¯ä»¥è¯´æ˜¯ python ä¸­çš„æŒ‰é”®ç²¾çµäº†ã€‚å®ƒä¸ä»…å¯ä»¥æ“ä½œé¼ æ ‡ï¼Œè¿˜èƒ½æ“ä½œé”®ç›˜ï¼Œå±å¹•æˆªå›¾ï¼Œè¿˜èƒ½ç”Ÿæˆä¸€äº›ç®€å•çš„äº¤äº’çª—å£ï¼Œåœ¨è‡ªåŠ¨åŒ–æ“ä½œæ–¹é¢æä¾›çš„åŠŸèƒ½è¿˜æ˜¯éå¸¸å…¨é¢çš„ã€‚</p>
<a id="more"></a>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">python3 -m pip install pyautogui -i https://mirrors.aliyun.com/pypi/simple<br></code></pre></td></tr></table></figure>

<p>ä»¥ä¸‹æ“ä½œéƒ½æ˜¯å·²ç»å¼•å…¥äº† pyautoguiã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pyautogui<br></code></pre></td></tr></table></figure>

<h1 id="é¼ æ ‡æ“ä½œ"><a href="#é¼ æ ‡æ“ä½œ" class="headerlink" title="é¼ æ ‡æ“ä½œ"></a>é¼ æ ‡æ“ä½œ</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è·å–å±å¹•åˆ†è¾¨ç‡</span><br>pyautogui.size()<br><br><span class="hljs-comment"># è·å–å½“å‰é¼ æ ‡æ‰€åœ¨ä½ç½®</span><br>pyautogui.position()<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«æ˜¯ç¡®å®šé¼ æ ‡çš„ç§»åŠ¨èŒƒå›´ï¼Œç¡®å®šå½“å‰é¼ æ ‡çš„ç§»åŠ¨ä½ç½®ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç§»åŠ¨åˆ° 100, 200 çš„ä½ç½®</span><br>pyautogui.moveTo(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>)<br><br><span class="hljs-comment"># åŸºäºä»¥ä¸Šä½ç½® Y è½´ç§»åŠ¨ 50</span><br>pyautogui.move(<span class="hljs-number">0</span>, <span class="hljs-number">50</span>)<br><br><span class="hljs-comment"># åœ¨ 2 ç§’å†…æŒ‰ä½é¼ æ ‡å·¦é”®æ‹–åŠ¨åˆ° 300, 400 çš„ä½ç½®</span><br>pyautogui.dragTo(<span class="hljs-number">300</span>, <span class="hljs-number">400</span>, <span class="hljs-number">2</span>, button=<span class="hljs-string">&#x27;left&#x27;</span>)<br><br><span class="hljs-comment"># åœ¨ 2 ç§’å†…æŒ‰ä½é¼ æ ‡å³é”®ï¼ŒåŸºäºä»¥ä¸Šä½ç½® X è½´æ‹–åŠ¨ 30</span><br>pyautogui.drag(<span class="hljs-number">30</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, button=<span class="hljs-string">&#x27;right&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>ä¸Šè¿°æ“ä½œæ¯”è¾ƒå¥½ç†è§£ï¼Œç§»åŠ¨æˆ–è€…æ‹–åŠ¨é¼ æ ‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¼€å§‹æ…¢ï¼Œç»“æŸå¿«</span><br>pyautogui.moveTo(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">2</span>, pyautogui.easeInQuad)<br><br><span class="hljs-comment"># å¼€å§‹å¿«ï¼Œç»“æŸæ…¢</span><br>pyautogui.moveTo(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">2</span>, pyautogui.easeOutQuad)<br><br><span class="hljs-comment"># å¼€å§‹å’Œç»“æŸæ…¢ï¼Œä¸­é—´å¿«</span><br>pyautogui.moveTo(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">2</span>, pyautogui.easeInOutQuad)<br><br><span class="hljs-comment"># å¼¹è·³ç§»åŠ¨åˆ° 100, 100 ï¼ˆç§»åŠ¨èŒƒå›´è¾ƒå°ï¼‰</span><br>pyautogui.moveTo(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">2</span>, pyautogui.easeInBounce)<br><br><span class="hljs-comment"># å¼¹è·³ç§»åŠ¨åˆ° 100, 100 ï¼ˆèŒƒå›´è¾ƒå¤§ï¼‰</span><br>pyautogui.moveTo(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">2</span>, pyautogui.easeInElastic)<br></code></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†æ“ä½œåœ¨ä¸€äº›æœ‰äººæœºæ£€æµ‹çš„ç³»ç»Ÿä¸­ä¸€å®šä¼šç”¨åˆ°ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬ç»å¸¸é‡åˆ°ç½‘é¡µçš„éªŒè¯ç æ‹–åŠ¨å›¾ç‰‡è¡¥å…¨å®Œæ•´å›¾ç‰‡ï¼Œå¦‚æœåŒ€é€Ÿæ‹–åŠ¨è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºæ­£å¸¸äººçš„æ“ä½œæ˜¯ä¸ä¼šåŒ€é€Ÿæ‹–åŠ¨é¼ æ ‡ï¼›è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯åœ¨æ¨¡æ‹Ÿæ“ä½œæ¸¸æˆï¼Œå¦‚æœé¼ æ ‡ç§»åŠ¨è¿‡äºæ­»æ¿ï¼Œæ¯æ¬¡çš„åŠ¨ä½œå¹…åº¦ï¼Œè·¯å¾„ï¼Œç‚¹å‡»çš„åæ ‡éƒ½ç›¸åŒï¼Œä¹Ÿä¼šè¢«æ£€æµ‹å‡ºä½¿ç”¨äº†è¾…åŠ©è½¯ä»¶ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨é¼ æ ‡æ“ä½œæ¸¸æˆçš„æ—¶å€™ï¼Œä¸€å®šè¦åŠ å…¥éšæœºé‡ï¼Œæ¯”å¦‚é¼ æ ‡ç§»åŠ¨çš„è·¯å¾„è¦éšæœºï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸Šè¿°å‚æ•°æ”¾åœ¨åˆ—è¡¨ä¸­ï¼Œæ¯æ¬¡éšæœºæŒ‘é€‰ç§»åŠ¨æ–¹å¼ï¼Œç‚¹å‡»çš„åæ ‡éšæœºåŠ æˆ–å‡å‡ ä¸ªåƒç´ ï¼Œæ¯æ¬¡ç‚¹å‡»çš„åœé¡¿æ—¶é—´ä¹Ÿéšæœºç­‰ç­‰ã€‚ä¸€èˆ¬è¿™ä¹ˆæ“ä½œå°±ä¸ä¼šè¢«æŸ¥å‡ºæ¥äº†ã€‚å½“ç„¶è¿˜éœ€è¦æ ¹æ®ç©å®¶çš„å¹³æ—¶åœ¨çº¿æ—¶é—´æ¥ä½¿ç”¨ï¼Œä¸èƒ½è¯´å¹³æ—¶éƒ½æ˜¯ä¸‹åˆåœ¨çº¿ï¼Œç„¶åçªç„¶æ¯å¤©é»‘å¤œåˆ·å¾ˆå¤šå°æ—¶ã€‚è¿™æ ·çš„æ“ä½œä¸€èˆ¬ä¹Ÿä¼šè¢«è­¦å‘Šï¼ˆä»¥æˆ‘å¤šå¹´é˜´é˜³å¸ˆç©å®¶ç»éªŒï¼‰ã€‚æ‰¯è¿œäº†ï¼Œå›æ­£é¢˜ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç‚¹å‡»</span><br>pyautogui.click()<br><br><span class="hljs-comment"># ç§»åŠ¨åˆ° 100, 200 ç‚¹å‡»</span><br>pyautogui.click(x=<span class="hljs-number">100</span>, y=<span class="hljs-number">200</span>)<br><br><span class="hljs-comment"># ä½¿ç”¨å³é”®ç‚¹å‡»ï¼Œå¯é€‰ left, middle, right</span><br>pyautogui.click(button=<span class="hljs-string">&#x27;right&#x27;</span>)<br><br><span class="hljs-comment"># åŒå‡»</span><br>pyautogui.click(clicks=<span class="hljs-number">2</span>)<br><br><span class="hljs-comment"># åŒå‡»ï¼Œå•å‡»é—´éš”æ—¶é—´ 0.25 ç§’</span><br>pyautogui.click(clicks=<span class="hljs-number">2</span>, interval=<span class="hljs-number">0.25</span>)<br><br><span class="hljs-comment"># é¼ æ ‡æŒ‰ä¸‹</span><br>pyautogui.mouseDown()<br><br><span class="hljs-comment"># é¼ æ ‡æŠ¬èµ·</span><br>pyautogui.mouseUp()<br></code></pre></td></tr></table></figure>

<h1 id="é”®ç›˜æ“ä½œ"><a href="#é”®ç›˜æ“ä½œ" class="headerlink" title="é”®ç›˜æ“ä½œ"></a>é”®ç›˜æ“ä½œ</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è¾“å…¥ï¼Œæ¯ä¸ªå­—ç¬¦é—´éš” 0.25 ç§’</span><br>pyautogui.write(<span class="hljs-string">&#x27;Hello world!&#x27;</span>, interval=<span class="hljs-number">0.25</span>)<br><br><span class="hljs-comment"># æŒ‰ä½ shift</span><br>pyautogui.keyDown(<span class="hljs-string">&#x27;shift&#x27;</span>)<br><br><span class="hljs-comment"># æŒ‰ä¸‹ left é”®</span><br>pyautogui.press(<span class="hljs-string">&#x27;left&#x27;</span>)<br><br><span class="hljs-comment"># å¼¹èµ· shift</span><br>pyautogui.keyUp(<span class="hljs-string">&#x27;shift&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>ä¸Šè¿°æ“ä½œå®ç°æŒ‰ä½ shift åŒæ—¶æŒ‰ä¸‹ left é”®ã€‚ å¦‚æœéœ€è¦æŒ‰ä¸‹å¤šä¸ªé”®ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">pyautogui.press([<span class="hljs-string">&#x27;left&#x27;</span>, <span class="hljs-string">&#x27;left&#x27;</span>, <span class="hljs-string">&#x27;left&#x27;</span>])<br></code></pre></td></tr></table></figure>

<p>å¦‚æœé”®ç›¸åŒå¯ä»¥ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">pyautogui.press(<span class="hljs-string">&#x27;left&#x27;</span>, presses=<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure>

<p>pyautogui æ”¯æŒçš„æŒ‰é”®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">[<span class="hljs-string">&#x27;\t&#x27;</span>,<span class="hljs-string">&#x27;\n&#x27;</span>,<span class="hljs-string">&#x27;\r&#x27;</span>,<span class="hljs-string">&#x27; &#x27;</span>,<span class="hljs-string">&#x27;!&#x27;</span>,<span class="hljs-string">&#x27;&quot;&#x27;</span>,<span class="hljs-string">&#x27;#&#x27;</span>,<span class="hljs-string">&#x27;$&#x27;</span>,<span class="hljs-string">&#x27;%&#x27;</span>,<span class="hljs-string">&#x27;&amp;&#x27;</span>,<span class="hljs-string">&quot;&#x27;&quot;</span>,<span class="hljs-string">&#x27;(&#x27;</span>,<span class="hljs-string">&#x27;)&#x27;</span>,<span class="hljs-string">&#x27;*&#x27;</span>,<span class="hljs-string">&#x27;+&#x27;</span>,<span class="hljs-string">&#x27;,&#x27;</span>,<span class="hljs-string">&#x27;-&#x27;</span>,<span class="hljs-string">&#x27;.&#x27;</span>,<span class="hljs-string">&#x27;/&#x27;</span>,<br><span class="hljs-string">&#x27;0&#x27;</span>,<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;2&#x27;</span>,<span class="hljs-string">&#x27;3&#x27;</span>,<span class="hljs-string">&#x27;4&#x27;</span>,<span class="hljs-string">&#x27;5&#x27;</span>,<span class="hljs-string">&#x27;6&#x27;</span>,<span class="hljs-string">&#x27;7&#x27;</span>,<span class="hljs-string">&#x27;8&#x27;</span>,<span class="hljs-string">&#x27;9&#x27;</span>,<span class="hljs-string">&#x27;:&#x27;</span>,<span class="hljs-string">&#x27;;&#x27;</span>,<span class="hljs-string">&#x27;&lt;&#x27;</span>,<span class="hljs-string">&#x27;=&#x27;</span>,<span class="hljs-string">&#x27;&gt;&#x27;</span>,<span class="hljs-string">&#x27;?&#x27;</span>,<span class="hljs-string">&#x27;@&#x27;</span>,<span class="hljs-string">&#x27;[&#x27;</span>,<span class="hljs-string">&#x27;\\&#x27;</span>, <span class="hljs-string">&#x27;]&#x27;</span>, <br><span class="hljs-string">&#x27;^&#x27;</span>, <span class="hljs-string">&#x27;_&#x27;</span>, <span class="hljs-string">&#x27;`&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;g&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;j&#x27;</span>, <span class="hljs-string">&#x27;k&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>, <span class="hljs-string">&#x27;n&#x27;</span>, <br><span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;q&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;s&#x27;</span>, <span class="hljs-string">&#x27;t&#x27;</span>, <span class="hljs-string">&#x27;u&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, <span class="hljs-string">&#x27;x&#x27;</span>, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>, <span class="hljs-string">&#x27;&#123;&#x27;</span>, <span class="hljs-string">&#x27;|&#x27;</span>, <span class="hljs-string">&#x27;&#125;&#x27;</span>, <span class="hljs-string">&#x27;~&#x27;</span>, <br><span class="hljs-string">&#x27;accept&#x27;</span>, <span class="hljs-string">&#x27;add&#x27;</span>, <span class="hljs-string">&#x27;alt&#x27;</span>, <span class="hljs-string">&#x27;altleft&#x27;</span>, <span class="hljs-string">&#x27;altright&#x27;</span>, <span class="hljs-string">&#x27;apps&#x27;</span>, <span class="hljs-string">&#x27;backspace&#x27;</span>, <span class="hljs-string">&#x27;browserback&#x27;</span>, <br><span class="hljs-string">&#x27;browserfavorites&#x27;</span>, <span class="hljs-string">&#x27;browserforward&#x27;</span>, <span class="hljs-string">&#x27;browserhome&#x27;</span>, <span class="hljs-string">&#x27;browserrefresh&#x27;</span>, <span class="hljs-string">&#x27;browsersearch&#x27;</span>, <br><span class="hljs-string">&#x27;browserstop&#x27;</span>, <span class="hljs-string">&#x27;capslock&#x27;</span>, <span class="hljs-string">&#x27;clear&#x27;</span>, <span class="hljs-string">&#x27;convert&#x27;</span>, <span class="hljs-string">&#x27;ctrl&#x27;</span>, <span class="hljs-string">&#x27;ctrlleft&#x27;</span>, <span class="hljs-string">&#x27;ctrlright&#x27;</span>, <br><span class="hljs-string">&#x27;decimal&#x27;</span>, <span class="hljs-string">&#x27;del&#x27;</span>, <span class="hljs-string">&#x27;delete&#x27;</span>, <span class="hljs-string">&#x27;divide&#x27;</span>, <span class="hljs-string">&#x27;down&#x27;</span>, <span class="hljs-string">&#x27;end&#x27;</span>, <span class="hljs-string">&#x27;enter&#x27;</span>, <span class="hljs-string">&#x27;esc&#x27;</span>, <span class="hljs-string">&#x27;escape&#x27;</span>, <br><span class="hljs-string">&#x27;execute&#x27;</span>, <span class="hljs-string">&#x27;f1&#x27;</span>, <span class="hljs-string">&#x27;f10&#x27;</span>, <span class="hljs-string">&#x27;f11&#x27;</span>, <span class="hljs-string">&#x27;f12&#x27;</span>, <span class="hljs-string">&#x27;f13&#x27;</span>, <span class="hljs-string">&#x27;f14&#x27;</span>, <span class="hljs-string">&#x27;f15&#x27;</span>, <span class="hljs-string">&#x27;f16&#x27;</span>, <span class="hljs-string">&#x27;f17&#x27;</span>, <span class="hljs-string">&#x27;f18&#x27;</span>, <br><span class="hljs-string">&#x27;f19&#x27;</span>, <span class="hljs-string">&#x27;f2&#x27;</span>, <span class="hljs-string">&#x27;f20&#x27;</span>, <span class="hljs-string">&#x27;f21&#x27;</span>, <span class="hljs-string">&#x27;f22&#x27;</span>, <span class="hljs-string">&#x27;f23&#x27;</span>, <span class="hljs-string">&#x27;f24&#x27;</span>, <span class="hljs-string">&#x27;f3&#x27;</span>, <span class="hljs-string">&#x27;f4&#x27;</span>, <span class="hljs-string">&#x27;f5&#x27;</span>, <span class="hljs-string">&#x27;f6&#x27;</span>, <span class="hljs-string">&#x27;f7&#x27;</span>, <br><span class="hljs-string">&#x27;f8&#x27;</span>, <span class="hljs-string">&#x27;f9&#x27;</span>, <span class="hljs-string">&#x27;final&#x27;</span>, <span class="hljs-string">&#x27;fn&#x27;</span>, <span class="hljs-string">&#x27;hanguel&#x27;</span>, <span class="hljs-string">&#x27;hangul&#x27;</span>, <span class="hljs-string">&#x27;hanja&#x27;</span>, <span class="hljs-string">&#x27;help&#x27;</span>, <span class="hljs-string">&#x27;home&#x27;</span>, <span class="hljs-string">&#x27;insert&#x27;</span>,<br> <span class="hljs-string">&#x27;junja&#x27;</span>, <span class="hljs-string">&#x27;kana&#x27;</span>, <span class="hljs-string">&#x27;kanji&#x27;</span>, <span class="hljs-string">&#x27;launchapp1&#x27;</span>, <span class="hljs-string">&#x27;launchapp2&#x27;</span>, <span class="hljs-string">&#x27;launchmail&#x27;</span>, <span class="hljs-string">&#x27;launchmediaselect&#x27;</span>, <br> <span class="hljs-string">&#x27;left&#x27;</span>, <span class="hljs-string">&#x27;modechange&#x27;</span>, <span class="hljs-string">&#x27;multiply&#x27;</span>, <span class="hljs-string">&#x27;nexttrack&#x27;</span>, <span class="hljs-string">&#x27;nonconvert&#x27;</span>, <span class="hljs-string">&#x27;num0&#x27;</span>, <span class="hljs-string">&#x27;num1&#x27;</span>, <span class="hljs-string">&#x27;num2&#x27;</span>, <br> <span class="hljs-string">&#x27;num3&#x27;</span>, <span class="hljs-string">&#x27;num4&#x27;</span>, <span class="hljs-string">&#x27;num5&#x27;</span>, <span class="hljs-string">&#x27;num6&#x27;</span>, <span class="hljs-string">&#x27;num7&#x27;</span>, <span class="hljs-string">&#x27;num8&#x27;</span>, <span class="hljs-string">&#x27;num9&#x27;</span>, <span class="hljs-string">&#x27;numlock&#x27;</span>, <span class="hljs-string">&#x27;pagedown&#x27;</span>, <span class="hljs-string">&#x27;pageup&#x27;</span>, <br> <span class="hljs-string">&#x27;pause&#x27;</span>, <span class="hljs-string">&#x27;pgdn&#x27;</span>, <span class="hljs-string">&#x27;pgup&#x27;</span>, <span class="hljs-string">&#x27;playpause&#x27;</span>, <span class="hljs-string">&#x27;prevtrack&#x27;</span>, <span class="hljs-string">&#x27;print&#x27;</span>, <span class="hljs-string">&#x27;printscreen&#x27;</span>, <span class="hljs-string">&#x27;prntscrn&#x27;</span>, <br> <span class="hljs-string">&#x27;prtsc&#x27;</span>, <span class="hljs-string">&#x27;prtscr&#x27;</span>, <span class="hljs-string">&#x27;return&#x27;</span>, <span class="hljs-string">&#x27;right&#x27;</span>, <span class="hljs-string">&#x27;scrolllock&#x27;</span>, <span class="hljs-string">&#x27;select&#x27;</span>, <span class="hljs-string">&#x27;separator&#x27;</span>, <span class="hljs-string">&#x27;shift&#x27;</span>, <br> <span class="hljs-string">&#x27;shiftleft&#x27;</span>, <span class="hljs-string">&#x27;shiftright&#x27;</span>, <span class="hljs-string">&#x27;sleep&#x27;</span>, <span class="hljs-string">&#x27;space&#x27;</span>, <span class="hljs-string">&#x27;stop&#x27;</span>, <span class="hljs-string">&#x27;subtract&#x27;</span>, <span class="hljs-string">&#x27;tab&#x27;</span>,<span class="hljs-string">&#x27;up&#x27;</span>, <br> <span class="hljs-string">&#x27;volumedown&#x27;</span>, <span class="hljs-string">&#x27;volumemute&#x27;</span>, <span class="hljs-string">&#x27;volumeup&#x27;</span>, <span class="hljs-string">&#x27;win&#x27;</span>, <span class="hljs-string">&#x27;winleft&#x27;</span>, <span class="hljs-string">&#x27;winright&#x27;</span>, <br> <span class="hljs-string">&#x27;yen&#x27;</span>, <span class="hljs-string">&#x27;command&#x27;</span>, <span class="hljs-string">&#x27;option&#x27;</span>, <span class="hljs-string">&#x27;optionleft&#x27;</span>, <span class="hljs-string">&#x27;optionright&#x27;</span>]<br></code></pre></td></tr></table></figure>

<h1 id="æ¶ˆæ¯å¼¹çª—"><a href="#æ¶ˆæ¯å¼¹çª—" class="headerlink" title="æ¶ˆæ¯å¼¹çª—"></a>æ¶ˆæ¯å¼¹çª—</h1><h2 id="alert"><a href="#alert" class="headerlink" title="alert()"></a>alert()</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">pyautogui.alert(text=<span class="hljs-string">&#x27;âš ï¸è¿™æ˜¯ä¸€æ®µè­¦å‘Š&#x27;</span>, title=<span class="hljs-string">&#x27;alert æµ‹è¯•&#x27;</span>, button=<span class="hljs-string">&#x27;OK&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>ä¼šå¼¹å‡ºå¦‚ä¸‹æç¤ºæ¡†ï¼š <img src="https://i.loli.net/2020/06/27/KCYxOpRmLJezEF7.png" alt="alert"></p>
<h2 id="confirm"><a href="#confirm" class="headerlink" title="confirm()"></a>confirm()</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">a = pyautogui.confirm(text=<span class="hljs-string">&#x27;å¯¹è¯æ¡†æµ‹è¯•&#x27;</span>, title=<span class="hljs-string">&#x27;æ ‡é¢˜&#x27;</span>, buttons=[<span class="hljs-string">&#x27;OK&#x27;</span>, <span class="hljs-string">&#x27;Cancel&#x27;</span>])<br>print(a)<br></code></pre></td></tr></table></figure>

<p>æˆ‘è¿™ä¹ˆå†™ä½ ä¹Ÿåº”è¯¥æ˜ç™½äº†ï¼Œ<code>confirm()</code> æ–¹æ³•ä¼šä¼ é€’å‚æ•°ã€‚è¿™æ ·æˆ‘ä»¬åœ¨æ“ä½œè¿‡ç¨‹ä¸­å¯ä»¥å®ç°ç®€å•é€‰æ‹©ã€‚ <img src="https://i.loli.net/2020/06/27/iGEFep3hoJU6KuX.png" alt="confirm"></p>
<h2 id="prompt"><a href="#prompt" class="headerlink" title="prompt()"></a>prompt()</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">a = pyautogui.prompt(text=<span class="hljs-string">&#x27;è¯·è¾“å…¥å­¦å·&#x27;</span>, title=<span class="hljs-string">&#x27;æ ‡é¢˜&#x27;</span> , default=<span class="hljs-string">&#x27;å­¦å·&#x27;</span>)<br>print(a)<br></code></pre></td></tr></table></figure>

<p>é€‰æ‹© OK è·å–ç”¨æˆ·è¾“å…¥ï¼Œé€‰æ‹© Cancel è¿”å› Noneã€‚ <img src="https://i.loli.net/2020/06/27/E7TuvUa3tACw9Mz.png"></p>
<h2 id="password"><a href="#password" class="headerlink" title="password()"></a>password()</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">a = pyautogui.password(text=<span class="hljs-string">&#x27;è¾“å…¥å¯†ç &#x27;</span>, title=<span class="hljs-string">&#x27;æ ‡é¢˜&#x27;</span>, default=<span class="hljs-string">&#x27;&#x27;</span>, mask=<span class="hljs-string">&#x27;*&#x27;</span>)<br>print(a)<br></code></pre></td></tr></table></figure>

<p>é€‰æ‹© OK è·å–ç”¨æˆ·è¾“å…¥ï¼Œé€‰æ‹© Cancel è¿”å› Noneã€‚åªæ˜¯è¾“å…¥çš„å­—ç¬¦ä¸²éƒ½ä¼šè¢« <code>mask</code> ä»£æ›¿ã€‚ <img src="https://i.loli.net/2020/06/27/AbIr68B2MDxP9pa.png" alt="password"></p>
<h1 id="å±å¹•æˆªå›¾"><a href="#å±å¹•æˆªå›¾" class="headerlink" title="å±å¹•æˆªå›¾"></a>å±å¹•æˆªå›¾</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">pyautogui.screenshot(<span class="hljs-string">&#x27;my_screenshot.png&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>å±å¹•æˆªå›¾æ¯”è¾ƒæœ‰ç”¨ï¼Œæ ¹æ®æˆªå›¾æ‰¾å›¾æ„Ÿè§‰ç²¾åº¦ä¸é«˜ï¼Œæ‰€ä»¥å°±ä¸æ¨èäº†ã€‚ ä»¥ä¸Šå°±æ˜¯ pyautogui çš„ä½¿ç”¨ä»‹ç»äº†ï¼ŒåŸºæœ¬åŒ…å«äº†æ‰€æœ‰å¸¸ç”¨æ“ä½œã€‚ å¦‚æœè¿˜è§‰å¾—ä¸å¤Ÿå¯ä»¥çœ‹<a href="https://pyautogui.readthedocs.io/en/latest/index.html">å®˜æ–¹æ–‡æ¡£</a>å’Œ<a href="https://github.com/asweigart/pyautogui">æºç </a>ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>è„šæœ¬</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonista ä½¿ç”¨å°è®°</title>
    <url>/105.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2019/12/28/miu2vzNfGRqxodM.png" alt="pythonista3 Logo"></p>
<h1 id="Pythonista"><a href="#Pythonista" class="headerlink" title="Pythonista"></a><a href="http://omz-software.com/pythonista/index.html">Pythonista</a></h1><blockquote>
<p>Pythonista is a complete development environment for writing Pythonâ„¢ scripts on your iPad or iPhone. Lots of examples are included â€” from games and animations to plotting, image manipulation, custom user interfaces, and automation scripts.</p>
<p>In addition to the powerful standard library, Pythonista provides extensive support for interacting with native iOS features, like contacts, reminders, photos, location data, and more.</p>
</blockquote>
<a id="more"></a>
<hr>
<h1 id="Pythonista-ä½¿ç”¨"><a href="#Pythonista-ä½¿ç”¨" class="headerlink" title="Pythonista ä½¿ç”¨"></a>Pythonista ä½¿ç”¨</h1><h2 id="ä½¿ç”¨ä¹‹å‰"><a href="#ä½¿ç”¨ä¹‹å‰" class="headerlink" title="ä½¿ç”¨ä¹‹å‰"></a>ä½¿ç”¨ä¹‹å‰</h2><p>æˆ‘ä»¬é¦–å…ˆä¼šè€ƒè™‘ Pythonista æ˜¯å¦æ”¯æŒç¬¬ä¸‰æ–¹åº“ã€‚å¦‚æœä¸æ”¯æŒï¼Œé‚£å¯ç©æ€§å®åœ¨æ˜¯å¤ªä½äº†ã€‚è¿˜å¥½ï¼ŒPythonista æ”¯æŒä¸€äº›çº¯ Python å†™æˆçš„ç¬¬ä¸‰æ–¹åº“ï¼Œä¾‹å¦‚ requestsï¼ŒBeautifulSoup ç­‰åº“è¿˜æ˜¯æ”¯æŒçš„ã€‚æ‰€ä»¥æœ‰ç©å®¶é¦–å…ˆä¼šæƒ³åˆ°åˆ©ç”¨ you-get æ¥ä¸‹è½½å„ç§èµ„æºã€‚</p>
<p>ä½†æ˜¯å¦‚ä½•å®‰è£…ç¬¬ä¸‰æ–¹åº“å‘¢ï¼Ÿéœ€è¦æˆ‘ä»¬åœ¨ç»ˆç«¯ä½¿ç”¨ pip å‘½ä»¤æ¥å®‰è£…ã€‚æ‰€ä»¥ <a href="https://github.com/ywangd/stash">StaSh-Shell</a> åº”è¿è€Œç”Ÿã€‚</p>
<p>æˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ª py æ–‡ä»¶ï¼Œå¯ä»¥å‘½åä¸º <code>install_stash.py</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests <span class="hljs-keyword">as</span> r; exec(r.get(<span class="hljs-string">&#x27;https://raw.githubusercontent.com/ywangd/stash/master/getstash.py&#x27;</span>).text)<br></code></pre></td></tr></table></figure>

<p>æ‰§è¡Œå®Œæˆåï¼Œé€€å‡ºé‡æ–°è¿›å…¥åº”ç”¨ï¼Œä¼šå‘ç°å¤šäº†ä¸€ä¸ªåä¸º <code>launch_stash.py</code> çš„æ–‡ä»¶ã€‚è¿è¡Œæ­¤æ–‡ä»¶å°±å¯ä»¥è°ƒå‡º shell ç•Œé¢ï¼Œä½¿ç”¨ pip å®‰è£… Python çš„ç¬¬ä¸‰æ–¹åº“äº†ã€‚</p>
<p><img src="https://i.loli.net/2019/12/28/7d5uO3CKgDxQyFb.png" alt="å®‰è£… StaSh"></p>
<h2 id="å®‰è£…ç¬¬ä¸‰æ–¹åº“"><a href="#å®‰è£…ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="å®‰è£…ç¬¬ä¸‰æ–¹åº“"></a>å®‰è£…ç¬¬ä¸‰æ–¹åº“</h2><p>æˆ‘ä»¬å¯ä»¥å®‰è£… tqdm æ¥æµ‹è¯•æ˜¯å¦å¯ä»¥å®‰è£…ç¬¬ä¸‰æ–¹åº“ã€‚</p>
<p><a href="https://github.com/tqdm/tqdm">tqdm</a> æ˜¯ä¸€ä¸ªå¿«é€Ÿï¼Œå¯æ‰©å±•çš„Pythonè¿›åº¦æ¡ã€‚æ“ä½œç®€å•ï¼ŒåŠŸèƒ½å…¨é¢ã€‚</p>
<p><img src="https://raw.githubusercontent.com/tqdm/tqdm/master/images/tqdm.gif"></p>
<p>å› ä¸ºåœ¨ä¹‹åçš„è„šæœ¬ä¸­ä¼šä½¿ç”¨åˆ° tqdm æ¥æ˜¾ç¤ºä¸‹è½½è¿›åº¦ï¼Œæ‰€ä»¥ç”¨æ­¤åº“æµ‹è¯•ã€‚</p>
<p>è¿è¡Œ <code>launch_stash.py</code>ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ <code>pip install tqdm</code> æ¥å®‰è£…ã€‚</p>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š</p>
<p><img src="https://i.loli.net/2019/12/28/YLnsbOPdNcFZr9u.png" alt="å®‰è£… tqdm"></p>
<h1 id="è„šæœ¬"><a href="#è„šæœ¬" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h1><h2 id="å®˜æ–¹è„šæœ¬"><a href="#å®˜æ–¹è„šæœ¬" class="headerlink" title="å®˜æ–¹è„šæœ¬"></a>å®˜æ–¹è„šæœ¬</h2><p>Pythonista è‡ªå¸¦äº†ä¸€äº›ä¾‹å­ã€‚å¦‚æœä½ è§‰å¾—è¿˜ä¸å¤Ÿç”¨ï¼Œå¯ä»¥å®‰è£… Pythonista Toolsã€‚</p>
<p>åŒæ ·æ˜¯æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º <code>ptinstaller.py</code>ï¼Œå°†å¦‚ä¸‹å†…å®¹å†™å…¥è¯¥æ–‡ä»¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests <span class="hljs-keyword">as</span> r; o=open(<span class="hljs-string">&#x27;ptinstaller.py&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>); o.write(r.get(<span class="hljs-string">&#x27;http://j.mp/pt-i&#x27;</span>).text); o.close()<br></code></pre></td></tr></table></figure>

<p>æç¤ºæ‰§è¡Œå®Œæˆåï¼Œé‡å¯è½¯ä»¶ï¼Œä½ ä¼šå‘ç° <code>ptinstaller.py</code> æ–‡ä»¶å†…å®¹å·²ç»è¢«æ›¿æ¢ï¼Œè¿è¡Œåä¼šå‡ºç°ä¸€ä¸ª UI ç•Œé¢ï¼Œæœ‰è®¸å¤šè„šæœ¬ä¾›ä½ é€‰æ‹©ã€‚</p>
<p><img src="https://i.loli.net/2019/12/28/kt9GuLWpEKbFhi4.jpg" alt="ptinstaller"></p>
<h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p>github åœ°å€ï¼š<a href="https://github.com/alpha87/PythonistaScript">https://github.com/alpha87/PythonistaScript</a></p>
<p><strong>ä»“åº“å†…è„šæœ¬ä¼šä¸æ–­æ›´æ–°ï¼Œä½†ä»…é™å­¦ä¹ äº¤æµä½¿ç”¨ã€‚å¦‚æœä¸å¬æˆ‘çš„æˆ‘ä¹Ÿæ‹¿ä½ æ²¡ä»€ä¹ˆåŠæ³•ï½</strong></p>
<h1 id="è´­ä¹°"><a href="#è´­ä¹°" class="headerlink" title="è´­ä¹°"></a>è´­ä¹°</h1><p>Pythonista è‹¹æœå•†åº—å›½åŒºå”®ä»· 68 å…ƒï¼Œç¾åŒºå”®ä»· 9.99 ç¾å…ƒã€‚</p>
<p>ç°åœ¨æ‰«ç è´­ä¹°åªéœ€ 19 å…ƒï¼Œä½†éœ€è¦ä½¿ç”¨ç¾åŒºè´¦å·ï¼Œè¯¦æƒ…è¯·è”ç³»å®¢æœã€‚</p>
<p><img src="https://i.loli.net/2019/12/28/XKszIi5PoOCQ1hD.png" alt="æ„Ÿè°¢ä½¿ç”¨"></p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>è„šæœ¬</tag>
        <tag>åº”ç”¨æ¨è</tag>
      </tags>
  </entry>
  <entry>
    <title>QuantumultX é…ç½®æ–‡ä»¶ä»¥åŠå¸¸ç”¨çš„è„šæœ¬æ¨è</title>
    <url>/106.html</url>
    <content><![CDATA[<p>è¿™ä¸€æ®µæ—¶é—´æŠŠç§‘å­¦ä¸Šç½‘å·¥å…·ï¼ˆiOS å¹³å°ï¼‰ä»å°ç«ç®­æ¢æˆäº† QuantumultXï¼Œå› ä¸ºä¸è®ºæ˜¯é¢œå€¼ï¼Œæ€§èƒ½ï¼Œè¿˜æ˜¯è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼ŒQuantumultX éƒ½å®Œèƒœå°ç«ç®­ã€‚å½“ç„¶å°ç«ç®­çš„æ›´æ–°é€Ÿåº¦å’Œåè®®æ”¯æŒæ˜¯å¤§éƒ¨åˆ†å·¥å…·æ— æ³•æ¯”æ‹Ÿçš„ã€‚</p>
<p>æ‰€ä»¥å°±æŠŠæˆ‘è‡ªå·±ä½¿ç”¨çš„æç®€ç­–ç•¥å’Œå¸¸ç”¨è„šæœ¬ï¼ˆå»å¹¿å‘Šè„šæœ¬ï¼Œç­¾åˆ°è„šæœ¬ï¼‰æ¨èå‡ºæ¥ï¼Œå°ç™½å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚åœ¨å‚è€ƒä»¥åï¼Œé…åˆé»˜è®¤é…ç½®æ–‡ä»¶ä¼°è®¡å°±å¯ä»¥å¾ˆå¿«ä¸Šæ‰‹æ›´æ–°è‡ªå·±ç‹¬æœ‰çš„ç­–ç•¥ã€‚</p>
<a id="more"></a>
<h1 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h1><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># - QuantumultX CONFIG - #</span><br><br>[general]<br>server_check_url=http://www.qualcomm.cn/generate_204<br>dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com<br>geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js<br><br>[dns]<br>server=223.5.5.5<br><br>[policy]<br><br>[server_remote]<br><br>[filter_remote]<br>https://raw.githubusercontent.com/limbopro/Profiles/master/limbopro/QuantumultX.list, tag=æœºåœºåŸŸå, enabled=<span class="hljs-literal">true</span><br>https://raw.githubusercontent.com/ConnersHua/Profiles/master/Quantumult/X/Filter/Global.list, tag=å›½å¤–è·¯çº¿, enabled=<span class="hljs-literal">true</span><br>https://raw.githubusercontent.com/ConnersHua/Profiles/master/Quantumult/X/Filter/ForeignMedia.list, tag=å›½å¤–è§†é¢‘, force-policy=proxy, enabled=<span class="hljs-literal">true</span><br>https://raw.githubusercontent.com/ConnersHua/Profiles/master/Quantumult/X/Filter/Media/YouTube.list, tag=YouTube, force-policy=proxy, enabled=<span class="hljs-literal">true</span><br>https://raw.githubusercontent.com/ConnersHua/Profiles/master/Quantumult/X/Filter/DomesticMedia.list, tag=å›½å†…è§†é¢‘, force-policy=direct, enabled=<span class="hljs-literal">true</span><br>https://raw.githubusercontent.com/ConnersHua/Profiles/master/Quantumult/X/Filter/China.list, tag=å›½å†…è·¯çº¿, enabled=<span class="hljs-literal">true</span><br>https://raw.githubusercontent.com/ConnersHua/Profiles/master/Quantumult/X/Filter/Hijacking.list, tag=è¿è¥å•†åŠ«æŒåŠæ¶æ„ç½‘ç«™, enabled=<span class="hljs-literal">true</span><br>https://raw.githubusercontent.com/ConnersHua/Profiles/master/Quantumult/X/Filter/Advertising.list, tag=å»å¹¿å‘Š, enabled=<span class="hljs-literal">true</span><br>https://raw.githubusercontent.com/ConnersHua/Profiles/master/Quantumult/X/Filter/Unbreak.list, tag=UNBREAK, enabled=<span class="hljs-literal">true</span><br>https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/AdRule.list, tag=NobyDaå»å¹¿å‘Š, enabled=<span class="hljs-literal">true</span><br><br>[rewrite_remote]<br>https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/Rewrite_lhie1.conf, tag=é»˜è®¤, enabled=<span class="hljs-literal">true</span><br><br>[server_local]<br><br>[filter_local]<br>ip-cidr, 10.0.0.0/8, direct<br>ip-cidr, 127.0.0.0/8, direct<br>ip-cidr, 172.16.0.0/12, direct<br>ip-cidr, 192.168.0.0/16, direct<br>ip-cidr, 224.0.0.0/24, direct<br>geoip, cn, direct<br>final, proxy<br><br>[rewrite_local]<br>; YouTube å»å¹¿å‘Š<br>^https?:\/\/.+\.googlevideo\.com\/.+&amp;amp;oad url reject-img<br>^https?:\/\/.+\.googlevideo\.com\/.+ctier url reject-img<br>^https?:\/\/youtubei\.googleapis\.com\/youtubei\/.+ad_ url reject-img<br>^https?:\/\/youtubei\.googleapis\.com\/youtubei\/.+log_ url reject-img<br>^https?:\/\/.+\.youtube\.com\/get_midroll_ url reject-img<br>^https?:\/\/premiumyva\.appspot\.com\/vmclickstoadvertisersite url reject-img<br>^https?:\/\/.+\.youtube\.com\/api\/stats\/ads url reject-img<br>^https?:\/\/.+\.youtube\.com\/api\/stats\/.+adformat url reject-img<br>^https?:\/\/.+\.youtube\.com\/pagead\/ url reject-img<br>^https?:\/\/.+\.youtube\.com\/ptracking url reject-img<br><br>; å»é™¤å¾®ä¿¡å…¬ä¼—å·æ–‡ç« å†…å¹¿å‘Š<br>^https?:\/\/mp\.weixin\.qq\.com\/mp\/getappmsgad url script-response-body WeChat.js<br><br>; å»é™¤ IT ä¹‹å®¶æ–°é—»åˆ—è¡¨å¹¿å‘Š<br>^https?:\/\/api\.ithome\.com\/json\/slide\/index url script-response-body ITHome.js<br>^https?:\/\/api\.ithome\.com\/json\/newslist\/news url script-response-body ITHome.js<br>^https?:\/\/api\.ithome\.com\/json\/listpage\/news.* url script-response-body ITHome.js<br><br>; PriceTag å»é¦–é¡µå¹¿å‘Š<br>^https?:\/\/appfan\.im\/api\/v2\/topics\/.*?/posts.* url script-response-body PriceTagAD.js<br><br>; å¤§å§¨å¦ˆå»å¹¿å‘Š<br>^https?:\/\/ssp-x\.yoloho\.com\/api\/ad.* url script-response-body Dayima.js<br><br>[mitm]<br>hostname=mp.weixin.qq.com, api.ithome.com, appfan.im, ssp-x.yoloho.com, *.googlevideo.com, s.youtube.com, www.youtube.com, youtubei.googleapis.com<br></code></pre></td></tr></table></figure>

<p><strong>GitHub åœ°å€ï¼š<a href="https://raw.githubusercontent.com/alpha87/QuantumultX-Profiles/master/quantumultX_profile.conf">https://raw.githubusercontent.com/alpha87/QuantumultX-Profiles/master/quantumultX_profile.conf</a></strong></p>
<p>å› ä¸ºæˆ‘ä¸çœ‹ netflix ç­‰ï¼Œå¯¹ä¸åŒçš„åº”ç”¨æˆ–åŸŸåæ²¡æœ‰ç‰¹æ®ŠèŠ‚ç‚¹éœ€æ±‚ï¼Œæ‰€ä»¥è¿™ä¸ªé…ç½®æ–‡ä»¶æä¸ºç®€å•ï¼Œæ²¡æœ‰ä»»ä½•ç­–ç•¥ã€‚</p>
<p>è¿™ä»½é…ç½®æ–‡ä»¶å·²ç»å±è”½äº†å¤§éƒ¨åˆ†å¹¿å‘Šï¼Œæˆ‘åˆæ ¹æ®è‡ªå·±çš„éœ€æ±‚å±è”½äº† YouTube äº”ç§’å¹¿å‘Šï¼Œå¾®ä¿¡å…¬ä¼—å·å¹¿å‘Šï¼ŒIT ä¹‹å®¶æ–°é—»åˆ—è¡¨å¹¿å‘Šï¼Œå¤§å§¨å¦ˆçƒ¦äººå¹¿å‘Šã€‚</p>
<p><strong>å»å¹¿å‘Šè„šæœ¬åœ°å€ï¼š<a href="https://github.com/alpha87/QuantumultX-Profiles">https://github.com/alpha87/QuantumultX-Profiles</a></strong></p>
<p>ä½¿ç”¨æ•ˆæœç±»ä¼¼å°ç«ç®­ï¼Œå›½å†…ç›´è¿ï¼Œå›½å¤–æ‰¶æ¢¯ï¼Œå¹¿å‘Šæ‹¦æˆªã€‚åªè¦å¼€å¯å°±å¯ä»¥æ— ç¼ä¸Šç½‘ã€‚</p>
<p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://i.loli.net/2020/01/27/Bz9cn6QOeNbrxDo.jpg" alt="é¦–é¡µ"></p>
<h1 id="å»å¹¿å‘Šè„šæœ¬"><a href="#å»å¹¿å‘Šè„šæœ¬" class="headerlink" title="å»å¹¿å‘Šè„šæœ¬"></a>å»å¹¿å‘Šè„šæœ¬</h1><p>å»é™¤å¹¿å‘Šç†è§£èµ·æ¥å¾ˆç®€å•ã€‚å¯ä»¥åˆ†ä¸ºä¸¤ç§å»å¹¿å‘Šæ–¹å¼ï¼š</p>
<ol>
<li>ç›´æ¥æ‹’ç»è¿æ¥ï¼Œrejectï¼›</li>
<li>ä¿®æ”¹ response</li>
</ol>
<p>ä»¥å¾®ä¿¡å…¬ä¼—å·å¹¿å‘Šä¸ºä¾‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œä¿®æ”¹å“åº”ï¼Œå»æ‰å¹¿å‘Šéƒ¨åˆ†å³å¯ã€‚</p>
<p>ä½¿ç”¨è„šæœ¬çš„è¯éœ€è¦åœ¨è„šæœ¬å¤´éƒ¨æ³¨é‡Šå¡«å†™ä½ çš„è®¾å¤‡ IDã€‚è®¾å¤‡ ID åœ¨å…¶ä»–è®¾ç½®é‡Œå¯ä»¥æ‰¾åˆ°ï¼š</p>
<p><img src="https://i.loli.net/2020/01/27/4Jpwm2SH3xezQYf.jpg" alt="è®¾å¤‡ ID"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@supported </span>ä½ çš„è®¾å¤‡ ID</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-comment">// å»é™¤å¾®ä¿¡å…¬ä¼—å·æ–‡ç« å†…å¹¿å‘Š</span><br><span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">JSON</span>.parse($response.body);<br>obj.advertisement_num = <span class="hljs-number">0</span>;<br>obj.advertisement_info = [];<br><span class="hljs-keyword">delete</span> obj.appid;<br>$done(&#123; <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify(obj) &#125;);<br></code></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†ä»£ç å¾ˆå¥½ç†è§£ã€‚<code>obj</code> å°±æ˜¯å¾®ä¿¡å…¬ä¼—å·è¿”å›çš„æ•°æ®ï¼Œ<code>obj</code> é‡Œçš„ <code>appid</code>ï¼Œ<code>advertisement_num</code> å’Œ <code>advertisement_info</code> éƒ½æ˜¯å’Œå¹¿å‘Šæœ‰å…³çš„æ•°æ®ã€‚å¦‚ä½•åˆ¤æ–­ <code>advertisement_num</code> å’Œ <code>advertisement_info</code> åˆ†åˆ«ç»™ <code>0</code> å’Œ <code>[]</code> å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦å‚è€ƒä¸€ä¸ªæ²¡æœ‰å¹¿å‘Šçš„å…¬ä¼—å·ä¼šå‘ç°è¿™ä¸ªè¯·æ±‚è¿˜ä¼šå­˜åœ¨ï¼Œè€Œä¸”è¿”å›æ•°æ®å¯¹åº”æ­£æ˜¯ <code>0</code> å’Œ <code>[]</code>ã€‚æ²¡æœ‰å¹¿å‘Šçš„å“åº”ä¹Ÿæ²¡æœ‰ <code>appid</code> å­—æ®µï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿè¦åˆ æ‰ã€‚è¿™æ®µä»£ç å°±æ˜¯è¿™ä¸ªæ„æ€ï¼Œçœ‹ä¸æ‡‚çš„å…¶ä»–éƒ¨åˆ†æ˜¯ JavaScript çš„è¯­æ³•å’Œä¸€äº›æ ¼å¼è½¬æ¢ã€‚</p>
<p>ä½¿ç”¨è„šæœ¬å»å¹¿å‘Šå°±åšåˆ°äº†å¾®ä¿¡å…¬ä¼—å·æˆåŠŸè¯·æ±‚äº†å¹¿å‘Šï¼Œä½†æ˜¯æˆ‘ä»¬å®¢æˆ·ç«¯è¿™è¾¹ä¸åšå±•ç¤ºï¼Œæ˜¯ä¸æ˜¯æ¯”ç›´æ¥æ‹’ç»è¯·æ±‚è¦æ›´é«˜çº§ä¸€äº›ï¼Ÿ</p>
<p>å¤§éƒ¨åˆ†å¯ä»¥ä¿®æ”¹å“åº”çš„è„šæœ¬åŸºæœ¬éƒ½æ˜¯è¿™ä¸ªåŸç†ï¼Œæ‰€ä»¥ä½ åªè¦ç¨ç¨æ‡‚ä¸€ç‚¹ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼Œå°±å¯ä»¥æŠ“åŒ…æ¥å®šä¹‰è‡ªå·±çš„å»å¹¿å‘Šè„šæœ¬ã€‚</p>
<h1 id="ç­¾åˆ°è„šæœ¬"><a href="#ç­¾åˆ°è„šæœ¬" class="headerlink" title="ç­¾åˆ°è„šæœ¬"></a>ç­¾åˆ°è„šæœ¬</h1><p>å®šæ—¶ç­¾åˆ°å¯¹ QuantumultX çš„ç‰ˆæœ¬æœ‰ä¸€å®šçš„è¦æ±‚ï¼Œç†è®ºä¸Šè¦å¤§äº v1.0.5ã€‚</p>
<p>å¼€å¯å®šæ—¶æ‰§è¡Œè„šæœ¬ï¼ŒQuantumultX ç§°ä¹‹ä¸ºæ„é€ è¯·æ±‚ï¼š</p>
<p><img src="https://i.loli.net/2020/01/27/mOx4J5oBakqzisY.jpg" alt="æ„é€ è¯·æ±‚"></p>
<p>æ„é€ è¯·æ±‚çš„æ—¶å€™éœ€è¦ç”¨åˆ° cron å®šæ—¶ä»»åŠ¡ç›¸å…³çŸ¥è¯†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">*    *    *    *    *    <br>-    -    -    -    -    <br>|    |    |    |    |    <br>|    |    |    |    +----- æ˜ŸæœŸ (0 - 7)<br>|    |    |    +---------- æœˆä»½ (1 - 12)<br>|    |    +--------------- æ—¥æœŸ (1 - 31)<br>|    +-------------------- å°æ—¶ (0 - 23)<br>+------------------------- åˆ†é’Ÿ (0 - 59)<br></code></pre></td></tr></table></figure>

<p>ç­¾åˆ°ä¸€èˆ¬éƒ½æ˜¯æ¯æ—¥ç­¾åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥åªä¼šç”¨åˆ°å‰ä¸¤ä½ã€‚</p>
<p>è¿™é‡Œä¸¾å‡ ä¸ªå¸¸ç”¨ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">0 0 * * * æ¯æ—¥0ç‚¹æ‰§è¡Œ<br><br>10 0 * * * æ¯æ—¥0ç‚¹10åˆ†æ‰§è¡Œ<br><br>0 9 * * * æ¯æ—¥9ç‚¹æ‰§è¡Œ<br><br>0 21 * * * æ¯æ—¥21ç‚¹æ‰§è¡Œ<br><br>0 9-21/3 * * * æ¯æ—¥9ç‚¹-21ç‚¹ï¼Œæ¯éš”ä¸‰å°æ—¶æ‰§è¡Œï¼ˆä¸€èˆ¬ç”¨äºå¤©æ°”è„šæœ¬å®šæ—¶æ¨é€ï¼‰<br></code></pre></td></tr></table></figure>

<p>å…¶ä»–ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">0 0 * * 6 æ¯å‘¨å…­0ç‚¹æ‰§è¡Œ<br><br>0 0 * * 0 æ¯å‘¨æ—¥0ç‚¹æ‰§è¡Œ<br><br>0 0 15 * * æ¯æœˆ15æ—¥æ‰§è¡Œ<br><br>0 0 15 3 * æ¯å¹´3æœˆ15æ—¥æ‰§è¡Œ<br></code></pre></td></tr></table></figure>

<p>å¦‚æœä½ è¿˜æƒ³è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå·¥å…·æ¥æ£€æŸ¥ cron è¯­æ³•æ˜¯å¦å­˜åœ¨é—®é¢˜ï¼š<a href="https://tool.lu/crontab/">https://tool.lu/crontab/</a></p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>ç§‘å­¦ä¸Šç½‘</tag>
        <tag>è„šæœ¬</tag>
        <tag>QuantumultX</tag>
      </tags>
  </entry>
  <entry>
    <title>Readfree ç­¾åˆ°è„šæœ¬</title>
    <url>/108.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/09/21/16/11/hacking-1685092__480.jpg"> <a href="https://readfree.me/">readfree</a>æ˜¯ä¸€ä¸ªç”µå­ä¹¦åˆ†äº«ç½‘ç«™, ä¸è¿‡ä¸‹è½½ç”µå­ä¹¦éœ€è¦é€šè¿‡ç­¾åˆ°æ¥è·å–é¢åº¦.æ¯å¤©ç­¾åˆ°çš„äº‹æƒ…å¯ä»¥äº¤ç»™å®šæ—¶è„šæœ¬å®Œæˆ.</p>
<a id="more"></a>
<h2 id="è·å–Cookie"><a href="#è·å–Cookie" class="headerlink" title="è·å–Cookie"></a>è·å–Cookie</h2><p>ä½¿ç”¨æŠ“åŒ…å·¥å…·æˆ–è€…Chromeå¼€å‘è€…å·¥å…·, è·å–å½“å‰è´¦å·çš„cookie. cookieæ ¼å¼ç±»ä¼¼:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">Cookie: Hm_lvt_375aa6d601368176e50751c1c6bf0e82&#x3D;1548247586; Hm_lpvt_375aa6d601368176e50751c1c6bf0e82&#x3D;1548247586; csrftoken&#x3D;rqvTsfmbZWXKiSZ75naakfO1uivezyKnRN2dtfUJUcq0enlrLNW0CtleLjxKZwzf; sessionid&#x3D;61iyroy6x37oqwuqs2cr032jr0bupnqj<br></code></pre></td></tr></table></figure>

<h2 id="ç­¾åˆ°è„šæœ¬"><a href="#ç­¾åˆ°è„šæœ¬" class="headerlink" title="ç­¾åˆ°è„šæœ¬"></a>ç­¾åˆ°è„šæœ¬</h2><p>è·å–åˆ°ä½ çš„cookieå, ç›´æ¥å¤åˆ¶è¿™æ®µè„šæœ¬, è¿è¡Œå³å¯ç­¾åˆ°.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">Desc:</span><br><span class="hljs-string"></span><br><span class="hljs-string">    readfreeç­¾åˆ°è„šæœ¬</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">import</span> urllib2<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> random<br><br><br>url = <span class="hljs-string">&quot;http://readfree.me/accounts/checkin&quot;</span><br><br>headers = &#123;<br>    <span class="hljs-string">&quot;Cookie&quot;</span>: <span class="hljs-string">&quot;Hm_lvt_375aa6q601368176e50751c1c6bf0e82=1547034261,1547364073; Hm_lpvt_375aa6d601368176e50751c1c6bf0e82=1542364556; sessionid=ec99pxnfjpf5qx2a7yxunskw3o0l440z; csrftoken=URVYo37WiTOteIzHN1r4SZ47GUFaUAiCphk7VZrBVu3n8OPg2Bi7aONjqTfnAPz8&quot;</span>,<br>    <span class="hljs-string">&quot;User-Agent&quot;</span>: <span class="hljs-string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36&quot;</span><br>&#125;<br><br>sleep_time = random.choice(range(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>))<br>time.sleep(sleep_time)<br>request = urllib2.Request(url, headers=headers)<br>response = urllib2.urlopen(request)<br>response.read()<br></code></pre></td></tr></table></figure>

<p>åŠ äº†éšæœºç¡çœ æ—¶é—´æ˜¯é˜²æ­¢æ¯æ¬¡ç­¾åˆ°éƒ½æ˜¯åœ¨åŒä¸€æ—¶åˆ», å…¶å®å¯åŠ å¯ä¸åŠ . <strong>å°†è¯¥è„šæœ¬ä¿å­˜åœ¨<code>/usr/games/</code>è·¯å¾„ä¸‹ã€‚</strong></p>
<h2 id="å®šæ—¶æ‰§è¡Œ"><a href="#å®šæ—¶æ‰§è¡Œ" class="headerlink" title="å®šæ—¶æ‰§è¡Œ"></a>å®šæ—¶æ‰§è¡Œ</h2><p>å®šæ—¶æ‰§è¡Œéœ€è¦ç”¨åˆ°<code>crontab</code>å‘½ä»¤.</p>
<blockquote>
<p>crontabå‘½ä»¤å¸¸è§äºUnixå’Œç±»Unixçš„æ“ä½œç³»ç»Ÿä¹‹ä¸­ï¼Œç”¨äºè®¾ç½®å‘¨æœŸæ€§è¢«æ‰§è¡Œçš„æŒ‡ä»¤ã€‚(ç»´åŸºç™¾ç§‘)</p>
</blockquote>
<p>ç»ˆç«¯è¾“å…¥: <code>crontab -e</code> ç¬¬ä¸€æ¬¡è¿›å…¥ä¼šæç¤ºä½ ä½¿ç”¨ä»€ä¹ˆç¼–è¾‘å™¨, å¯é€‰æ‹©vimã€‚ åœ¨æœ€åä¸€è¡Œè¾“å…¥: <code>30 06 * * * python /usr/games/readfree.py</code> è¿™æ ·æ¯å¤©æ—©ä¸Šçš„å…­ç‚¹ä¸‰ååˆ†å°±ä¼šæ‰§è¡Œè¯¥å‘½ä»¤ã€‚</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>è„šæœ¬</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¤è¯† Flask</title>
    <url>/189.html</url>
    <content><![CDATA[<p><a href="https://github.com/pallets/flask">Flask</a> æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ WSGI Web åº”ç”¨ç¨‹åºæ¡†æ¶ã€‚å®ƒæ—¨åœ¨ä½¿å¿«é€Ÿå…¥é—¨ Web å¼€å‘å˜å¾—å®¹æ˜“ï¼Œå¹¶å…·æœ‰æ‰©å±•åˆ°å¤æ‚åº”ç”¨ç¨‹åºçš„èƒ½åŠ›ã€‚å®ƒæœ€åˆæ˜¯å›´ç»• Werkzeug å’Œ Jinja çš„ç®€å•åŒ…è£…ï¼Œç°åœ¨å·²æˆä¸ºæœ€å—æ¬¢è¿çš„ Python Web åº”ç”¨ç¨‹åºæ¡†æ¶ä¹‹ä¸€ã€‚</p>
<a id="more"></a>
<h1 id="ä»€ä¹ˆæ˜¯-WSGI"><a href="#ä»€ä¹ˆæ˜¯-WSGI" class="headerlink" title="ä»€ä¹ˆæ˜¯ WSGI"></a>ä»€ä¹ˆæ˜¯ WSGI</h1><p>WSGI çš„å…¨åæ˜¯ Web Server Gateway Interfaceï¼ŒWeb æœåŠ¡å™¨ç½‘ç»œæ¥å£ï¼Œæ˜¯ä¸º Python è¯­è¨€å®šä¹‰çš„ Web æœåŠ¡å™¨å’Œ Web åº”ç”¨ç¨‹åºæˆ–æ¡†æ¶ä¹‹é—´çš„ä¸€ç§ç®€å•è€Œé€šç”¨çš„æ¥å£ã€‚é‡ç‚¹åœ¨<strong>é€šç”¨</strong>ã€‚ç®€å•ç†è§£å°±æ˜¯ Python çš„ Web æ¡†æ¶æœ‰å¾ˆå¤šï¼Œéœ€è¦æ­å»ºä¸€ä¸ªé€šç”¨ç½‘å…³ï¼Œè¿™æ ·ä¸è®ºä»€ä¹ˆæ¡†æ¶å†™çš„ Web ç¨‹åºéƒ½èƒ½ç»Ÿä¸€è¿è¡Œã€‚æ¯•ç«Ÿç»Ÿä¸€å’Œè§„èŒƒæ‰èƒ½è¿›æ­¥ã€‚</p>
<p>å…¶å®è¿™ä¸ªç®€å•äº†è§£ä¸€ä¸‹å°±è¡Œï¼Œå› ä¸ºåœ¨å®é™…å¼€å‘ä¸­ä¸ä¼šæ„Ÿå—åˆ°å®ƒçš„å­˜åœ¨ï¼Œæƒ³æ·±å…¥çš„åŒå­¦å¯ä»¥å¤šäº†è§£ã€‚</p>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>Flask ä¸»è¦ç”±ä¸¤å¤§éƒ¨åˆ†ç»„æˆï¼š<a href="https://github.com/pallets/werkzeug">Werkzeug</a> å’Œ <a href="https://github.com/pallets/jinja">Jinja</a>ã€‚å‰è€…ç”¨æ¥ç®¡ç† Flask çš„è·¯ç”±ï¼Œè°ƒè¯•ï¼ŒWSGIï¼Œåè€…å°±æ˜¯ Flask çš„æ¨¡æ¿ç³»ç»Ÿã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ pipenv åˆ›å»ºæ–°çš„è™šæ‹Ÿç¯å¢ƒï¼Œå› ä¸ºæˆ‘çš„ç”µè„‘é‡Œ Python3 çš„ç‰ˆæœ¬é»˜è®¤ä¸º Python 3.8ï¼Œæ‰€ä»¥åœ¨åˆ›å»º Python3 ç¯å¢ƒçš„æ—¶å€™ä¹Ÿä¼šé»˜è®¤é€‰æ‹© Python 3.8 æ¥æ­å»ºè™šæ‹Ÿç¯å¢ƒã€‚ä¸è¿‡åªè¦æ˜¯ Python 3.6 ä»¥ä¸Šç‰ˆæœ¬å°±åŸºæœ¬å·®ä¸å¤šã€‚</p>
<p>å¦‚æœæ²¡æœ‰ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒä¹Ÿä¸å½±å“ï¼Œå®‰è£…å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">python3 -m pip install -U flask<br></code></pre></td></tr></table></figure>

<p>è¿™æ¡å‘½ä»¤ä¿è¯ä½¿ç”¨ Python3 çš„ pip åŒ…æ¥å®‰è£… Flaskï¼Œå¹¶ä¸”å¦‚æœä½ ä¹‹å‰å·²ç»å®‰è£…äº† Flaskï¼Œé‚£ä¹ˆè¿™æ¬¡å®‰è£…å°±ä¼šæ›´æ–°ã€‚</p>
<p>å¦‚æœæ˜¯è™šæ‹Ÿç¯å¢ƒï¼Œå®‰è£…å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">pipenv install flask<br></code></pre></td></tr></table></figure>

<h1 id="ç¬¬ä¸€ä¸ª-Flask-åº”ç”¨"><a href="#ç¬¬ä¸€ä¸ª-Flask-åº”ç”¨" class="headerlink" title="ç¬¬ä¸€ä¸ª Flask åº”ç”¨"></a>ç¬¬ä¸€ä¸ª Flask åº”ç”¨</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><br>app = Flask(__name__)<br><br><span class="hljs-meta">@app.route(&#x27;/&#x27;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hello_world</span>():</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Hello, World!&#x27;</span><br></code></pre></td></tr></table></figure>

<h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><p>ä½¿ç”¨ç»ˆç«¯ï¼Œåœ¨å½“å‰ç›®å½•æ‰§è¡Œ <code>flask run</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">(FlaskGuide) âœ  FlaskGuide flask run<br> * Environment: production<br>   WARNING: This is a development server. Do not use it <span class="hljs-keyword">in</span> a production deployment.<br>   Use a production WSGI server instead.<br> * Debug mode: off<br> * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)<br><br>127.0.0.1 - - [13/Feb/2020 02:21:09] <span class="hljs-string">&quot;GET / HTTP/1.1&quot;</span> 200 -<br></code></pre></td></tr></table></figure>

<p>åœ¨æœ¬åœ°æ‰“å¼€ <code>http://127.0.0.1:5000/</code>ï¼Œä½¿ç”¨äº”è¡Œä»£ç å®Œæˆäº†ç¬¬ä¸€ä¸ª Web åº”ç”¨ã€‚å‡ ä¹æ‰€æœ‰çš„ Flask åº”ç”¨ä¸­ï¼Œ<code>app</code> æ€»æ˜¯ç­‰äº <code>Flask(__name__)</code>ã€‚è¿™æ˜¯å› ä¸º Flask ç±»çš„æ„é€ å‡½æ•°æœ‰ä¸€ä¸ªå¿…é¡»æŒ‡å®šçš„å‚æ•°ï¼Œå°±æ˜¯ç¨‹åºä¸»æ¨¡å—æˆ–è€…åŒ…çš„åå­—ï¼Œä¸€èˆ¬ç¨‹åºä¸­ï¼Œç¨‹åºçš„ä¸»æ¨¡å—æˆ–è€…åŒ…çš„åå­—å°±æ˜¯æœ¬èº«ç¨‹åºçš„åç§°ï¼Œä¹Ÿå°±æ˜¯ <code>__name__</code>ã€‚</p>
<p>å¯èƒ½åœ¨ä¹‹å‰çš„ä¸€äº›æ•™ç¨‹ä¸­ï¼Œå¤§éƒ¨åˆ†éƒ½ä¼šæœ‰å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    app.run()<br></code></pre></td></tr></table></figure>

<p>å…¶å®ç°åœ¨çš„ç‰ˆæœ¬ä¹Ÿå¯ä»¥è¿™æ ·æ‰§è¡Œï¼Œä½†æ˜¯ä¸è¢«å»ºè®®ã€‚è€Œä¸”æœ€å¥½æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œå¦‚æœ Flask åº”ç”¨é»˜è®¤æ˜¯ <code>app.py</code>ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œ <code>flask run</code>ï¼Œå¦‚æœæ˜¯å…¶ä»–åç§°ï¼Œå°±ä¸€å®šéœ€è¦æ˜ç¡®ã€‚ä¾‹å¦‚æ–°å»ºäº†ä¸€ä¸ªåä¸º <code>hello.py</code> çš„åº”ç”¨ï¼Œé‚£ä¹ˆå°±è¦åœ¨ç¯å¢ƒå˜é‡ä¸­æŒ‡æ˜ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> flask_APP=hello.py<br></code></pre></td></tr></table></figure>

<p>æŒ‡æ˜ä¹‹åå°±å¯ä»¥ä½¿ç”¨ <code>flask run</code> å‘½ä»¤å¼€å¯æœåŠ¡äº†ã€‚</p>
<h2 id="è°ƒè¯•æ¨¡å¼"><a href="#è°ƒè¯•æ¨¡å¼" class="headerlink" title="è°ƒè¯•æ¨¡å¼"></a>è°ƒè¯•æ¨¡å¼</h2><p>ä¹‹å‰è°ƒè¯•èµ·æ¥ç›¸æ¯”ä¹‹ä¸‹æ¯”è¾ƒæ–¹ä¾¿ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure>

<p>ç°åœ¨åŒæ ·éœ€è¦åœ¨ç¯å¢ƒå˜é‡é‡Œæ˜ç¡®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> FLASK_ENV=development<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·åœ¨å¯åŠ¨å°±æ˜¯è°ƒè¯•æ¨¡å¼ï¼Œåœ¨æ”¹åŠ¨ä»£ç ä¹‹åä¼šè‡ªåŠ¨é‡å¯æœåŠ¡ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">(FlaskGuide) âœ  FlaskGuide flask run<br> * Environment: development<br> * Debug mode: on<br> * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)<br> * Restarting with <span class="hljs-built_in">stat</span><br> * Debugger is active!<br> * Debugger PIN: 169-605-104<br></code></pre></td></tr></table></figure>

<h2 id="å±€åŸŸç½‘è®¿é—®"><a href="#å±€åŸŸç½‘è®¿é—®" class="headerlink" title="å±€åŸŸç½‘è®¿é—®"></a>å±€åŸŸç½‘è®¿é—®</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">flask run --host=0.0.0.0<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·è¿è¡Œä¼šç›‘å¬æ‰€æœ‰å…¬å…± IPï¼Œåªè¦åœ¨å…¶ä»–è®¾å¤‡è¾“å…¥æœ¬åœ°å±€åŸŸç½‘ IP å°±å¯ä»¥è®¿é—®äº†ã€‚</p>
<h2 id="ä½¿ç”¨-flask-script"><a href="#ä½¿ç”¨-flask-script" class="headerlink" title="ä½¿ç”¨ flask-script"></a>ä½¿ç”¨ flask-script</h2><p>å½“ç„¶äº†ï¼Œå¦‚æœä½ è¿˜æ˜¯ä¹ æƒ¯ä½¿ç”¨ <code>app.run()</code>ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ <code>flask-script</code> åº“ã€‚</p>
<p><code>flask-script</code> æ˜¯ Flask çš„æ‹“å±•ï¼Œä¸º Flask Web ç¨‹åºæ·»åŠ äº†å‘½ä»¤è¡Œè§£é‡Šå™¨ï¼Œè¿˜èƒ½è‡ªå®šä¹‰å‘½ä»¤ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><span class="hljs-keyword">from</span> flask_script <span class="hljs-keyword">import</span> Manager<br><br>app = Flask(__name__)<br>manager = Manager(app)<br><br><span class="hljs-meta">@app.route(&quot;/&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello, world.&quot;</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    manager.run()<br></code></pre></td></tr></table></figure>

<p>åœ¨ç»ˆç«¯ç›´æ¥è¿è¡Œ <code>python3 app.py</code>ï¼Œä¼šæç¤ºä½ å°‘å‚æ•°ï¼Œä¹Ÿä¼šæç¤ºä¸€äº›å¸¸ç”¨å‚æ•°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">(FlaskGuide) âœ  FlaskGuide python app.py          <br>usage: app.py [-?] &#123;shell,runserver&#125; ...<br><br>positional arguments:<br>  &#123;shell,runserver&#125;<br>    shell            Runs a Python shell inside Flask application context.<br>    runserver        Runs the Flask development server i.e. app.run()<br><br>optional arguments:<br>  -?, --<span class="hljs-built_in">help</span>         show this <span class="hljs-built_in">help</span> message and <span class="hljs-built_in">exit</span><br><br></code></pre></td></tr></table></figure>

<p>å¦‚æœæƒ³è¿è¡Œç¨‹åºï¼Œæ‰§è¡Œ <code>python app.py runserver</code> å‘½ä»¤ã€‚</p>
<h3 id="è‡ªå®šä¹‰å‘½ä»¤"><a href="#è‡ªå®šä¹‰å‘½ä»¤" class="headerlink" title="è‡ªå®šä¹‰å‘½ä»¤"></a>è‡ªå®šä¹‰å‘½ä»¤</h3><p>é€šè¿‡è‡ªå®šä¹‰å‘½ä»¤ä¼šå¸®åŠ©æˆ‘ä»¬è§£å†³è®¸å¤šé‡å¤å·¥ä½œã€‚å…ˆç®€å•ä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><span class="hljs-keyword">from</span> flask_script <span class="hljs-keyword">import</span> Manager, Command<br><br>app = Flask(__name__)<br>manager = Manager(app)<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hello</span>(<span class="hljs-params">Command</span>):</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span>(<span class="hljs-params">self</span>):</span><br>        print(<span class="hljs-string">&quot;è‡ªå®šä¹‰å‘½ä»¤æµ‹è¯•&quot;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    manager.add_command(<span class="hljs-string">&#x27;hello&#x27;</span>, Hello())<br>    manager.run()<br></code></pre></td></tr></table></figure>

<p>ç»ˆç«¯è¿è¡Œ <code>python3 app.py hello</code> å°±ä¼šæ‰§è¡Œè‡ªå®šä¹‰å‘½ä»¤çš„ <code>run()</code> æ–¹æ³•äº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">(FlaskGuide) âœ  FlaskGuide python app.py hello<br>è‡ªå®šä¹‰å‘½ä»¤æµ‹è¯•<br></code></pre></td></tr></table></figure>

<p>å…¶ä»–ä½¿ç”¨æ–¹æ³•è¿˜éœ€æŸ¥çœ‹<a href="https://flask-script.readthedocs.io/en/latest/">å®˜æ–¹æ–‡æ¡£</a>ï¼Œéå¸¸è¯¦ç»†ã€‚</p>
<h1 id="åŒ…å«åŠ¨æ€è·¯ç”±çš„-Web-åº”ç”¨"><a href="#åŒ…å«åŠ¨æ€è·¯ç”±çš„-Web-åº”ç”¨" class="headerlink" title="åŒ…å«åŠ¨æ€è·¯ç”±çš„ Web åº”ç”¨"></a>åŒ…å«åŠ¨æ€è·¯ç”±çš„ Web åº”ç”¨</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@app.route(&#x27;/user&#x27;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hello_stranger</span>():</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Hello, Stranger!&#x27;</span><br><br><span class="hljs-meta">@app.route(&#x27;/user/&lt;username&gt;&#x27;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hello_user</span>(<span class="hljs-params">username</span>):</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;Hello, <span class="hljs-subst">&#123;username&#125;</span>!&#x27;</span><br></code></pre></td></tr></table></figure>

<p><code>username</code> å°±æ˜¯é€šè¿‡ URL åŠ¨æ€è·å–çš„ã€‚</p>
<p>åŠ¨æ€è·¯ç”±æ”¯æŒ intã€floatã€stringã€ path å’Œ uuid äº”ç§ç±»å‹ã€‚å‰ä¸¤ç§ä¸ºæ•°å­—ï¼Œåä¸‰ç§ä¸ºå­—ç¬¦ä¸²ï¼Œpath æ˜¯å¯ä»¥åŒ…å«æ–œæ çš„å­—ç¬¦ä¸²ã€‚</p>
<p>è½¬æ¢å™¨ç±»å‹</p>
<p>è¯´æ˜</p>
<p>string</p>
<p>ï¼ˆé»˜è®¤ï¼‰æ¥å—ä¸å¸¦æ–œæ çš„ä»»ä½•æ–‡æœ¬</p>
<p>int</p>
<p>æ¥å—æ­£æ•´æ•°</p>
<p>float</p>
<p>æ¥å—æ­£æµ®ç‚¹å€¼</p>
<p>path</p>
<p>å–œæ¬¢ string ä½†ä¹Ÿæ¥å—æ–œçº¿</p>
<p>uuid</p>
<p>æ¥å— UUID å­—ç¬¦ä¸²</p>
<p>å› ä¸ºåŠ¨æ€è·¯ç”±æ”¯æŒä¸åŒç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¼ å…¥ä¸åŒçš„å€¼æ¥æ‰§è¡Œä¸åŒè·¯ç”±çš„ä»»åŠ¡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@app.route(&quot;/&lt;int:parameter&gt;&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parameter_int</span>(<span class="hljs-params">parameter</span>):</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ä¼ å…¥å‚æ•°ç±»å‹ Int&quot;</span><br><br><span class="hljs-meta">@app.route(&quot;/&lt;float:parameter&gt;&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parameter_float</span>(<span class="hljs-params">parameter</span>):</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ä¼ å…¥å‚æ•°ç±»å‹ Float&quot;</span><br><br><span class="hljs-meta">@app.route(&quot;/&lt;parameter&gt;&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parameter_string</span>(<span class="hljs-params">parameter</span>):</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ä¼ å…¥å‚æ•°ç±»å‹ String&quot;</span><br></code></pre></td></tr></table></figure>

<h1 id="ä½¿ç”¨-url-for-åå‘æ„å»º-URL"><a href="#ä½¿ç”¨-url-for-åå‘æ„å»º-URL" class="headerlink" title="ä½¿ç”¨ url_for() åå‘æ„å»º URL"></a>ä½¿ç”¨ <code>url_for()</code> åå‘æ„å»º URL</h1><p>æŠŠ url ç¡¬ç¼–ç åˆ°æ¨¡æ¿ä¸­è¿™ç§äº‹æƒ…è¿˜æ˜¯ä¸è¦åšå¾—å¥½ï¼ŒFlask å·²ç»æä¾›äº†æ˜ å°„æ–¹æ³•ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, url_for<br><span class="hljs-keyword">from</span> markupsafe <span class="hljs-keyword">import</span> escape<br><br>app = Flask(__name__)<br><br><span class="hljs-meta">@app.route(&#x27;/&#x27;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span>():</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;index&#x27;</span><br><br><span class="hljs-keyword">with</span> app.test_request_context():<br>    print(url_for(<span class="hljs-string">&#x27;index&#x27;</span>))<br></code></pre></td></tr></table></figure>

<p>å¯èƒ½ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ç§å†™æ³•æœ‰ç‚¹è’™åœˆï¼Œå…¶å®å°±æ˜¯ä½¿ç”¨å‡½æ•°åè·å–è·¯å¾„åã€‚</p>
<p>é€šè¿‡ <code>index</code> æ‰¾åˆ°å¯¹åº”èŠ‚ç‚¹ <code>/</code>ã€‚</p>
<p>ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ–¹æ³•å¯¼å…¥é™æ€æ–‡ä»¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">url_for(<span class="hljs-string">&#x27;static&#x27;</span>, filename=<span class="hljs-string">&#x27;style.css&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>å¯¹åº”é™æ€æ–‡ä»¶è·¯å¾„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">static/style.css<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flask æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Flask</tag>
        <tag>flask-script</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ç§‘å­¦ç®¡ç†ä½ çš„å¯†ç </title>
    <url>/325.html</url>
    <content><![CDATA[<p>å¯¹äºå¯†ç ç®¡ç†è¿™ä¸ªè¯é¢˜ï¼Œä¸åŒçš„äººæœ‰ä¸åŒçš„çœ‹æ³•ã€‚ä¸€éƒ¨åˆ†äººå¯èƒ½è®¤ä¸ºå¯†ç ç®¡ç†å¹¶æ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼Œä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œå‡ ä¹æ‰€æœ‰çš„è´¦æˆ·éƒ½æ˜¯ä¸€ä¸ªç›¸åŒçš„å¯†ç ï¼›å¦ä¸€éƒ¨åˆ†äººåˆ™ä¼šå¾ˆé‡è§†å¯†ç ç®¡ç†ï¼Œå¹¶ä¸”ä¼šå…»æˆè‰¯å¥½ä¹ æƒ¯ï¼Œé•¿æœŸåšæŒã€‚æˆ‘è®¤ä¸ºå¯†ç å°±ç›¸å½“äºä¸€é“ä¿é™©ï¼Œåœ¨å®ƒæ²¡èµ·ä½œç”¨çš„æ—¶å€™ï¼Œä½ ä¼šè§‰å¾—å®ƒå¯æœ‰å¯æ— ï¼Œæˆ–è€…ä¸å€¼å¾—èŠ±æ—¶é—´ç ”ç©¶ã€‚å¯ä¸€æ—¦å‡ºç°é—®é¢˜ï¼Œè¿æ¥çš„å´æ˜¯æ‰¾å›å¯†ç ï¼Œç­‰å¾…ç”³è¯‰ç»“æœï¼Œå¯èƒ½æ‰€æœ‰ç›¸åŒå¯†ç çš„è´¦æˆ·éƒ½è¢«ç‰µè¿ç­‰ç­‰é—®é¢˜ã€‚å¦‚æœä½ ä¹‹å‰ä»æœªè€ƒè™‘è¿‡å¯†ç ç®¡ç†é—®é¢˜ï¼Œå¯èƒ½è¿™ç¯‡æ–‡ç« ä¼šå¸®åŠ©åˆ°ä½ ã€‚</p>
<a id="more"></a>
<h1 id="å¼±å¯†ç çš„å±å®³"><a href="#å¼±å¯†ç çš„å±å®³" class="headerlink" title="å¼±å¯†ç çš„å±å®³"></a>å¼±å¯†ç çš„å±å®³</h1><p>ä¸è®ºæˆ‘ä»¬æ˜¯å¦ç®¡ç†å¯†ç ï¼Œä¸€å®šéƒ½æ¸…æ¥šå¼±å¯†ç çš„å±å®³ï¼Œ<strong>å®¹æ˜“è¢«ç›—å·</strong>ã€‚</p>
<p><a href="https://nordpass.com/blog/top-worst-passwords-2019/">2019 å¹´æœ€å·®å¯†ç æ’è¡Œæ¦œ</a>å…¬å¸ƒï¼Œ<strong>12345</strong> ååˆ—æ¦œé¦–ã€‚æ¦œå•ç”±å®‰å…¨å…¬å¸ NordPass å‘å¸ƒã€‚é€šè¿‡æ”¶é›† 2019 å¹´æ•°æ®æ³„éœ²ä¸­æš´éœ²çš„å¯†ç ï¼ˆæ”¶é›†äº†è¿‘ 5 äº¿ä¸ªå¯†ç ï¼‰ï¼Œåˆ—å‡ºäº† 200 ç§æœ€æµè¡Œçš„å¯†ç åˆ—è¡¨ã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/ygkmEe87HRPD4hz.png" alt="å—æ¬¢è¿å¯†ç "></p>
<p>å¦‚æœè¿™ä»½æ¦œå•å¯¹ä½ æ¥è¯´æ²¡æœ‰ç›´è§‚çš„æ„Ÿå—ï¼Œå¯ä»¥è¯•è¯•<a href="https://password.kaspersky.com/cn/">å¡å·´æ–¯åŸºå¯†ç æ£€æµ‹å·¥å…·</a>ï¼Œæ˜ç¡®æŒ‡å‡ºä½ çš„å¯†ç å¯ä»¥åœ¨å¤šä¹…ä¹‹å†…è¢«æ”»ç ´ã€‚</p>
<p>ä¾‹å¦‚æˆ‘è¿‡å»æœ€å¸¸ç”¨çš„å¯†ç ï¼Œå‡ ä¹æ‰€æœ‰è´¦å·éƒ½æ˜¯è¿™ä¸ªå¯†ç ï¼š</p>
<p><img src="https://i.loli.net/2020/03/17/BpeKPS8xzNOVlhL.png" alt="æ—§å¯†ç "></p>
<p>æ™®é€šçš„å®¶åº­ç”µè„‘ä¸¤å¤©å·¦å³å°±å¯ç ´è§£ã€‚</p>
<p>ç°åœ¨ä½¿ç”¨çš„å¯†ç ï¼Œè€Œä¸”æ¯ä¸ªè´¦å·çš„å¯†ç éƒ½ä¸ç›¸åŒï¼š</p>
<p><img src="https://i.loli.net/2020/03/17/7DMobx8RZQI91Ty.png" alt="æ–°å¯†ç "></p>
<p>è¿™æ ·çš„æ„Ÿå—æ˜¯ä¸æ˜¯æ›´ç›´è§‚ä¸€äº›ã€‚</p>
<h1 id="å¼€å§‹ç®¡ç†ä½ çš„å¯†ç "><a href="#å¼€å§‹ç®¡ç†ä½ çš„å¯†ç " class="headerlink" title="å¼€å§‹ç®¡ç†ä½ çš„å¯†ç "></a>å¼€å§‹ç®¡ç†ä½ çš„å¯†ç </h1><p>æœ¬æ–‡æä¾›ä¸¤ç§æ–¹å¼ç®¡ç†å¯†ç ã€‚ä¸€ç§æ˜¯é å¤§è„‘è®°å¿†ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡ä½¿ç”¨è½¯ä»¶ååŠ©ç®¡ç†ã€‚</p>
<p>é€šè¿‡å¤§è„‘è®°å¿†æ˜¯ä¾é è§„å¾‹æ¥è®°å¿†å¯†ç ã€‚</p>
<p>é€šè¿‡è½¯ä»¶ç®¡ç†å¯†ç åŸºæœ¬éƒ½æ˜¯ä¸€ä¸ªæ€è·¯ï¼šåªéœ€è¦è®°å¿†ä¸€ä¸ªä¸»å¯†ç ï¼Œæ‰“å¼€å¯†ç ç®¡ç†è½¯ä»¶ï¼Œä¹‹åçš„ç”Ÿæˆå¯†ç å’Œè¾“å…¥éƒ½å€ŸåŠ©è½¯ä»¶å®Œæˆã€‚</p>
<h2 id="å¤§è„‘è®°å¿†"><a href="#å¤§è„‘è®°å¿†" class="headerlink" title="å¤§è„‘è®°å¿†"></a>å¤§è„‘è®°å¿†</h2><p>äººæ°‘æ—¥æŠ¥æ›¾åœ¨å¾®åšä¸Šæä¾›è¿‡è®°å¿†å¯†ç çš„æ–¹æ³•ã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/jyuKA59HWakLUzD.png" alt="äººæ°‘æ—¥æŠ¥"></p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œç°åœ¨æˆ‘éœ€è¦ç»™æˆ‘çš„å¾®ä¿¡ç”Ÿæˆå¯†ç ï¼Œå…¬å¼å¯ä»¥æ˜¯è¿™æ ·çš„ï¼ˆå¯ä»¥æ ¹æ®ä½ çš„éœ€æ±‚è°ƒæ¢ä½ç½®ï¼‰ï¼š</p>
<p><strong>å¹³å°+ç”Ÿæ—¥+å§“å+ç‰¹æ®Šå­—ç¬¦</strong></p>
<p>é‚£ä¹ˆç”Ÿæˆå¯†ç å°†æ˜¯ï¼š<strong>weiXIN0807ljx!@#</strong></p>
<p><img src="https://i.loli.net/2020/03/17/FfndVaYMzmhUAxS.png" alt="å¾®ä¿¡å¯†ç "></p>
<p>è¿™å¥—å¯†ç è®°å¿†æ–¹æ³•å¯ä»¥ä¿è¯ä¸åŒçš„å¹³å°å¯†ç ä¸åŒï¼ŒåŒæ—¶è¿˜èƒ½åŠ é•¿å¯†ç é•¿åº¦ã€‚ä½†æ˜¯è¿™ç§ç®¡ç†å¯†ç æ–¹æ³•å¹¶ä¸èƒ½ä¿è¯åœ¨ç™»å½•æ—¶è‡ªåŠ¨è¾“å…¥ã€‚</p>
<p>å¦‚æœä½ åƒæˆ‘ä¸€æ ·ï¼Œä¸æ„¿è®°å¿†å¯†ç ï¼Œä¸æ„¿è¾“å…¥å¯†ç ï¼Œå¯ä»¥å°è¯•å¯†ç ç®¡ç†è½¯ä»¶ã€‚</p>
<h2 id="é€‰æ‹©å¯†ç ç®¡ç†å™¨"><a href="#é€‰æ‹©å¯†ç ç®¡ç†å™¨" class="headerlink" title="é€‰æ‹©å¯†ç ç®¡ç†å™¨"></a>é€‰æ‹©å¯†ç ç®¡ç†å™¨</h2><p>å…ˆè¯´è¯´æˆ‘ä¸ªäººåœ¨é€‰æ‹©å¯†ç ç®¡ç†è½¯ä»¶æ—¶çš„è¦æ±‚å§ã€‚</p>
<h3 id="å®‰å…¨"><a href="#å®‰å…¨" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h3><p>é¦–å…ˆæˆ‘ä¼šè€ƒè™‘åˆ°çš„æ˜¯å®‰å…¨é—®é¢˜ã€‚è¿™ä¸ªæ˜¯æœ€é‡è¦ä¹Ÿæ˜¯æœ€åŸºæœ¬çš„è¦æ±‚ã€‚ä½œä¸ºä¸€æ¬¾å¯†ç ç®¡ç†è½¯ä»¶ï¼Œå¦‚æœå®‰å…¨éƒ½è°ˆä¸ä¸Šï¼Œé‚£å°±æ²¡æœ‰å­˜åœ¨çš„å¿…è¦äº†ã€‚å¥½åœ¨åªè¦æ˜¯æˆ‘ä»¬å¬è¯´è¿‡çš„è½¯ä»¶ï¼ŒåŸºæœ¬éƒ½æ¯”è¾ƒå¯é ã€‚æ‰€ä»¥åœ¨æŒ‘é€‰è½¯ä»¶çš„æ—¶å€™é€‰æ‹©çŸ¥ååº¦è¾ƒé«˜çš„å°±å¯ä»¥ã€‚</p>
<h3 id="è·¨å¹³å°"><a href="#è·¨å¹³å°" class="headerlink" title="è·¨å¹³å°"></a>è·¨å¹³å°</h3><p>è¿™ä¸ªéœ€æ±‚åŒæ ·å¾ˆé‡è¦ã€‚æ¯•ç«Ÿç°åœ¨çš„è®¾å¤‡è¶Šæ¥è¶Šå¤šï¼Œå¦‚æœè¯´åªèƒ½åœ¨æ‰‹æœºæˆ–è€…åœ¨ç”µè„‘ä¸Šä½¿ç”¨ï¼Œé‚£æ‰‹åŠ¨è¾“å…¥å¯†ç å¸¦æ¥çš„ç—›è‹¦ä¼šè®©ä½ æ”¾å¼ƒå¯†ç ç®¡ç†ã€‚</p>
<p>æˆ‘æœ€å¸¸ç”¨çš„è®¾å¤‡æœ‰ iPhoneï¼ŒMac å’Œ Chrome æµè§ˆå™¨ã€‚æ‰€ä»¥åªè¦å¯†ç ç®¡ç†è½¯ä»¶åŒæ—¶æ»¡è¶³è¿™ä¸‰ä¸ªå¹³å°ï¼Œä¸”æ–¹ä¾¿åŒæ­¥ï¼Œæˆ‘å°±ä¼šå°è¯•ã€‚</p>
<h3 id="ä»·æ ¼"><a href="#ä»·æ ¼" class="headerlink" title="ä»·æ ¼"></a>ä»·æ ¼</h3><p>ä»·æ ¼ä¹Ÿæ˜¯é‡è¦çš„æŒ‡æ ‡ã€‚ä»æˆ‘å¼€å§‹ç®¡ç†å¯†ç ï¼Œä¸€å…±å°è¯•è¿‡ä¸‰ç§å¯†ç ç®¡ç†è½¯ä»¶ï¼Œåˆ†åˆ«æ˜¯ 1 Passwordï¼Œenpass å’Œ KeePassã€‚</p>
<p><a href="https://1password.com/zh-cn/">1 Password</a> æ˜¯è€ç‰Œå¯†ç ç®¡ç†åº”ç”¨äº†ï¼Œä¹Ÿæ˜¯æˆ‘æ¥è§¦æœ€æ—©çš„å¯†ç ç®¡ç†è½¯ä»¶ã€‚æˆ‘è®°å¾—å½“æ—¶è¿˜æ˜¯ 68 å…ƒä¹°æ–­ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¸€å¹´ä¹‹åï¼Œ1 Password å°±æ”¹ä¸ºè®¢é˜…åˆ¶ï¼Œé«˜é¢çš„è´¹ç”¨è®©æˆ‘æ”¾å¼ƒä½¿ç”¨ï¼ˆå› ä¸ºæˆ‘è§‰å¾—æˆ‘çš„å¯†ç ä¸å€¼å¾—èŠ±é‚£ä¹ˆå¤šé’±æ¥ç®¡ç†ï¼‰ã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/MJUHEaYFsSIBpuX.png" alt="1passwordä»·æ ¼"></p>
<p>ä¸è¿‡æœ€è¿‘ 1 Password çš„æ´»åŠ¨è¶Šæ¥è¶Šå¤šï¼ŒåŸºæœ¬ä¸ŠåŠ¨åŠ¨æ‰‹æŒ‡å°±èƒ½å…è´¹è·å¾—ä¸€å¹´çš„ä½¿ç”¨æƒã€‚å¦‚æœæƒ³å°è¯•ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="https://lijianxun.top/48.html">ä½¿ç”¨ 1Password ç®¡ç†ä½ çš„å¯†ç </a>ã€‚</p>
<p><a href="https://www.enpass.io/">enpass</a> æ‰¬è¨€è‡ªå·±åšæŒä¹°æ–­åˆ¶ï¼Œä¸ä¼šè·Ÿé£æ”¹ä¸ºè®¢é˜…åˆ¶ã€‚å¯æ²¡è¿‡å¤šä¹…ï¼Œå¤§æ¦‚æ˜¯ 2019 å¹´åº•æ”¹æˆäº†è®¢é˜…åˆ¶ã€‚å…¶å®ä¸è®ºæ˜¯å¯¹ enpass è‡ªå·±è¿˜æ˜¯å¯¹ç”¨æˆ·ï¼Œè¿™æ ·éƒ½æ˜¯ä¸€ç§è´Ÿè´£çš„åšæ³•ï¼Œæ¯•ç«Ÿå…¬å¸è¦æ°é¥­ã€‚æˆ‘ä»¬ä½œä¸ºç”¨æˆ·ä¹Ÿä¸å¸Œæœ›è‡ªå·±çš„å¯†ç éšå…¬å¸ä¸€èµ·è¿œå»ã€‚enpass ä»·æ ¼è¿˜æ˜¯å¾ˆäº²æ°‘çš„ï¼ˆæ¯•ç«Ÿä¸éœ€è¦ç»´æŠ¤æœåŠ¡å™¨ï¼‰ã€‚å¦‚æœä½ æ˜¯ enpass çš„è€ç”¨æˆ·ï¼Œä¹‹å‰ä»˜è´¹ä¼šè‡ªåŠ¨è½¬ä¸ºé«˜çº§ç”¨æˆ·ï¼Œå³ä½¿æ”¹ä¸ºè®¢é˜…åˆ¶ï¼Œä¹Ÿç›¸å½“äºå·²ç»è´­ä¹°äº†ç»ˆèº«ç‰ˆã€‚å¯ä»¥è¯´ä»ä¹°æ–­åˆ¶è½¬ä¸ºè®¢é˜…åˆ¶ï¼Œè¿™æ ·çš„åšæ³•å·²ç»éå¸¸è‰¯å¿ƒäº†ï¼Œæ²¡æœ‰å“ªå®¶å…¬å¸æ•¢è¿™æ ·æ‰¿è¯ºç”¨æˆ·ã€‚ ä¸€åº¦è®©æˆ‘è€ƒè™‘å½“ 1 Password è¿‡æœŸåæ›´æ¢æˆ enpassã€‚å³ä½¿ç°åœ¨ï¼Œ<strong>å¦‚æœæœ‰äººè®©æˆ‘æ¨èä¸€æ¬¾å¯†ç ç®¡ç†è½¯ä»¶ï¼Œæˆ‘ä¹Ÿä¼šæ¯«ä¸çŠ¹è±«çš„å…ˆå»ºè®®ä½¿ç”¨ enpass</strong>ã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/bJYZFrVc9ohKMiA.png" alt="enpassä»·æ ¼"></p>
<p><a href="https://keepass.info/">KeePass</a> æ˜¯æˆ‘ç°åœ¨ä½¿ç”¨çš„å¯†ç ç®¡ç†åº”ç”¨ï¼Œ<strong>é‡ç‚¹æ˜¯å¼€æºä¸”å…è´¹</strong>ã€‚ä¸è¿‡ä»ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ï¼Œæˆ‘ç°åœ¨ä½¿ç”¨çš„å¯†ç ç®¡ç†è½¯ä»¶å…¨éƒ¨åŸºäº KeePassã€‚å› ä¸º KeePass åªæœ‰ Windows å®¢æˆ·ç«¯ã€‚ä½†æ­£æ˜¯å› ä¸ºå¼€æºï¼Œæ‰€ä»¥å‡ºç°äº†å¾ˆå¤šä¼˜ç§€çš„ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼Œæ»¡è¶³å„ä¸ªå¹³å°çš„ä½¿ç”¨ã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/H9fruU5ySIxbcqk.png" alt="keepassè½¯ä»¶åˆ—è¡¨"></p>
<h3 id="å¤–è§‚"><a href="#å¤–è§‚" class="headerlink" title="å¤–è§‚"></a>å¤–è§‚</h3><p>é¢œå€¼çš„è¯ 1 Password æ²¡å¾—è¯´ã€‚ä¸è®ºæ˜¯ç§»åŠ¨ç«¯è¿˜æ˜¯æ¡Œé¢ç«¯ï¼Œéƒ½éå¸¸å¤§æ–¹ç¾è§‚ã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/ML2pTkDNhOaqIUy.png" alt="1p"></p>
<p>enpass ä¹Ÿä¸é”™ã€‚ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ä»¥è“è‰²ä¸ºä¸»è‰²è°ƒã€‚ä¸ªäººè¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢çš„ã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/19xlkDKpPLbqNWd.png" alt="enp"></p>
<p>KeePass ç³»åˆ—çš„å¯†ç ç®¡ç†è½¯ä»¶ï¼Œé¢œå€¼æ˜¯ç¡¬ä¼¤ã€‚å¯ä»¥è¯´æ¯”è¾ƒå¤ä»£ï¼Œåƒæ˜¯ä¸Šä¸ªä¸–çºªçš„äº§ç‰©ï¼Œå°±ä¸ä¸Šå›¾äº†ã€‚å¥½åœ¨æˆ‘å¯¹å¤–è§‚çš„è¦æ±‚ä¸ç®—å¤ªé«˜ï¼ŒåŸºæœ¬éƒ½èƒ½æ¥å—â€¦</p>
<h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>KeePass å’Œä¸Šè¿°ä¸¤ç§å¯†ç ç®¡ç†è½¯ä»¶ä¸åŒï¼Œ1 Password å°†ç”¨æˆ·å¯†ç ä¿å­˜åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼ˆæ‰€ä»¥è´¹ç”¨å¾ˆé«˜ï¼Œæ¯•ç«Ÿç»´æŠ¤æœåŠ¡å™¨éœ€è¦æˆæœ¬ï¼‰ã€‚ enpass å¯ä»¥ç¦»çº¿ä½¿ç”¨ï¼Œä¹Ÿæ”¯æŒäº‘åŒæ­¥ï¼Œä½†æ˜¯æœ‰è‡ªå·±çš„æ•°æ®æ ¼å¼ã€‚KeePass çš„é€»è¾‘æ˜¯æ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œåœ¨æ•°æ®åº“ä¸­ä¿å­˜å¯†ç ã€‚è€Œè¿™ä¸ªæ•°æ®åº“åœ¨ç”¨æˆ·æ‰‹ä¸­ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä¸ºä»€ä¹ˆä» enpass è½¬åˆ° KeePass çš„åŸå› ã€‚å¯†ç ç®¡ç†è½¯ä»¶ä¸åƒå…¶ä»–è½¯ä»¶ï¼Œä¸€æ—¦é€‰æ‹©åŸºæœ¬ä¸Šæ˜¯é•¿æœŸä½¿ç”¨ï¼ŒåæœŸè½¬ç§»æ•°æ®æ˜¯éå¸¸éº»çƒ¦çš„ã€‚è™½ç„¶ç°åœ¨è¿™ç±»è½¯ä»¶åŸºæœ¬éƒ½æ”¯æŒå¯¼å…¥å’Œå¯¼å‡ºï¼Œå¯æ˜¯å¦‚æœä¸€æ—¦å¯†ç æ•°é‡å¤ªå¤šï¼Œåœ¨å¯¼å…¥çš„è¿‡ç¨‹ä¸­ï¼ŒæŸäº›å­—æ®µç¨å¾®æœ‰ä¸€ç‚¹è¯¯å·®ï¼Œå°±ä¼šåœ¨åæœŸç»´æŠ¤é€ æˆä¸å°‘éº»çƒ¦ã€‚</p>
<p>å› ä¸ºæˆ‘è€ƒè™‘åˆ° KeePass æ˜¯å¼€æºåº”ç”¨ï¼Œä¼šæœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹è½¯ä»¶æ”¯æŒï¼Œå°±ç®—æŸä¸ªè½¯ä»¶ä¸èƒ½ç”¨äº†ï¼Œä½†æ˜¯åªè¦æ”¯æŒ KeePass æ•°æ®åº“ï¼Œæˆ‘å°±å¯ä»¥ç»§ç»­ä½¿ç”¨å¯†ç ã€‚è€Œä¸”è€ƒè™‘åˆ°æœªæ¥ç”¨æˆ·ä¼šè¶Šæ¥è¶Šé‡è§†å¯†ç ç®¡ç†ï¼ŒåŸºäº KeePass çš„å¯†ç ç®¡ç†å™¨ä¼šè¶Šæ¥è¶Šå¤šã€‚æ‰€ä»¥æˆ‘æœ€ç»ˆé€‰æ‹©äº† KeePassã€‚</p>
<h1 id="iOS-å¹³å°"><a href="#iOS-å¹³å°" class="headerlink" title="iOS å¹³å°"></a>iOS å¹³å°</h1><p>iOS å¹³å°æˆ‘ä½¿ç”¨è¿‡ä¸¤æ¬¾åº”ç”¨ï¼Œä¸€æ¬¾æ˜¯ FantasyPassï¼Œå¦ä¸€æ¬¾æ˜¯ KeePassiumã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/Jf5o98yKEuItgCe.jpg" alt="ä¸¤æ¬¾åº”ç”¨"></p>
<p>æœ€ç»ˆé€‰æ‹©äº† FantasyPassã€‚ä¸è®ºæ˜¯å¤–è§‚è¿˜æ˜¯æ“ä½œï¼Œç»†èŠ‚ç­‰å„æ–¹é¢éƒ½æ¯” KeePassium å¥½ç”¨ã€‚å…·ä½“å¯æŸ¥çœ‹ä½œè€… <a href="https://github.com/kaich/FantasyPass">README</a>ã€‚</p>
<p>FantasyPass æ”¯æŒ WebDAVï¼Œå¯ä»¥ä½¿ç”¨åšæœäº‘åŒæ­¥æ•°æ®åº“ã€‚å¦‚æœä½ åƒæˆ‘ä¸€æ ·é€‰æ‹©äº† KeePassï¼Œå¯ä»¥è¯•è¯•è¿™æ¬¾è½¯ä»¶ã€‚</p>
<h1 id="Mac-å¹³å°"><a href="#Mac-å¹³å°" class="headerlink" title="Mac å¹³å°"></a>Mac å¹³å°</h1><p>Mac ä¸Šæˆ‘è¯•è¿‡ä¸‰æ¬¾éƒ½æ˜¯å¼€æºåº”ç”¨ã€‚GitHub ä¸Šæœç´¢ KeePass å°±èƒ½æ‰¾åˆ°ã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/HWSbxtqencaoCEP.png" alt="github-keepass"></p>
<p>å®ƒä»¬åˆ†åˆ«æ˜¯ <a href="https://keeweb.info/">keeweb</a>ï¼Œ<a href="https://keepassxc.org/">keepassxc</a> å’Œ <a href="https://macpassapp.org/">MacPass</a>ã€‚</p>
<p>å…¶ä¸­ keeweb å› ä¸ºæ˜¯åŸºäº Electron å¼€å‘çš„ï¼Œæ‰€ä»¥é¢œå€¼æœ€é«˜ã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/RAkgs3Bd24hNX6L.png" alt="keeweb11"></p>
<p>å…¶ä½™ä¸¤æ¬¾ï¼Œå•å•é€šè¿‡é¢œå€¼åˆ¤æ–­ï¼Œéƒ½åƒæ˜¯ä¸Šä¸–çºªçš„äº§ç‰©ã€‚å¯èƒ½ MacPass è¿˜å¥½ä¸€ç‚¹ï¼Ÿ</p>
<p>keepassxcï¼š</p>
<p><img src="https://i.loli.net/2020/03/17/TJ8Y2mFRhfsgeku.png" alt="keepassx"></p>
<p>MacPassï¼š</p>
<p><img src="https://i.loli.net/2020/03/17/9ZKq8ML7FeWAzo6.png" alt="macPass"></p>
<p>å…¶å®è¿™ä¸‰æ¬¾æˆ‘è¿˜æ˜¯å¾ˆéš¾é€‰æ‹©çš„ã€‚æ¯•ç«Ÿ keeweb æ¯”è¾ƒç¬¦åˆç°ä»£äººçš„å®¡ç¾ï¼Œä½†æ˜¯åœ¨ç»†èŠ‚ä¸Šä¸å¦‚ keepassxc å’Œ MacPassã€‚å› ä¸ºæˆ‘çš„æ•°æ®åº“ä½¿ç”¨äº†å¯†ç å’Œå¯†é’¥æ–‡ä»¶ï¼Œkeeweb æ¯æ¬¡è§£é”çš„æ—¶å€™éƒ½è¦æ‰‹åŠ¨é€‰æ‹©å¯†é’¥æ–‡ä»¶ï¼Œè®©æˆ‘è§‰å¾—å¾ˆä¸æ–¹ä¾¿ã€‚keepassxc å’Œ MacPass éƒ½å¯ä»¥è®°å½•å¯†é’¥æ–‡ä»¶çš„ä½ç½®ã€‚æ‰€ä»¥ keeweb é¦–å…ˆè¢«æˆ‘æ’é™¤äº†ï¼Œå¦‚æœä½ çš„æ•°æ®åº“ä¸éœ€è¦å¯†é’¥æ–‡ä»¶è§£é”ï¼Œé‚£æˆ‘å»ºè®®ä½ ä½¿ç”¨ keewebã€‚</p>
<p>åœ¨ keepassxc å’Œ MacPass ä¹‹é—´æˆ‘æ›´åå‘äº keepassxcã€‚å¯†ç ç®¡ç†è½¯ä»¶ä¸€æ–¹é¢è¦ä¿è¯ç®¡ç†å¯†ç ç®€å•æ˜“æ“ä½œï¼Œå¦ä¸€æ–¹é¢ä¹Ÿè¦ä¿è¯æ–¹ä¾¿è¾“å…¥ã€‚</p>
<p>keepassxc æä¾›äº† keepassxc-browser é…å¥—ä½¿ç”¨ã€‚å› ä¸ºåœ¨ Mac ä¸Šï¼Œå¤§éƒ¨åˆ†è¾“å…¥å¯†ç çš„æ“ä½œéƒ½æ˜¯åœ¨ Chrome æµè§ˆå™¨ä¸Šè¿›è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä¼šæ›´å¤šè€ƒè™‘æµè§ˆå™¨çš„è‡ªåŠ¨è¾“å…¥ã€‚å¦‚æœ Chrome æ²¡æœ‰ä¿å­˜ç½‘é¡µçš„è´¦æˆ·å’Œå¯†ç ï¼Œæˆ‘ä¼šä½¿ç”¨æ’ä»¶è‡ªåŠ¨é”®å…¥ã€‚æ„Ÿè§‰æ’ä»¶ç›¸æ¯”å…¨å±€é”®å…¥ï¼ŒåŒ¹é…ä¼šæ›´æ™ºèƒ½ä¸€äº›ã€‚</p>
<p>å®‰è£…å¥½ keepassxc-browser æ’ä»¶åï¼Œè¦ä¿è¯ keepassxc å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹ keepassxc çš„æ•°æ®åº“ã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/c2ZiBoYInKevDyj.png" alt="æ’ä»¶"></p>
<p>è¿æ¥æ— è¯¯åï¼Œåœ¨ç™»å½•çš„æ—¶å€™ä¼šçœ‹åˆ°ä¸€æŠŠç»¿è‰²çš„é’¥åŒ™ï¼Œæ­£æ˜¯ keepassxc çš„ logoã€‚</p>
<p><img src="https://i.loli.net/2020/03/17/SjpGAFRr8YbfZId.png" alt="githubç™»å½•"></p>
<p>ç‚¹å‡»é’¥åŒ™å›¾æ ‡ï¼Œå¯†ç å°±ä¼šè‡ªåŠ¨å¡«å…¥äº†ï¼ˆå¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡åœ¨æ­¤ç½‘ç«™ä½¿ç”¨è‡ªåŠ¨å¡«å…¥åŠŸèƒ½ï¼Œkeepassxc ä¼šå¼¹å‡ºæç¤ºè®©ä½ å…ˆç¡®è®¤ï¼‰ã€‚å¦‚æœåœ¨ç™»å½•æ¡†æ²¡æœ‰ç»¿è‰²é’¥åŒ™ï¼Œä¸”æ’ä»¶è¿è¡Œæ­£å¸¸ï¼Œè¿˜èƒ½æ‰‹åŠ¨æŒ‡å®šè¾“å…¥æ¡†çš„ä½ç½®ï¼Œè¿™ä¸ªåŠŸèƒ½è¿˜æ˜¯éå¸¸å®ç”¨çš„ã€‚</p>
<p>å¦‚æœä½ ä¸å–œæ¬¢ keepassxcï¼Œæ›´åå‘äº keeweb æˆ–æ˜¯ MacPassï¼Œè¿™é‡Œæ¨èä¸€æ¬¾ Chrome æ’ä»¶ï¼š<a href="https://chrome.google.com/webstore/detail/keepass-tusk-password-acc/fmhmiaejopepamlcjkncpgpdjichnecm">KeePass Tusk</a>ã€‚æ”¯æŒè‡ªåŠ¨é”®å…¥ï¼Œæ”¯æŒ WebDAVï¼ŒåŒæ­¥èµ·æ¥æ–¹ä¾¿äº›ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å¦‚æœä½ ä¸æƒ³æŠ˜è…¾ï¼Œä¹Ÿä¸åœ¨ä¹ä»˜è´¹ï¼Œå¯ä»¥è¯•è¯• enpassï¼Œä¹Ÿå¯ä»¥è–…ç¾Šæ¯›ä½¿ç”¨ä¸€å¹´çš„ 1 Passwordã€‚</p>
<p>å¦‚æœæƒ³è®©æ•°æ®æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ï¼Œå¯ä»¥è¯•è¯•å¼€æºå…è´¹çš„ KeePassã€‚ä¸æ„¿è¿‡å¤šæŠ˜è…¾ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æˆ‘æ¨èçš„åº”ç”¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±å°è¯•å…¶ä»–ç¬¬ä¸‰æ–¹ KeePass å¯†ç ç®¡ç†å™¨ï¼Œé€‚åˆè‡ªå·±çš„æ‰æ˜¯æœ€å¥½çš„ã€‚</p>
<p>æ„Ÿè°¢é˜…è¯»ã€‚</p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>1Password</tag>
        <tag>enpass</tag>
        <tag>KeePass</tag>
        <tag>å¯†ç ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>Scrapyå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
    <url>/116.html</url>
    <content><![CDATA[<p>ä½œä¸º scrapy å­¦ä¹ ç¬”è®°çš„ç¬¬ä¸€ç¯‡ï¼Œä¸»è¦æ˜¯äº†è§£æ­¤æ¡†æ¶çš„åŸºæœ¬ä½¿ç”¨ã€‚å¹¶é€šè¿‡ä¸€ä¸ª demo æ„Ÿå— scrapy æ¡†æ¶çš„å¼ºå¤§ã€‚</p>
<a id="more"></a>
<h1 id="scrapy"><a href="#scrapy" class="headerlink" title="scrapy"></a>scrapy</h1><p>æ¥è‡ª<a href="https://scrapy.org/">Scrapy</a><a href="https://scrapy.org/">å®˜ç½‘</a>çš„ä»‹ç»ï¼š</p>
<blockquote>
<p>Scrapy is a fast high-level web crawling and web scraping framework, used to crawl websites and extract structured data from their pages. It can be used for a wide range of purposes, from data mining to monitoring and automated testing.</p>
</blockquote>
<p>æˆ‘ä»¬æš‚æ—¶å°±è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªåŠŸèƒ½åŠ å¤§çš„çˆ¬è™«æ¡†æ¶å³å¯ã€‚</p>
<h1 id="Quotes-to-Scrape"><a href="#Quotes-to-Scrape" class="headerlink" title="Quotes to Scrape"></a>Quotes to Scrape</h1><p>æˆ‘ä»¬è¦ç»ƒä¹ æŠ“å–çš„æ˜¯ scrapy å®˜æ–¹æä¾›çš„ç½‘ç«™ï¼š<a href="http://quotes.toscrape.com/">quotes.toscrape.com</a>ã€‚å¯¹è¿™ä¸ªç½‘ç«™çš„æŠ“å–è®©æˆ‘ä»¬å¯¹ scrapy æ¡†æ¶æœ‰ä¸ªåŸºæœ¬çš„è®¤è¯†ï¼Œå¯ä»¥æ›´è½»æ¾çš„å…¥é—¨ã€‚å› ä¸ºåœ¨æˆ‘æœ€åˆæ¥è§¦æ¡†æ¶çš„æ—¶å€™ï¼Œæ€»è§‰å¾—å®ƒæ˜¯ä¸€ä¸ªå¾ˆç¥ç§˜å¾ˆå¤æ‚çš„ä¸œè¥¿ï¼Œè¿˜ä¸å¦‚ä½¿ç”¨ requests åº“æ›´å®¹æ˜“ã€‚ è¿™ä¸ªç½‘ç«™ä¸»è¦æ˜¯ä¸€äº›åäººåè¨€ï¼Œè™½ç„¶çœ‹ä¼¼ç®€é™‹ï¼Œå´åŒ…å«äº†æ–‡æœ¬ï¼Œæ ‡ç­¾ï¼Œè¶…é“¾æ¥ç­‰å¤§å¤šæ•°ç½‘ç«™éƒ½å…·å¤‡çš„æ ¼å¼ã€‚æ‰€ä»¥è¿™ä¸ªç½‘ç«™ç”¨æ¥å…¥é—¨ scrapy æ˜¯ä¸äºŒé€‰æ‹©å•Šï¼</p>
<h1 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h1><h2 id="æŠ“å–æµç¨‹"><a href="#æŠ“å–æµç¨‹" class="headerlink" title="æŠ“å–æµç¨‹"></a>æŠ“å–æµç¨‹</h2><p>æˆ‘ä»¬é€šè¿‡æŠ“å–ç¬¬ä¸€é¡µçš„ä¿¡æ¯ï¼Œè·å–è¯¥é¡µçš„å†…å®¹å’Œä¸‹ä¸€é¡µçš„é“¾æ¥ï¼Œå®ç°ç¿»é¡µæŠ“å–ï¼Œç„¶åå°†æŠ“å–åˆ°çš„ç½‘é¡µå†…å®¹ä¿å­˜ä¸ºç‰¹å®šçš„æ ¼å¼å¹¶å­˜å…¥æ•°æ®åº“ã€‚</p>
<h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><p>åœ¨å‘½ä»¤è¡Œè¾“å…¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">scrapy startproject quotes<br></code></pre></td></tr></table></figure>

<p>ç„¶åè¾“å…¥å‘½ä»¤åˆ›å»ºspider</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">cd quotesâ€©scrapy genspider quote quotes.toscrape.com<br></code></pre></td></tr></table></figure>

<p>åˆ›å»ºå¥½spideræ–‡ä»¶å,æˆ‘ä»¬å°±å¯ä»¥ç»§ç»­å®Œå–„ä»£ç äº†ã€‚</p>
<h2 id="åˆæ­¥æµ‹è¯•"><a href="#åˆæ­¥æµ‹è¯•" class="headerlink" title="åˆæ­¥æµ‹è¯•"></a>åˆæ­¥æµ‹è¯•</h2><p>æˆ‘ä»¬å…ˆæ¥æµ‹è¯•ä¸‹æ¡†æ¶ï¼Œåœ¨ç”Ÿæˆå¥½çš„spideræ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å…ˆæŠ“å–ç½‘é¡µçš„çŠ¶æ€ç å’Œç½‘é¡µæºç ã€‚ ä»£ç ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain"># -*- coding: utf-8 -*-â€©import scrapyâ€©â€©class QuoteSpider(scrapy.Spider):â€©    name &#x3D; &quot;quote&quot;â€©    allowed_domains &#x3D; [&quot;quotes.toscrape.com&quot;]â€©    start_urls &#x3D; [&#39;http:&#x2F;&#x2F;quotes.toscrape.com&#x2F;&#39;]â€©â€©    def parse(self, response):â€©        print(response.status)â€©        print(response.text)<br></code></pre></td></tr></table></figure>

<p>è¿™æ˜¯è¿è¡Œçš„éƒ¨åˆ†æˆªå›¾ï¼Œæ­£å¸¸è¾“å‡ºäº†ç½‘é¡µçš„çŠ¶æ€ç å’Œç½‘é¡µæºç ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¼€å§‹æ­£å¼æŠ“å–äº†ã€‚</p>
<h2 id="å®Œå–„ä»£ç "><a href="#å®Œå–„ä»£ç " class="headerlink" title="å®Œå–„ä»£ç "></a>å®Œå–„ä»£ç </h2><h3 id="items-py"><a href="#items-py" class="headerlink" title="items.py"></a>items.py</h3><p>æˆ‘ä»¬è¦æŠ“å–è¿™ä¸ªç½‘é¡µçš„åäººåè¨€ï¼Œä½œè€…å’Œæ ‡ç­¾ï¼Œé¦–å…ˆè¦åœ¨items.pyæ–‡ä»¶ä¸‹å®šä¹‰å­—æ®µã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">import scrapyâ€©â€©class QuotesItem(scrapy.Item):â€©    # define the fields for your item here like:â€©    # name &#x3D; scrapy.Field()â€©    text &#x3D; scrapy.Field()â€©    author &#x3D; scrapy.Field()â€©    tags &#x3D; scrapy.Field()<br></code></pre></td></tr></table></figure>

<h3 id="spider-py"><a href="#spider-py" class="headerlink" title="spider.py"></a>spider.py</h3><p>åœ¨è®²è¿™éƒ¨åˆ†ä»£ç æ—¶ï¼Œå…ˆä»‹ç»ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼šshellï¼Œæœ‰äº†è¿™ä¸ªå·¥å…·ï¼Œåœ¨æŠ“å–ç½‘é¡µå†…å®¹çš„æ—¶å€™ä¼šæ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚ åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">scrapy shell http:&#x2F;&#x2F;quotes.toscrape.com&#x2F;<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·å°±è¿›å…¥äº†å‘½ä»¤è¡Œäº¤äº’æ¨¡å¼ï¼Œåšä¸€äº›è°ƒè¯•ã€‚ è¿™æ˜¯æˆ‘åšçš„ä¸€äº›ç®€å•è°ƒè¯•ï¼Œç›¸ä¿¡ä½ ä¹Ÿä¼šå……åˆ†åˆ©ç”¨è¿™ä¸ªå·¥å…·ã€‚ç»§ç»­å®Œå–„ä»£ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain"># -*- coding: utf-8 -*-â€©import scrapyâ€©from quotes.items import QuotesItemâ€©â€©class QuoteSpider(scrapy.Spider):â€©    name &#x3D; &quot;quote&quot;â€©    allowed_domains &#x3D; [&quot;quotes.toscrape.com&quot;]â€©    start_urls &#x3D; [&#39;http:&#x2F;&#x2F;quotes.toscrape.com&#x2F;&#39;]â€©â€©    def parse(self, response):â€©        item &#x3D; QuotesItem()â€©â€©        quotes &#x3D; response.css(&#39;.quote&#39;)â€©        for quote in quotes:â€©            text &#x3D; quote.css(&#39;.text::text&#39;).extract_first()â€©            author &#x3D; quote.css(&#39;.author::text&#39;).extract_first()â€©            tags &#x3D; quote.css(&#39;.tags .tag::text&#39;).extract()â€©â€©            item[&#39;text&#39;] &#x3D; textâ€©            item[&#39;author&#39;] &#x3D; authorâ€©            item[&#39;tags&#39;] &#x3D; tagsâ€©â€©            yield item<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·åŸºæœ¬èƒ½çœ‹åˆ°æŠ“å–çš„ç»“æœäº†ï¼Œä¸è¿‡åªæœ‰ç¬¬ä¸€é¡µçš„å†…å®¹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦æŠ“å–æ‰€æœ‰é¡µçš„å†…å®¹ã€‚æƒ³è¦æŠ“å–ä¸‹ä¸€é¡µçš„å†…å®¹ä¹Ÿéå¸¸ç®€å•ï¼Œåªè¦åœ¨æœ¬é¡µæ‰¾åˆ°ä¸‹ä¸€é¡µçš„é“¾æ¥ï¼Œç”Ÿæˆä¸‹ä¸€é¡µçš„é“¾æ¥åä¸æ–­é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æœ€åä¸€é¡µåœæ­¢æŠ“å–ã€‚ æŠ“å–æ‰€æœ‰é¡µæ•°çš„å®Œæ•´ä»£ç ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain"># -*- coding: utf-8 -*-â€©import scrapyâ€©from quotes.items import QuotesItemâ€©â€©class QuoteSpider(scrapy.Spider):â€©    name &#x3D; &quot;quote&quot;â€©    allowed_domains &#x3D; [&quot;quotes.toscrape.com&quot;]â€©    start_urls &#x3D; [&#39;http:&#x2F;&#x2F;quotes.toscrape.com&#x2F;&#39;]â€©â€©    def parse(self, response):â€©        item &#x3D; QuotesItem()â€©â€©        quotes &#x3D; response.css(&#39;.quote&#39;)â€©        for quote in quotes:â€©            text &#x3D; quote.css(&#39;.text::text&#39;).extract_first()â€©            author &#x3D; quote.css(&#39;.author::text&#39;).extract_first()â€©            tags &#x3D; quote.css(&#39;.tags .tag::text&#39;).extract()â€©â€©            item[&#39;text&#39;] &#x3D; textâ€©            item[&#39;author&#39;] &#x3D; authorâ€©            item[&#39;tags&#39;] &#x3D; tagsâ€©â€©            yield itemâ€©â€©        next &#x3D; response.css(&#39;.pager .next a::attr(href)&#39;).extract_first()â€©        url &#x3D; response.urljoin(next)â€©        yield scrapy.Request(url&#x3D;url, callback&#x3D;self.parse)<br></code></pre></td></tr></table></figure>

<p>è§£é‡Šä¸€ä¸‹æ–°å¢çš„ä¸‰è¡Œä»£ç ã€‚ç¬¬ä¸€è¡Œç”¨æ¥æ‰¾åˆ°ä¸‹ä¸€é¡µçš„è¶…é“¾æ¥ï¼›ç¬¬äºŒè¡Œç”Ÿæˆä¸€ä¸ªç»å¯¹çš„ URLï¼Œç¬¬ä¸‰è¡Œä½¿ç”¨ Request æ–¹æ³•ï¼Œä¼ å…¥æ–°ç”Ÿæˆçš„ urlï¼Œä½¿ç”¨å›è°ƒæ¥é€’å½’è°ƒç”¨ parse å‡½æ•°è§£ææ–°ç”Ÿæˆçš„ urlã€‚è¿è¡Œä»¥åå°±èƒ½é‡‡é›†æ‰€æœ‰é¡µçš„åäººåè¨€äº†ã€‚</p>
<h2 id="ä¿å­˜ç»“æœ"><a href="#ä¿å­˜ç»“æœ" class="headerlink" title="ä¿å­˜ç»“æœ"></a>ä¿å­˜ç»“æœ</h2><h3 id="ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶"><a href="#ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶" class="headerlink" title="ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶"></a>ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶</h3><p>æŠ“å–å¥½ç½‘é¡µçš„å†…å®¹å¦‚ä½•ä¿å­˜å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ scrapy çš„å‘½ä»¤ä¿å­˜æˆå¤šç§æ–‡ä»¶æ ¼å¼ã€‚ è¾“å…¥å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">scrapy crawl quote -o quotes.json<br></code></pre></td></tr></table></figure>

<p>è¿è¡Œä»¥åä¼šç”Ÿæˆä¸€ä¸ª json æ–‡ä»¶ï¼Œä¿å­˜äº†åˆšæ‰æˆ‘ä»¬æŠ“å–åˆ°çš„æ‰€æœ‰å†…å®¹ã€‚</p>
<h3 id="ä¿å­˜åˆ°æ•°æ®åº“"><a href="#ä¿å­˜åˆ°æ•°æ®åº“" class="headerlink" title="ä¿å­˜åˆ°æ•°æ®åº“"></a>ä¿å­˜åˆ°æ•°æ®åº“</h3><p>åœ¨ä¿å­˜åˆ°æ•°æ®åº“å‰ï¼Œæˆ‘ä»¬å…ˆè¦å¯¹æŠ“å–åˆ°çš„æ–‡æœ¬åšä¸€äº›å¤„ç†ï¼Œå¦‚æœåäººåè¨€çš„é•¿åº¦å¤§äº 50ï¼Œé‚£å°±åˆ‡æ–­å¹¶æ˜¾ç¤ºä¸ºçœç•¥å·ã€‚å®ç°ä¹Ÿå¾ˆç®€å•ï¼Œè¦ç”¨åˆ° pipelines.py æ–‡ä»¶ã€‚ å¤„ç†æ–‡æœ¬çš„ä»£ç ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">from scrapy.exceptions import DropItemâ€©â€©class TextPipeline(object):â€©â€©    def __init__(self):â€©        self.limit &#x3D; 50â€©â€©    def process_item(self, item, spider):â€©        if item[&#39;text&#39;]:â€©            if len(item[&#39;text&#39;]) &gt; self.limit:â€©                item[&#39;text&#39;] &#x3D; &quot;&quot;.join([item[&#39;text&#39;][0:self.limit].strip(), &quot;...&quot;])â€©                return itemâ€©        else:â€©            return DropItem(&#39;Missing Text.&#39;)<br></code></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ settings.py æ–‡ä»¶ä¸­å¼€å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">ITEM_PIPELINES &#x3D; &#123;â€©    &#39;quotes.pipelines.TextPipeline&#39;: 300,â€©&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·è®¾ç½®ä»¥åï¼Œè¿è¡Œå¾—åˆ°çš„ç»“æœå°±æ˜¯æˆ‘ä»¬å·²ç»å¤„ç†åçš„ç»“æœäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚ æˆ‘ä»¬å…ˆåœ¨ setting.py æ–‡ä»¶ä¸­æ’å…¥ mongo æ•°æ®åº“çš„ç›¸å…³ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">MONGO_URI &#x3D; &#39;localhost&#39;â€©MONGO_DB &#x3D; &#39;quotes&#39;<br></code></pre></td></tr></table></figure>

<p>å›åˆ° piplines.py æ–‡ä»¶ç¼–è¾‘ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">import pymongoâ€©â€©class MongoPipline(object):â€©â€©    def __init__(self, mongo_uri, mongo_db):â€©        self.mongo_uri &#x3D; mongo_uriâ€©        self.mongo_db &#x3D; mongo_dbâ€©â€©    @classmethodâ€©    def from_crawler(cls, crawler):â€©        return cls(â€©            mongo_uri&#x3D;crawler.settings.get(&#39;MONGO_URI&#39;),â€©            mongo_db&#x3D;crawler.settings.get(&#39;MONGO_DB&#39;)â€©        )â€©â€©    def open_spider(self, spider):â€©        self.client &#x3D; pymongo.MongoClient(self.mongo_uri)â€©        self.db &#x3D; self.client[self.mongo_db]â€©â€©    def process_item(self, item, spider):â€©        if self.db[&#39;quotes&#39;].insert(dict(item)):â€©            print(&quot;ok.&quot;)â€©            return item<br></code></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç å®ç°çš„åŠŸèƒ½æ˜¯ä¼ å…¥å‚æ•°åï¼Œè·å– mongo æ•°æ®åº“çš„é…ç½®ä¿¡æ¯ï¼Œç„¶ååœ¨ spider è¿è¡Œå‰å¼€å¯ mongo æœåŠ¡ï¼Œè¿è¡Œè¿‡ç¨‹ä¸­æ’å…¥åˆ°æ•°æ®åº“ã€‚ å†æ¬¡è¿è¡Œåæ‰“å¼€ mongo æ•°æ®åº“ï¼Œå°±èƒ½çœ‹åˆ°å¤„ç†è¿‡çš„æ–‡æœ¬ä¿¡æ¯éƒ½å·²ç»ä¿å­˜å¥½äº†ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡æ¶‰åŠçš„ä»£ç è§ <a href="https://github.com/alpha87/quotes">github</a>ã€‚ ä»è¿™ä¸ªç®€å•çš„é¡¹ç›®ä¸­æˆ‘ä»¬å°±èƒ½ä½“ä¼šåˆ°scrapyçš„å¼ºå¤§ã€‚ä¸è¿‡è¿™åªæ˜¯å†°å±±ä¸€è§’ï¼Œéœ€è¦æˆ‘ä»¬å­¦ä¹ çš„å†…å®¹è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œåœ¨ä¹‹åçš„æ•™ç¨‹ä¸­ä¼šæ›´åŠ è¯¦ç»†çš„ä»‹ç»scrapyæ¯ä¸€ä¸ªæ¨¡å—çš„ç”¨æ³•ã€‚ <a href="http://scrapy-chs.readthedocs.io/zh_CN/0.24/intro/tutorial.html">scrapy</a><a href="http://scrapy-chs.readthedocs.io/zh_CN/0.24/intro/tutorial.html">ä¸­æ–‡æ•™ç¨‹</a> | <a href="https://doc.scrapy.org/en/latest/">scrapy</a><a href="https://doc.scrapy.org/en/latest/">è‹±æ–‡æ•™ç¨‹</a> è®©æˆ‘ä»¬å…±åŒè¿›æ­¥ï¼ :)</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>Scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title>Scrapyå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰</title>
    <url>/113.html</url>
    <content><![CDATA[<p>æˆ‘ä»¬æ¥èŠèŠscrapyä¸­é€‰æ‹©å™¨çš„ç”¨æ³•ã€‚</p>
<a id="more"></a>
<p>æˆ‘ä»¬é€‰ç”¨çš„æµ‹è¯•ç½‘é¡µæ˜¯scrapyå®˜ç½‘æ¨èçš„æµ‹è¯•ç½‘é¡µï¼Œç»“æ„éå¸¸ç®€å•ï¼Œä½†è¶³å¤Ÿæˆ‘ä»¬ç”¨æ¥å­¦ä¹ å…¶ç”¨æ³•ã€‚</p>
<p><a href="https://doc.scrapy.org/en/latest/_static/selectors-sample1.html">https://doc.scrapy.org/en/latest/_static/selectors-sample1.html</a></p>
<p><img src="https://i.loli.net/2020/02/20/ZsTtpQcSNMqkUAz.png" alt="img"></p>
<p>æˆ‘ä»¬ä¸»è¦ä½¿ç”¨ä¸‰ç§é€‰æ‹©å™¨ï¼Œè¯»è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„å­¦ä¹ æƒ…å†µå’Œç½‘é¡µç»“æ„é€‰æ‹©ä½¿ç”¨ã€‚é€‰æ‹©å™¨åˆ†åˆ«æ˜¯ï¼šxpathã€csså’Œreã€‚è¿™ä¸‰ç§é€‰æ‹©å™¨å®ç°çš„åŠŸèƒ½ç›¸åŒï¼Œæ‰€ä»¥ç†Ÿæ‚‰å“ªä¸ªç”¨å“ªä¸ªå°±è¡Œï¼Œè¯­æ³•éƒ½æ¯”è¾ƒç®€å•ã€‚</p>
<p>ç½‘é¡µæºç </p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">base</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;http://example.com/&#x27;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Example website<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;images&#x27;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;image1.html&#x27;</span>&gt;</span>Name: My image 1 <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;image1_thumb.jpg&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;image2.html&#x27;</span>&gt;</span>Name: My image 2 <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;image2_thumb.jpg&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;image3.html&#x27;</span>&gt;</span>Name: My image 3 <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;image3_thumb.jpg&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;image4.html&#x27;</span>&gt;</span>Name: My image 4 <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;image4_thumb.jpg&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;image5.html&#x27;</span>&gt;</span>Name: My image 5 <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;image5_thumb.jpg&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨scrapy shellä¸­å­¦ä¹ è¿™ä¸‰ç§é€‰æ‹©å™¨çš„ç”¨æ³•ï¼Œå®æ—¶åé¦ˆæŠ“å–åˆ°çš„ä¿¡æ¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy shell https://doc.scrapy.org/en/latest/_static/selectors-sample1.html<br></code></pre></td></tr></table></figure>

<h2 id="è·å–title"><a href="#è·å–title" class="headerlink" title="è·å–title"></a>è·å–title</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">In [3]: response.xpath(<span class="hljs-string">&#x27;//title/text()&#x27;</span>)<br>Out[3]: [&lt;Selector xpath=<span class="hljs-string">&#x27;//title/text()&#x27;</span> data=<span class="hljs-string">&#x27;Example website&#x27;</span>&gt;]<br><br>In [4]: response.css(<span class="hljs-string">&#x27;title::text&#x27;</span>)<br>Out[4]: [&lt;Selector xpath=<span class="hljs-string">&#x27;descendant-or-self::title/text()&#x27;</span> data=<span class="hljs-string">&#x27;Example website&#x27;</span>&gt;]<br><br>In [5]: response.xpath(<span class="hljs-string">&#x27;//title/text()&#x27;</span>).extract_first()<br>Out[5]: <span class="hljs-string">&#x27;Example website&#x27;</span><br><br>In [6]: response.css(<span class="hljs-string">&#x27;title::text&#x27;</span>).extract_first()<br>Out[6]: <span class="hljs-string">&#x27;Example website&#x27;</span><br></code></pre></td></tr></table></figure>

<h2 id="è·å–href"><a href="#è·å–href" class="headerlink" title="è·å–href"></a>è·å–href</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">In [21]: response.xpath(<span class="hljs-string">&#x27;//div[@id=&quot;images&quot;]/a/@href&#x27;</span>).extract()<br>Out[21]: [<span class="hljs-string">&#x27;image1.html&#x27;</span>, <span class="hljs-string">&#x27;image2.html&#x27;</span>, <span class="hljs-string">&#x27;image3.html&#x27;</span>, <span class="hljs-string">&#x27;image4.html&#x27;</span>, <span class="hljs-string">&#x27;image5.html&#x27;</span>]<br><br>In [22]: response.css(<span class="hljs-string">&#x27;div a::attr(href)&#x27;</span>).extract()<br>Out[22]: [<span class="hljs-string">&#x27;image1.html&#x27;</span>, <span class="hljs-string">&#x27;image2.html&#x27;</span>, <span class="hljs-string">&#x27;image3.html&#x27;</span>, <span class="hljs-string">&#x27;image4.html&#x27;</span>, <span class="hljs-string">&#x27;image5.html&#x27;</span>]<br></code></pre></td></tr></table></figure>

<p>è¿˜å¯ä»¥è¿™ä¹ˆç”¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">In [24]: response.xpath(<span class="hljs-string">&#x27;//div[@id=&quot;images&quot;]&#x27;</span>).css(<span class="hljs-string">&#x27;img::attr(&quot;src&quot;)&#x27;</span>)<br>Out[24]:<br>[&lt;Selector xpath=<span class="hljs-string">&#x27;descendant-or-self::img/@src&#x27;</span> data=<span class="hljs-string">&#x27;image1_thumb.jpg&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;descendant-or-self::img/@src&#x27;</span> data=<span class="hljs-string">&#x27;image2_thumb.jpg&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;descendant-or-self::img/@src&#x27;</span> data=<span class="hljs-string">&#x27;image3_thumb.jpg&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;descendant-or-self::img/@src&#x27;</span> data=<span class="hljs-string">&#x27;image4_thumb.jpg&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;descendant-or-self::img/@src&#x27;</span> data=<span class="hljs-string">&#x27;image5_thumb.jpg&#x27;</span>&gt;]<br><br>In [25]: response.xpath(<span class="hljs-string">&#x27;//div[@id=&quot;images&quot;]&#x27;</span>).css(<span class="hljs-string">&#x27;img::attr(&quot;src&quot;)&#x27;</span>).extract()<br>Out[25]:<br>[<span class="hljs-string">&#x27;image1_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image2_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image3_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image4_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image5_thumb.jpg&#x27;</span>]<br></code></pre></td></tr></table></figure>

<h2 id="default"><a href="#default" class="headerlink" title="default"></a>default</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">In [29]: response.xpath(<span class="hljs-string">&#x27;//div[@id=&quot;images&quot;]&#x27;</span>).css(<span class="hljs-string">&#x27;img::attr(&quot;src&quot;)&#x27;</span>).extract_first(default=<span class="hljs-string">&quot;None&quot;</span>)<br>Out[29]: <span class="hljs-string">&#x27;image1_thumb.jpg&#x27;</span><br><br>In [30]: response.xpath(<span class="hljs-string">&#x27;//div[@id=&quot;images&quot;]&#x27;</span>).css(<span class="hljs-string">&#x27;img::attr(&quot;srcq&quot;)&#x27;</span>).extract_first(default=<span class="hljs-string">&quot;None&quot;</span>)<br>Out[30]: <span class="hljs-string">&#x27;None&#x27;</span><br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨defaultè¦æ³¨æ„åªèƒ½åœ¨<code>extract_first</code>ä¸­ä½¿ç”¨ã€‚å¦‚æœè·å–åˆ°ä¿¡æ¯ï¼Œå°±æ­£å¸¸æ˜¾ç¤ºï¼Œå¦‚æœæ‰¾ä¸åˆ°å†…å®¹å°±è¿”å›defaultå®šä¹‰çš„ä¿¡æ¯ã€‚</p>
<h2 id="è·å–æ–‡æœ¬å†…å®¹"><a href="#è·å–æ–‡æœ¬å†…å®¹" class="headerlink" title="è·å–æ–‡æœ¬å†…å®¹"></a>è·å–æ–‡æœ¬å†…å®¹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">In [35]: response.xpath(<span class="hljs-string">&#x27;//a/text()&#x27;</span>).extract()<br>Out[35]: <br>[<span class="hljs-string">&#x27;Name: My image 1 &#x27;</span>,<br> <span class="hljs-string">&#x27;Name: My image 2 &#x27;</span>,<br> <span class="hljs-string">&#x27;Name: My image 3 &#x27;</span>,<br> <span class="hljs-string">&#x27;Name: My image 4 &#x27;</span>,<br> <span class="hljs-string">&#x27;Name: My image 5 &#x27;</span>]<br><br>In [36]: response.css(<span class="hljs-string">&#x27;a::text&#x27;</span>).extract()<br>Out[36]: <br>[<span class="hljs-string">&#x27;Name: My image 1 &#x27;</span>,<br> <span class="hljs-string">&#x27;Name: My image 2 &#x27;</span>,<br> <span class="hljs-string">&#x27;Name: My image 3 &#x27;</span>,<br> <span class="hljs-string">&#x27;Name: My image 4 &#x27;</span>,<br> <span class="hljs-string">&#x27;Name: My image 5 &#x27;</span>]<br></code></pre></td></tr></table></figure>

<h2 id="æ ¹æ®å±æ€§å®šä½"><a href="#æ ¹æ®å±æ€§å®šä½" class="headerlink" title="æ ¹æ®å±æ€§å®šä½"></a>æ ¹æ®å±æ€§å®šä½</h2><p>å¦‚æœæˆ‘ä»¬æƒ³è·å–å±æ€§åç§°åŒ…å«<code>image</code>çš„è¶…é“¾æ¥ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">In [40]: response.xpath(<span class="hljs-string">&#x27;//a[contains(@href, &quot;image&quot;)]/@href&#x27;</span>).extract()<br>Out[40]: [<span class="hljs-string">&#x27;image1.html&#x27;</span>, <span class="hljs-string">&#x27;image2.html&#x27;</span>, <span class="hljs-string">&#x27;image3.html&#x27;</span>, <span class="hljs-string">&#x27;image4.html&#x27;</span>, <span class="hljs-string">&#x27;image5.html&#x27;</span>]<br><br>In [41]: response.css(<span class="hljs-string">&#x27;a[href*=image]::attr(href)&#x27;</span>).extract()<br>Out[41]: [<span class="hljs-string">&#x27;image1.html&#x27;</span>, <span class="hljs-string">&#x27;image2.html&#x27;</span>, <span class="hljs-string">&#x27;image3.html&#x27;</span>, <span class="hljs-string">&#x27;image4.html&#x27;</span>, <span class="hljs-string">&#x27;image5.html&#x27;</span>]<br></code></pre></td></tr></table></figure>

<p>è¿˜æœ‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">In [42]: response.xpath(<span class="hljs-string">&#x27;//a[contains(@href, &quot;image&quot;)]/img/@src&#x27;</span>).extract()<br>Out[42]: <br>[<span class="hljs-string">&#x27;image1_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image2_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image3_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image4_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image5_thumb.jpg&#x27;</span>]<br><br>In [43]: response.css(<span class="hljs-string">&#x27;a[href*=image] img::attr(src)&#x27;</span>).extract()<br>Out[43]: <br>[<span class="hljs-string">&#x27;image1_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image2_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image3_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image4_thumb.jpg&#x27;</span>,<br> <span class="hljs-string">&#x27;image5_thumb.jpg&#x27;</span>]<br></code></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨re"><a href="#ä½¿ç”¨re" class="headerlink" title="ä½¿ç”¨re"></a>ä½¿ç”¨re</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">In [52]: response.css(<span class="hljs-string">&#x27;a::text&#x27;</span>).re(<span class="hljs-string">&#x27;Name\:(.*)&#x27;</span>)<br>Out[52]: <br>[<span class="hljs-string">&#x27; My image 1 &#x27;</span>,<br> <span class="hljs-string">&#x27; My image 2 &#x27;</span>,<br> <span class="hljs-string">&#x27; My image 3 &#x27;</span>,<br> <span class="hljs-string">&#x27; My image 4 &#x27;</span>,<br> <span class="hljs-string">&#x27; My image 5 &#x27;</span>]<br><br>In [53]: response.css(<span class="hljs-string">&#x27;a::text&#x27;</span>).re_first(<span class="hljs-string">&#x27;Name\:(.*)&#x27;</span>).strip()<br>Out[53]: <span class="hljs-string">&#x27;My image 1&#x27;</span><br></code></pre></td></tr></table></figure>

<p>ä»¥ä¸Šè¿™äº›å°±æ˜¯å°±æ˜¯é€‰æ‹©å™¨çš„åŸºæœ¬ç”¨æ³•äº†ï¼Œå¦‚æœä½ ç†Ÿæ‚‰ xpath,css,re çš„è¯­æ³•ï¼Œæ¥å—èµ·æ¥åº”è¯¥éå¸¸å®¹æ˜“ï¼Œåªæ˜¯ä¸ªåˆ«è¯­æ³•é€‚åº”scrapyå°±å¥½ã€‚</p>
<p>åœ¨ä»¥åçš„çˆ¬å–ä¸­è¦å­¦ä¼šä½¿ç”¨è¿™äº›é€‰æ‹©å™¨ï¼Œäº‹åŠåŠŸå€ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>Scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title>Scrapyå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</title>
    <url>/110.html</url>
    <content><![CDATA[<p>é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ä¼šäº†è§£åˆ° scrapy çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<p>æ–‡ç« ä»‹ç»å‘½ä»¤è¡Œå·¥å…·çš„é¡ºåºåŸºæœ¬ç¬¦åˆå®˜æ–¹æ–‡æ¡£çš„é¡ºåºã€‚</p>
<h1 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h1><p>scrapyçš„å‘½ä»¤åˆ†ä¸ºå…¨å±€å‘½ä»¤å’Œé¡¹ç›®å†…å‘½ä»¤ã€‚å…¨å±€å‘½ä»¤ä¹Ÿå°±æ˜¯ä¸éœ€è¦åœ¨é¡¹ç›®æ‰€åœ¨ç›®å½•ä¸‹è¿è¡Œï¼Œé¡¹ç›®å†…å‘½ä»¤å¿…é¡»åœ¨ç”Ÿæˆé¡¹ç›®åï¼Œåœ¨æ­¤ç›®å½•ä¸‹è¿è¡Œçš„å‘½ä»¤ã€‚ä¸¾ä¸ªæ —å­ï¼Œ<code>startproject</code>å°±æ˜¯å…¨å±€å‘½ä»¤ï¼Œå› ä¸ºåœ¨è¿è¡Œè¿™ä¸ªå‘½ä»¤çš„æ—¶å€™è¿˜æ²¡æœ‰é¡¹ç›®ï¼Œ<code>check</code>å°±æ˜¯é¡¹ç›®å†…å‘½ä»¤ï¼Œå› ä¸ºå¿…é¡»æœ‰é¡¹ç›®æ‰èƒ½æ£€æŸ¥ä»£ç æ­£ç¡®ä¸å¦ã€‚</p>
<h2 id="Global-commands"><a href="#Global-commands" class="headerlink" title="Global commands:"></a>Global commands:</h2><ul>
<li>startproject</li>
<li>genspider</li>
<li>settings</li>
<li>runspider</li>
<li>shell</li>
<li>fetch</li>
<li>view</li>
<li>version</li>
</ul>
<h2 id="Project-only-commands"><a href="#Project-only-commands" class="headerlink" title="Project-only commands:"></a>Project-only commands:</h2><ul>
<li>crawl</li>
<li>check</li>
<li>list</li>
<li>edit</li>
<li>parse</li>
<li>bench</li>
</ul>
<h1 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h1><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy startproject testproject<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‘½ä»¤ç”¨äºç”Ÿæˆæˆ‘ä»¬æ‰€éœ€è¦çš„çˆ¬è™«é¡¹ç›®ã€‚è¿›å…¥åˆ°è¯¥ç›®å½•ä¸­ï¼Œä¼šå‘ç°ç”Ÿæˆäº†è®¸å¤šæ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶çš„ç”¨æ³•åœ¨ä»¥åéƒ½ä¼šä¸€ä¸€è¯¦è§£ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">.<br>â””â”€â”€ testproject<br>    â”œâ”€â”€ scrapy.cfg<br>    â””â”€â”€ testproject<br>        â”œâ”€â”€ __init__.py<br>        â”œâ”€â”€ items.py<br>        â”œâ”€â”€ middlewares.py<br>        â”œâ”€â”€ pipelines.py<br>        â”œâ”€â”€ settings.py<br>        â””â”€â”€ spiders<br>            â””â”€â”€ __init__.py<br></code></pre></td></tr></table></figure>

<h1 id="ç”Ÿæˆ-spider"><a href="#ç”Ÿæˆ-spider" class="headerlink" title="ç”Ÿæˆ spider"></a>ç”Ÿæˆ spider</h1><p>å‘½ä»¤ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">scrapy genspider baidu www.baidu.com<br></code></pre></td></tr></table></figure>

<p>è¿›å…¥åˆ° spider æ–‡ä»¶å¤¹ä¸‹ï¼Œè¾“å…¥è¯¥å‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªåä¸º baidu.py çš„æ–‡ä»¶ï¼Œcat è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬ä¼šå‘ç°å…¶å®å°±æ˜¯æœ€åŸºæœ¬çš„ spider æ¨¡æ¿ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-keyword">import</span> scrapy<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaiduSpider</span>(<span class="hljs-params">scrapy.Spider</span>):</span><br>    name = <span class="hljs-string">&#x27;baidu&#x27;</span><br>    allowed_domains = [<span class="hljs-string">&#x27;www.baidu.com&#x27;</span>]<br>    start_urls = [<span class="hljs-string">&#x27;http://www.baidu.com/&#x27;</span>]<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse</span>(<span class="hljs-params">self, response</span>):</span><br>        <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>

<h2 id="æ¨¡æ¿é€‰æ‹©"><a href="#æ¨¡æ¿é€‰æ‹©" class="headerlink" title="æ¨¡æ¿é€‰æ‹©"></a>æ¨¡æ¿é€‰æ‹©</h2><p>åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤å¯ä»¥æŸ¥çœ‹ç”Ÿæˆæ¨¡æ¿çš„ç±»å‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy genspider -l<br></code></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">Available templates:<br>  basic<br>  crawl<br>  csvfeed<br>  xmlfeed<br></code></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯ç³»ç»Ÿè‡ªå¸¦è¿™å››ç§æ¨¡æ¿ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šæ¨¡æ¿ï¼Œä¼šé€‰æ‹©<code>basic</code>åŸºæœ¬æ¨¡æ¿ã€‚å¦‚æœä½ é—®æˆ‘å¯ä»¥è‡ªå®šä¹‰æ¨¡æ¿å—ï¼Œå½“ç„¶å¯ä»¥äº†ï¼Œä¸è¿‡æœ¬æ–‡æš‚æ—¶ä¸æ¶‰åŠè¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœæœ‰éœ€è¦å¯ä»¥å…ˆè‡ªè¡Œgoogleã€‚</p>
<p>ä½¿ç”¨æ¨¡æ¿å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy genspider -t xmlfeed zhihu www.zhihu.com<br></code></pre></td></tr></table></figure>

<p><code>-t</code>å°±æ˜¯TEMPLATEï¼Œä¹Ÿå°±æ˜¯æ¨¡æ¿ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ scrapy genspider -l<br>Available templates:<br>  basic<br>  crawl<br>  csvfeed<br>  xmlfeed<br><br>$ scrapy genspider example example.com<br>Created spider <span class="hljs-string">&#x27;example&#x27;</span> using template <span class="hljs-string">&#x27;basic&#x27;</span><br><br>$ scrapy genspider -t crawl scrapyorg scrapy.org<br>Created spider <span class="hljs-string">&#x27;scrapyorg&#x27;</span> using template <span class="hljs-string">&#x27;crawl&#x27;</span><br></code></pre></td></tr></table></figure>

<h1 id="crawl"><a href="#crawl" class="headerlink" title="crawl"></a>crawl</h1><p>ç”¨äºè¿è¡ŒæŒ‡å®šspider</p>
<p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy crawl baidu<br></code></pre></td></tr></table></figure>

<h1 id="check"><a href="#check" class="headerlink" title="check"></a>check</h1><p><code>check</code>ç”¨æ¥æ£€æŸ¥é¡¹ç›®ä¸­çš„ä»£ç æ˜¯å¦æœ‰é”™è¯¯ã€‚å¦‚æœæ²¡é”™ä¼šè¿”å›okï¼Œå¦‚æœæœ‰é”™ä¼šå®šä½é”™è¯¯ä»£ç çš„ä½ç½®ã€‚</p>
<p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy check<br></code></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">âœ  testproject scrapy check<br><br>----------------------------------------------------------------------<br>Ran 0 contracts <span class="hljs-keyword">in</span> 0.000s<br><br>OK<br></code></pre></td></tr></table></figure>

<h1 id="list"><a href="#list" class="headerlink" title="list"></a>list</h1><p>è¿è¡Œå‘½ä»¤ä¼šåˆ—å‡ºé¡¹ç›®ä¸­æ‰€æœ‰çš„spiderã€‚</p>
<p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy list<br></code></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼Œåœ¨æˆ‘ä»¬åˆ›å»ºçš„é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">âœ  testproject scrapy list<br>baidu<br>zhihu<br></code></pre></td></tr></table></figure>

<h1 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h1><p>è¿è¡Œè¿™ä¸ªå‘½ä»¤ä¼šè¿›å…¥å‘½ä»¤è¡Œäº¤äº’æ¨¡å¼ï¼Œä»¥ç»™å®šçš„ URL(å¦‚æœç»™å‡º)æˆ–è€…ç©º(æ²¡æœ‰ç»™å‡º URL)å¯åŠ¨ Scrapy shellã€‚æŸ¥çœ‹ Scrapy ç»ˆç«¯(Scrapy shell)å¯ä»¥åšä¸€äº›ç®€å•çš„æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨é€‰æ‹©å™¨å¿«é€Ÿè·å–ä¿¡æ¯ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</p>
<h1 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h1><p>ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ä¼šæ‰§è¡Œä¸€æ¬¡è¯·æ±‚ï¼Œå¹¶è°ƒç”¨scrapyçš„ä¸‹è½½å™¨ï¼Œè¿”å›ç½‘é¡µçš„æºç ã€‚</p>
<p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy fetch http://www.baidu.com<br></code></pre></td></tr></table></figure>

<p>è¿˜å¯ä»¥åŠ ä¸‰ä¸ªå‚æ•°ï¼š</p>
<p><code>--nolog</code> <code>--headers</code> <code>--no-redirect</code></p>
<p>åˆ†åˆ«æ˜¯ä¸è¾“å‡ºæ—¥å¿—ä¿¡æ¯ï¼Œè¿”å›ç½‘é¡µçš„è¯·æ±‚å¤´å’Œç¦æ­¢é‡å®šå‘ã€‚å¦‚æœç½‘é¡µæ²¡æœ‰é‡å®šå‘çš„è¯è¿”å›çš„è¿˜æ˜¯åŸç½‘é¡µã€‚</p>
<h1 id="view"><a href="#view" class="headerlink" title="view"></a>view</h1><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy view http://www.taobao.com<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‘½ä»¤æ¯”è¾ƒæœ‰ç”¨ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¯·æ±‚ç½‘å€ï¼Œè¾“å‡ºç½‘å€çš„æºç ï¼Œå¹¶å°†è¯¥ç½‘é¡µä¿å­˜æˆä¸€ä¸ªæ–‡ä»¶ï¼Œä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ã€‚å¦‚æœæ‰“å¼€çš„ç½‘å€å’Œä½ æ­£å¸¸åŠ è½½çš„ç½‘é¡µæœ‰æ‰€ä¸åŒï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ²¡æ˜¾ç¤ºçš„éƒ¨åˆ†ä½¿ç”¨äº†å¼‚æ­¥åŠ è½½ã€‚å› æ­¤è¯¥å‘½ä»¤å¯ä»¥ç”¨æ¥æ£€æŸ¥ spider æ‰€è·å–åˆ°çš„é¡µé¢,å¹¶ç¡®è®¤è¿™æ˜¯æ‚¨æ‰€æœŸæœ›çš„ã€‚</p>
<p>è¿™æ ·åœ¨ä½ ä»¥åçš„æŠ“å–è¿‡ç¨‹ä¸­å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤åˆ†æç½‘é¡µæ˜¯å¦ä½¿ç”¨äº†å¼‚æ­¥åŠ è½½ã€‚</p>
<h1 id="runspider"><a href="#runspider" class="headerlink" title="runspider"></a>runspider</h1><p>è¿™ä¸ªå‘½ä»¤å’Œcrawlå‘½ä»¤çš„åŒºåˆ«åœ¨äºcrawlå‘½ä»¤åæ˜¯spiderçš„<code>name</code>ï¼Œè€Œrunspiderå‘½ä»¤ååŠ çš„æ˜¯çˆ¬è™«çš„æ–‡ä»¶åï¼Œåœ¨æœ¬æ–‡çš„é¡¹ç›®ä¸­ï¼Œä½¿ç”¨crawlå‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy crawl baidu<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨runspiderå°±æ˜¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy runspider baidu.py<br></code></pre></td></tr></table></figure>

<h1 id="settings"><a href="#settings" class="headerlink" title="settings"></a>settings</h1><p>ç”¨æ¥è·å–é¡¹ç›®çš„é…ç½®ä¿¡æ¯ã€‚</p>
<p>ä¾‹å¦‚è·å–é¡¹ç›®åç§°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">âœ  testproject scrapy settings --get BOT_NAME<br>testproject<br></code></pre></td></tr></table></figure>

<h1 id="edit"><a href="#edit" class="headerlink" title="edit"></a>edit</h1><p>å¦‚æœä½ ä¸ä½¿ç”¨vimä½œä¸ºç¼–è¾‘å™¨çš„è¯ï¼Œè¿™ä¸ªå‘½ä»¤ä¸å¸¸ç”¨ï¼Œå› ä¸ºè¿™ä¸ªå‘½ä»¤ä¼šè°ƒç”¨vimæ¥ç¼–è¾‘æ–‡ä»¶ã€‚</p>
<p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy edit baidu<br></code></pre></td></tr></table></figure>

<h1 id="parse"><a href="#parse" class="headerlink" title="parse"></a>parse</h1><p>è·å–ç»™å®šçš„ URL å¹¶ä½¿ç”¨ç›¸åº”çš„ spider åˆ†æå¤„ç†ã€‚å¦‚æœæ‚¨æä¾› â€“callback é€‰é¡¹,åˆ™ä½¿ç”¨ spider çš„è¯¥æ–¹æ³•å¤„ç†,å¦åˆ™ä½¿ç”¨ parse</p>
<p>ä½¿ç”¨ä¸Šä¸€ç¯‡çš„ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">scrapy parse http://quotes.toscrape.com -c parse<br></code></pre></td></tr></table></figure>

<p>æ”¯æŒçš„æ“ä½œï¼š</p>
<p>--spider = SPIDER: bypass spider autodetection and force use of specific spider è·³è¿‡è‡ªåŠ¨æ£€æµ‹ spider å¹¶å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šçš„ spider</p>
<p>--a NAME = VALUE: set spider argument (may be repeated) è®¾ç½® spider çš„å‚æ•°(å¯èƒ½è¢«é‡å¤)</p>
<p>--callback or -c: spider method to use as callback for parsing the response spider ä¸­ç”¨äºè§£æè¿”å›(response)çš„å›è°ƒå‡½æ•°</p>
<p>--pipelines: process items through pipelines åœ¨ pipeline ä¸­å¤„ç† item</p>
<p>--rules or -r: use CrawlSpider rules to discover the callback (i.e. spider method) to use for parsing the response ä½¿ç”¨ CrawlSpider è§„åˆ™æ¥å‘ç°ç”¨æ¥è§£æè¿”å›(response)çš„å›è°ƒå‡½æ•°</p>
<p>--noitems: donâ€™t show scraped items ä¸æ˜¾ç¤ºçˆ¬å–åˆ°çš„ item</p>
<p>--nolinks: donâ€™t show extracted links ä¸æ˜¾ç¤ºæå–åˆ°çš„é“¾æ¥</p>
<p>--nocolour: avoid using pygments to colorize the output é¿å…ä½¿ç”¨ pygments å¯¹è¾“å‡ºç€è‰²</p>
<p>--depth or -d: depth level for which the requests should be followed recursively (default: 1) æŒ‡å®šè·Ÿè¿›é“¾æ¥è¯·æ±‚çš„å±‚æ¬¡æ•°(é»˜è®¤:1)</p>
<p>--verbose or -v: display information for each depth level æ˜¾ç¤ºæ¯ä¸ªè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯</p>
<h1 id="bench"><a href="#bench" class="headerlink" title="bench"></a>bench</h1><p>è¿™ä¸ªå‘½ä»¤ä¼šè¿è¡Œ benchmark æµ‹è¯•ï¼Œæ¨¡æ‹Ÿæµ‹è¯•scrapyçš„çˆ¬å–é€Ÿåº¦ã€‚</p>
<h1 id="version"><a href="#version" class="headerlink" title="version"></a>version</h1><p>è¿™ä¸ªå‘½ä»¤å¯ä»¥æŸ¥è¯¢å½“å‰scrapyçš„ç‰ˆæœ¬ï¼Œå’Œä¸€äº›ä¾èµ–åº“ç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">âœ  ~ scrapy version<br>Scrapy 1.8.0<br><br>âœ  ~ scrapy version -v<br>Scrapy       : 1.8.0<br>lxml         : 4.5.0.0<br>libxml2      : 2.9.10<br>cssselect    : 1.1.0<br>parsel       : 1.5.2<br>w3lib        : 1.21.0<br>Twisted      : 19.10.0<br>Python       : 3.8.0 (v3.8.0:fa919fdf25, Oct 14 2019, 10:23:27) - [Clang 6.0 (clang-600.0.57)]<br>pyOpenSSL    : 19.1.0 (OpenSSL 1.1.1d  10 Sep 2019)<br>cryptography : 2.8<br>Platform     : macOS-10.14.6-x86_64-i386-64bit<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>Scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title>Scrapyå­¦ä¹ ç¬”è®°ï¼ˆäº”ï¼‰</title>
    <url>/115.html</url>
    <content><![CDATA[<p>æœ¬ç¯‡ä»‹ç»scrapyçš„item pipelineï¼Œå…·ä½“æ“ä½œè¦æ ¹æ®çˆ¬å–çš„å†…å®¹å†³å®šã€‚</p>
<a id="more"></a>
<p>Item Piplineæœ‰å¾ˆå¤šç”¨å¤„ï¼Œå®˜æ–¹æ–‡æ¡£ä¸¾äº†ä¸€äº›å¸¸ç”¨çš„ä¾‹å­ã€‚</p>
<blockquote>
<ul>
<li>cleansing HTML data</li>
<li>validating scraped data (checking that the items contain certain fields)</li>
<li>checking for duplicates (and dropping them)</li>
<li>storing the scraped item in a database</li>
</ul>
</blockquote>
<p>æœ‰äº†è¿™ä¸ªç»„ä»¶åœ¨å®é™…è¿‡ç¨‹ä¸­å¯¹æ•°æ®çš„å¤„ç†è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ ç¼–å†™è‡ªå·±çš„item pipelineã€‚</p>
<h2 id="process-item-self-item-spider"><a href="#process-item-self-item-spider" class="headerlink" title="process_item(self, item, spider)"></a>process_item(self, item, spider)</h2><p>æ¯ä¸ª item pipeline ç»„ä»¶éƒ½éœ€è¦è°ƒç”¨è¯¥æ–¹æ³•,è¿™ä¸ªæ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ª Item (æˆ–ä»»ä½•ç»§æ‰¿ç±»)å¯¹è±¡, æˆ–æ˜¯æŠ›å‡º DropItem å¼‚å¸¸,è¢«ä¸¢å¼ƒçš„ item å°†ä¸ä¼šè¢«ä¹‹åçš„ pipeline ç»„ä»¶æ‰€å¤„ç†ã€‚</p>
<h2 id="open-spider-self-spider"><a href="#open-spider-self-spider" class="headerlink" title="open_spider(self, spider)"></a>open_spider(self, spider)</h2><p>å½“ spider è¢«å¼€å¯æ—¶,è¿™ä¸ªæ–¹æ³•è¢«è°ƒç”¨ã€‚</p>
<h2 id="close-spider-spider"><a href="#close-spider-spider" class="headerlink" title="close_spider(spider)"></a>close_spider(spider)</h2><p>å½“ spider è¢«å…³é—­æ—¶,è¿™ä¸ªæ–¹æ³•è¢«è°ƒç”¨</p>
<h2 id="from-crawler-cls-crawler"><a href="#from-crawler-cls-crawler" class="headerlink" title="from_crawler(cls, crawler)"></a>from_crawler(cls, crawler)</h2><p>è¿™ä¸ªç±»æ–¹æ³•ï¼Œä¸»è¦ç”¨æ¥è·å–scrapyé¡¹ç›®ä¸­çš„é…ç½®ä¿¡æ¯ã€‚</p>
<h1 id="Item-pipeline-ä¾‹å­"><a href="#Item-pipeline-ä¾‹å­" class="headerlink" title="Item pipeline ä¾‹å­"></a>Item pipeline ä¾‹å­</h1><p>ä¸¾äº†ä¸¤ä¸ªå¸¸ç”¨çš„ä¾‹å­ï¼Œä¸€èˆ¬æ¥è¯´å¤Ÿç”¨äº†ï¼Œå®˜æ–¹æ–‡æ¡£è¿˜æœ‰å…¶ä»–ä¾‹å­ã€‚</p>
<h2 id="çˆ¬è™«è·å–åˆ°itemè¿›è¡Œæ“ä½œã€‚"><a href="#çˆ¬è™«è·å–åˆ°itemè¿›è¡Œæ“ä½œã€‚" class="headerlink" title="çˆ¬è™«è·å–åˆ°itemè¿›è¡Œæ“ä½œã€‚"></a>çˆ¬è™«è·å–åˆ°itemè¿›è¡Œæ“ä½œã€‚</h2><p>é¦–å…ˆåˆ¤æ–­itemçš„priceå±æ€§æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼Œå¦‚æœä¸å­˜åœ¨å°±æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> scrapy.exceptions <span class="hljs-keyword">import</span> DropItem<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PricePipeline</span>(<span class="hljs-params">object</span>):</span><br><br>    vat_factor = <span class="hljs-number">1.15</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_item</span>(<span class="hljs-params">self, item, spider</span>):</span><br>        <span class="hljs-keyword">if</span> item[<span class="hljs-string">&#x27;price&#x27;</span>]:<br>            <span class="hljs-keyword">if</span> item[<span class="hljs-string">&#x27;price_excludes_vat&#x27;</span>]:<br>                item[<span class="hljs-string">&#x27;price&#x27;</span>] = item[<span class="hljs-string">&#x27;price&#x27;</span>] * self.vat_factor<br>            <span class="hljs-keyword">return</span> item<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">raise</span> DropItem(<span class="hljs-string">&quot;Missing price in %s&quot;</span> % item)<br></code></pre></td></tr></table></figure>

<h2 id="å»é‡"><a href="#å»é‡" class="headerlink" title="å»é‡"></a>å»é‡</h2><p>è¿™ä¸ªä¾‹å­æ˜¯ä¸€ä¸ªå¯ä»¥å»é‡çš„è¿‡æ»¤å™¨,ä¸¢å¼ƒé‚£äº›å·²ç»è¢«å¤„ç†è¿‡çš„itemã€‚æˆ‘ä»¬çš„itemæœ‰å”¯ä¸€id,ä½†æ˜¯è¿”å›å†…å®¹ä¸­æœ‰è®¸å¤šç›¸åŒidï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> scrapy.exceptions <span class="hljs-keyword">import</span> DropItem<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DuplicatesPipeline</span>(<span class="hljs-params">object</span>):</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        self.ids_seen = set()<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_item</span>(<span class="hljs-params">self, item, spider</span>):</span><br>        <span class="hljs-keyword">if</span> item[<span class="hljs-string">&#x27;id&#x27;</span>] <span class="hljs-keyword">in</span> self.ids_seen:<br>            <span class="hljs-keyword">raise</span> DropItem(<span class="hljs-string">&quot;Duplicate item found: %s&quot;</span> % item)<br>        <span class="hljs-keyword">else</span>:<br>            self.ids_seen.add(item[<span class="hljs-string">&#x27;id&#x27;</span>])<br>            <span class="hljs-keyword">return</span> item<br></code></pre></td></tr></table></figure>

<p>å…ˆå®šä¹‰ä¸€ä¸ªé›†åˆï¼Œå¦‚æœidå·²ç»å­˜åœ¨å°±åˆ é™¤ï¼Œå¦‚æœä¸å­˜åœ¨å°±æ·»åŠ åˆ°é›†åˆä¸­ã€‚</p>
<h2 id="ä¿å­˜åˆ°mongoæ•°æ®åº“"><a href="#ä¿å­˜åˆ°mongoæ•°æ®åº“" class="headerlink" title="ä¿å­˜åˆ°mongoæ•°æ®åº“"></a>ä¿å­˜åˆ°mongoæ•°æ®åº“</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pymongo<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MongoPipeline</span>(<span class="hljs-params">object</span>):</span><br><br>    collection_name = <span class="hljs-string">&#x27;scrapy_items&#x27;</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, mongo_uri, mongo_db</span>):</span><br>        self.mongo_uri = mongo_uri<br>        self.mongo_db = mongo_db<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">from_crawler</span>(<span class="hljs-params">cls, crawler</span>):</span><br>        <span class="hljs-keyword">return</span> cls(<br>            mongo_uri=crawler.settings.get(<span class="hljs-string">&#x27;MONGO_URI&#x27;</span>),<br>            mongo_db=crawler.settings.get(<span class="hljs-string">&#x27;MONGO_DATABASE&#x27;</span>, <span class="hljs-string">&#x27;items&#x27;</span>)<br>        )<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">open_spider</span>(<span class="hljs-params">self, spider</span>):</span><br>        self.client = pymongo.MongoClient(self.mongo_uri)<br>        self.db = self.client[self.mongo_db]<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">close_spider</span>(<span class="hljs-params">self, spider</span>):</span><br>        self.client.close()<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_item</span>(<span class="hljs-params">self, item, spider</span>):</span><br>        self.db[self.collection_name].insert_one(dict(item))<br>        <span class="hljs-keyword">return</span> item<br></code></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç åˆ©ç”¨<code>from_crawler</code>æ–¹æ³•è·å–settingsä¸­çš„é…ç½®ä¿¡æ¯ï¼Œåœ¨spiderå¼€å¯æ—¶è¿æ¥åˆ°æ•°æ®åº“ï¼Œåœ¨spiderå…³é—­æ—¶é—´æ–­å¼€ä¸æ•°æ®åº“çš„è¿æ¥ï¼Œåœ¨æ‰§è¡Œpiplineè¿‡ç¨‹ä¸­å°†itemä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</p>
<h1 id="é…ç½®item-pipline"><a href="#é…ç½®item-pipline" class="headerlink" title="é…ç½®item pipline"></a>é…ç½®item pipline</h1><p>åœ¨settingsä¸­æ‰¾åˆ°<code>ITEM_PIPELINES</code>å±æ€§ï¼Œå†™å…¥ç±»çš„åç§°å’Œä¼˜å…ˆçº§ã€‚ <code>python ITEM_PIPELINES = &#123; &#39;myproject.pipelines.PricePipeline&#39;: 300, &#39;myproject.pipelines.MongoPipeline&#39;: 400, &#125; â€‹</code> æ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¦æ³¨æ„æ•°å€¼çš„èŒƒå›´æ˜¯<strong>0ï½1000</strong>ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>Scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title>Scrapyå­¦ä¹ ç¬”è®°ï¼ˆå…­ï¼‰</title>
    <url>/112.html</url>
    <content><![CDATA[<p>æœ¬æ–‡æ˜¯ä»‹ç»ScrapyåŸºç¡€ç”¨æ³•çš„æœ€åä¸€ç¯‡ï¼Œä»‹ç»Scrapyä¸­Download Middlewareçš„ç”¨æ³•ã€‚</p>
<a id="more"></a>
<p>Download Middlewareæ˜¯ä»‹äºScrapyçš„Request/Responseå¤„ç†çš„é’©å­æ¡†æ¶ã€‚æ˜¯ç”¨äºå…¨å±€ä¿®æ”¹Scrapy Requestå’ŒResponseçš„ä¸€ä¸ªè½»é‡ã€åº•å±‚çš„ç³»ç»Ÿã€‚</p>
<h1 id="ç¼–å†™ä¸­é—´ä»¶"><a href="#ç¼–å†™ä¸­é—´ä»¶" class="headerlink" title="ç¼–å†™ä¸­é—´ä»¶"></a>ç¼–å†™ä¸­é—´ä»¶</h1><p>ä¸­é—´ä»¶å®šä¹‰äº†ä¸€äº›æ–¹æ³•ï¼Œåªè¦æˆ‘ä»¬äº†è§£è¿™ç§æ–¹æ³•ä»¥åï¼Œä¹Ÿå°±å¯ä»¥è‡ªå·±ç¼–å†™ä¸­é—´ä»¶äº†ã€‚</p>
<h2 id="Process-request-Request-Spider"><a href="#Process-request-Request-Spider" class="headerlink" title="Process_request(Request, Spider)"></a>Process_request(Request, Spider)</h2><blockquote>
<p>æ¯ä¸ªRequesté€šè¿‡Download Middlewareæ—¶,è¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚Process_request()å¿…é¡»è¿”å›å…¶ä¸€ï¼šNoneï¼›Responseï¼›Requestï¼›Raise Ignorerequestã€‚ å¦‚æœè¿”å›Noneï¼ŒScrapyå°†ç»§ç»­å¤„ç†è¯¥Requestï¼Œæ‰§è¡Œå…¶ä»–çš„ä¸­é—´ä»¶çš„ç›¸åº”æ–¹æ³•,ç›´åˆ°åˆé€‚çš„ä¸‹è½½å™¨å¤„ç†å‡½æ•°è¢«è°ƒç”¨,è¯¥Requestè¢«æ‰§è¡Œã€‚ å¦‚æœè¿”å›Responseå¯¹è±¡,Scrapyå°†ä¸ä¼šè°ƒç”¨ä»»ä½•å…¶ä»–çš„Process_request()æˆ–Process_exception()æ–¹æ³•,æˆ–ç›¸åº”åœ°ä¸‹è½½å‡½æ•°; å…¶å°†è¿”å›è¯¥ Responseã€‚å·²å®‰è£…çš„ä¸­é—´ä»¶çš„ Process_response()æ–¹æ³•åˆ™ä¼šåœ¨æ¯ä¸ªResponseè¿”å›æ—¶è¢«è°ƒç”¨ã€‚ å¦‚æœå…¶è¿”å›Requestå¯¹è±¡,Scrapyåˆ™åœæ­¢è°ƒç”¨Process_requestæ–¹æ³•å¹¶é‡æ–°è°ƒåº¦è¿”å›çš„ Requestã€‚å½“æ–°è¿”å›çš„Requestè¢«æ‰§è¡Œå, ç›¸åº”åœ°ä¸­é—´ä»¶é“¾å°†ä¼šæ ¹æ®ä¸‹è½½çš„Responseè¢«è°ƒç”¨ã€‚ å¦‚æœå…¶ Raise ä¸€ä¸ª Ignorerequest å¼‚å¸¸,åˆ™å®‰è£…çš„ä¸‹è½½ä¸­é—´ä»¶çš„ Process_exception() æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ–¹æ³•å¤„ç†è¯¥å¼‚å¸¸, åˆ™Requestçš„Errback(Request.Errback)æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚å¦‚æœæ²¡æœ‰ä»£ç å¤„ç†æŠ›å‡ºçš„å¼‚å¸¸, åˆ™è¯¥å¼‚å¸¸è¢«å¿½ç•¥ä¸”ä¸è®°å½•(ä¸åŒäºå…¶ä»–å¼‚å¸¸é‚£æ ·)ã€‚</p>
</blockquote>
<p>å¦‚æœåœ¨çˆ¬å–è¿‡ç¨‹ä¸­æƒ³è¦æ·»åŠ ä»£ç†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•ã€‚</p>
<h2 id="Process-response-Request-Response-Spider"><a href="#Process-response-Request-Response-Spider" class="headerlink" title="Process_response(Request, Response, Spider)"></a>Process_response(Request, Response, Spider)</h2><blockquote>
<p>Process_request()å¿…é¡»è¿”å›ä»¥ä¸‹ä¹‹ä¸€ï¼šè¿”å›ä¸€ä¸ª Response å¯¹è±¡ã€è¿”å›ä¸€ä¸ª Request å¯¹è±¡æˆ– Raise ä¸€ä¸ª Ignorerequest å¼‚å¸¸ã€‚ å¦‚æœå…¶è¿”å›ä¸€ä¸ª Response (å¯ä»¥ä¸ä¼ å…¥çš„Responseç›¸åŒ,ä¹Ÿå¯ä»¥æ˜¯å…¨æ–°çš„å¯¹è±¡)è¯¥Response ä¼šè¢«åœ¨é“¾ä¸­çš„å…¶ä»–ä¸­é—´ä»¶çš„ Process_response()æ–¹æ³•å¤„ç†ã€‚ å¦‚æœå…¶è¿”å›ä¸€ä¸ª Request å¯¹è±¡,åˆ™ä¸­é—´ä»¶é“¾åœæ­¢,è¿”å›çš„ Request ä¼šè¢«é‡æ–°è°ƒåº¦ä¸‹è½½ã€‚å¤„ç†ç±»ä¼¼äº Process_request()è¿”å› Request æ‰€åšçš„é‚£æ ·ã€‚ å¦‚æœå…¶æŠ›å‡ºä¸€ä¸ªIgnorerequestå¼‚å¸¸,åˆ™è°ƒç”¨Requestçš„Errback(Request.Errback)ã€‚å¦‚æœæ²¡æœ‰ä»£ç å¤„ç†æŠ›å‡ºçš„å¼‚å¸¸,åˆ™è¯¥å¼‚å¸¸è¢«å¿½ç•¥ä¸”ä¸è®°å½•(ä¸åŒäºå…¶ä»–å¼‚å¸¸é‚£æ ·)ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ–¹æ³•ä¿®æ”¹çˆ¬å–ç½‘é¡µçš„çŠ¶æ€ç ã€‚</p>
<h2 id="Process-exception-Request-Exception-Spider"><a href="#Process-exception-Request-Exception-Spider" class="headerlink" title="Process_exception(Request, Exception, Spider)"></a>Process_exception(Request, Exception, Spider)</h2><p>å½“ä¸‹è½½å¤„ç†å™¨(Download Handler)æˆ– Process_request()(ä¸‹è½½ä¸­é—´ä»¶)æŠ›å‡ºå¼‚å¸¸(åŒ…æ‹¬ Ignorerequestå¼‚å¸¸)æ—¶,Scrapy è°ƒç”¨ Process_exception()ã€‚</p>
<blockquote>
<p>Process_exception()åº”è¯¥è¿”å›ä»¥ä¸‹ä¹‹ä¸€: è¿”å› None ã€ä¸€ä¸ª Response å¯¹è±¡ã€æˆ–è€…ä¸€ä¸ª Request å¯¹è±¡ã€‚ å¦‚æœå…¶è¿”å› None ,Scrapy å°†ä¼šç»§ç»­å¤„ç†è¯¥å¼‚å¸¸,æ¥ç€è°ƒç”¨å·²å®‰è£…çš„å…¶ä»–ä¸­é—´ä»¶çš„Process_exception()æ–¹æ³•,ç›´åˆ°æ‰€æœ‰ä¸­é—´ä»¶éƒ½è¢«è°ƒç”¨å®Œæ¯•,åˆ™è°ƒç”¨é»˜è®¤çš„å¼‚å¸¸å¤„ç†ã€‚ å¦‚æœå…¶è¿”å›ä¸€ä¸ª Response å¯¹è±¡,åˆ™å·²å®‰è£…çš„ä¸­é—´ä»¶é“¾çš„ Process_response()æ–¹æ³•è¢«è°ƒç”¨ã€‚Scrapy å°†ä¸ä¼šè°ƒç”¨ä»»ä½•å…¶ä»–ä¸­é—´ä»¶çš„ Process_exception() æ–¹æ³•ã€‚ å¦‚æœå…¶è¿”å›ä¸€ä¸ª Request å¯¹è±¡, åˆ™è¿”å›çš„ Request å°†ä¼šè¢«é‡æ–°è°ƒç”¨ä¸‹è½½ã€‚è¿™å°†åœæ­¢ä¸­é—´ä»¶çš„ Process_exception()æ–¹æ³•æ‰§è¡Œ,å°±å¦‚è¿”å›ä¸€ä¸ª Response çš„é‚£æ ·ã€‚</p>
</blockquote>
<p>è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨çˆ¬è™«è¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸æä¾›è§£å†³åŠæ³•ã€‚å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨è¯¥ä¸­é—´ä»¶è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>Scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title>Scrapyå­¦ä¹ ç¬”è®°ï¼ˆå››ï¼‰</title>
    <url>/114.html</url>
    <content><![CDATA[<p>å­¦ä¹ scrapyä¸­spiderçš„ç”¨æ³•ï¼Œä¸»è¦ä»‹ç»ä¸€äº›æ–¹æ³•çš„ä½¿ç”¨ã€‚</p>
<a id="more"></a>
<h1 id="name"><a href="#name" class="headerlink" title="name"></a>name</h1><p>æ¯ä¸ªspideréƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œè¿™ä¸ªåå­—å¿…é¡»å”¯ä¸€ï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½æŒ‡å®šè¿è¡Œæˆ‘ä»¬çš„spiderã€‚å‘½åæ²¡ä»€ä¹ˆè¦æ±‚ï¼Œä¸è¿‡å°½åŠ›è¦ç›´æ¥ä½“ç°spiderï¼Œæ¯”å¦‚çˆ¬å–taobao.comï¼Œé‚£æˆ‘ä»¬å°±å–åtaobaoã€‚</p>
<h1 id="start-urls"><a href="#start-urls" class="headerlink" title="start_urls"></a>start_urls</h1><p>çˆ¬è™«èµ·å§‹åˆ—è¡¨ã€‚è¿™é‡Œä¿å­˜çš„éƒ½æ˜¯å¾…çˆ¬å–çš„URLã€‚</p>
<h1 id="allowed-domains"><a href="#allowed-domains" class="headerlink" title="allowed_domains"></a>allowed_domains</h1><p>ç”¨æ¥å®šä¹‰å…è®¸çˆ¬è™«çˆ¬å–çš„å–åã€‚ä¾‹å¦‚åœ¨çˆ¬å–æ·˜å®è¿‡ç¨‹ä¸­çˆ¬å–åˆ°å…¶ä»–åŸŸåétaobao.comï¼Œé‚£ä¹ˆå°±è·³è¿‡ã€‚è¿™ä¸ªé€‰é¡¹æ˜¯å¯é€‰çš„ã€‚</p>
<h1 id="custom-settings"><a href="#custom-settings" class="headerlink" title="custom_settings"></a>custom_settings</h1><p>å…ˆå£°æ˜è¿™ä¸ªä¸ºå­—å…¸æ ¼å¼ã€‚spiderä¸­æœ‰ä¸€äº›ç‰¹æ®Šçš„é…ç½®ä¿¡æ¯å¯ä»¥ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œè®¾ç½®ä»¥ååœ¨è¿è¡Œspiderä¼šç›´æ¥ä½¿ç”¨custom_settingsé…ç½®çš„ä¿¡æ¯ï¼Œè·³è¿‡æ£€æŸ¥é…ç½®æ–‡ä»¶ã€‚</p>
<h1 id="from-crawler"><a href="#from-crawler" class="headerlink" title="from_crawler()"></a>from_crawler()</h1><p>æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªæ–¹æ³•è·å–çˆ¬è™«çš„é…ç½®ä¿¡æ¯ï¼Œä¾‹å¦‚åœ¨ä¸Šä¸€èŠ‚è®²åˆ°çš„ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@classmethod</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">from_crawler</span>(<span class="hljs-params">cls, crawler</span>):</span><br>    <span class="hljs-keyword">return</span> cls(<br>        mongo_uri=crawler.settings.get(<span class="hljs-string">&#x27;MONGO_URI&#x27;</span>),<br>        mongo_db=crawler.settings.get(<span class="hljs-string">&#x27;MONGO_DB&#x27;</span>)<br>        )<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªåœ¨è·å–é…ç½®ä¿¡æ¯çš„æ—¶å€™ç»å¸¸ç”¨åˆ°ã€‚</p>
<h1 id="start-requests"><a href="#start-requests" class="headerlink" title="start_requests()"></a>start_requests()</h1><p>è¿™ä¸ªæ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ã€‚è¯¥å¯¹è±¡åŒ…å«äº†spiderç”¨äºçˆ¬å–çš„ç¬¬ä¸€ä¸ªRequestã€‚æˆ‘ä»¬å¯ä»¥åœ¨å‚æ•°ä¸­å®šä¹‰URLï¼Œmethodï¼Œcallbackç­‰ä¿¡æ¯ã€‚</p>
<h1 id="make-requests-from-url-url"><a href="#make-requests-from-url-url" class="headerlink" title="make_requests_from_url(url)"></a>make_requests_from_url(url)</h1><p>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªURLå¹¶è¿”å›ç”¨äºçˆ¬å–çš„Requestå¯¹è±¡ã€‚è¯¥æ–¹æ³•åœ¨åˆå§‹åŒ–requestæ—¶è¢«start_requests()è°ƒç”¨,ä¹Ÿè¢«ç”¨äºè½¬åŒ–urlä¸ºrequestã€‚</p>
<h1 id="logger"><a href="#logger" class="headerlink" title="logger"></a>logger</h1><p>ç”¨æ¥è¾“å‡ºæ—¥å¿—ï¼Œä¾‹å¦‚è¾“å‡ºè®¿é—®ç½‘é¡µçš„çŠ¶æ€ç ï¼š <code>logger.info(response.status)</code> åœ¨è¾“å‡ºæ—¥å¿—ä¸­ä¼šä½“ç°URLçš„çŠ¶æ€ç ã€‚</p>
<h1 id="parse"><a href="#parse" class="headerlink" title="parse"></a>parse</h1><p>é»˜è®¤å›è°ƒå‡½æ•°ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ²¡æœ‰ç‰¹æ®Šè§„å®šï¼Œéƒ½æ˜¯ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥è§£æç½‘é¡µã€‚</p>
<h1 id="closed"><a href="#closed" class="headerlink" title="closed"></a>closed</h1><p>å½“spiderå…³é—­æ—¶,è¯¥å‡½æ•°è¢«è°ƒç”¨ã€‚ä¾‹å¦‚æˆ‘ä»¬åœ¨ç»“æŸçˆ¬è™«æ—¶è¦æ–­å¼€ä¸æ•°æ®åº“çš„é“¾æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚ä¹Ÿå¯ä»¥åœ¨è¿è¡Œç»“æŸåæç¤ºæˆ‘ä»¬å·²ç»è¿è¡Œå®Œæˆã€‚ è¿™äº›å°±æ˜¯spiderä¸­å¸¸ç”¨çš„æ–¹æ³•å’Œå±æ€§ï¼Œè¯»è€…ä»¬å¯ä»¥æŒ‰éœ€ä½¿ç”¨ï¼Œè¯¦ç»†å†…å®¹å¯ä»¥é˜…è¯»å®˜æ–¹æ–‡æ¡£â€”â€”<a href="https://doc.scrapy.org/en/latest/topics/spiders.html">spiderç”¨æ³•</a>ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>Scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Sakura Frp å®ç°å†…ç½‘ç©¿é€</title>
    <url>/290.html</url>
    <content><![CDATA[<p>å†…ç½‘ç©¿é€ï¼Œç®€å•è¯´å°±æ˜¯é€šè¿‡å¤–ç½‘è®¿é—®å†…ç½‘ã€‚å†è¯´çš„é€šä¿—ä¸€ç‚¹å°±æ˜¯å®ç°æ‰‹æœºä½¿ç”¨èœ‚çªæ•°æ®æ¥è¿æ¥å®¶ä¸­çš„æœåŠ¡å™¨ï¼ˆæ ‘è“æ´¾ï¼‰ã€‚</p>
<a id="more"></a>
<h1 id="ä¸ºä»€ä¹ˆä½¿ç”¨å†…ç½‘ç©¿é€"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨å†…ç½‘ç©¿é€" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨å†…ç½‘ç©¿é€"></a>ä¸ºä»€ä¹ˆä½¿ç”¨å†…ç½‘ç©¿é€</h1><p>æ¯”å¦‚è¯´å®¶ä¸­æœ‰ä¸€å°é—²ç½®çš„ç”µè„‘æˆ–è€…æ ‘è“æ´¾ï¼Œå¯ä»¥åœ¨å…¶ä¸Šé¢æ­å»ºåšå®¢ã€‚ä¸€èˆ¬æƒ…å†µæ­å»ºå¥½åªèƒ½é€šè¿‡å†…ç½‘ IP è®¿é—®ã€‚è¿™æ—¶å°±éœ€è¦ç”¨åˆ°å†…ç½‘ç©¿é€æœåŠ¡ï¼Œè®©å¤–ç½‘ä¹Ÿå¯ä»¥è®¿é—®æˆ‘ä»¬æ­å»ºå¥½çš„ç½‘ç«™ã€‚</p>
<h1 id="Sakura-Frp"><a href="#Sakura-Frp" class="headerlink" title="Sakura Frp"></a>Sakura Frp</h1><p><a href="https://www.natfrp.com/">SAKURA FRP</a> æä¾›å…è´¹çš„å†…ç½‘ç©¿é€æœåŠ¡ï¼Œå¹¶ä¸”æ‹¥æœ‰å¼ºå¤§çš„æœåŠ¡å™¨èµ„æºã€‚</p>
<p><img src="https://i.loli.net/2020/02/28/xA3phTQNJXzy7Si.png"></p>
<p>æˆ‘ä»¬æ³¨å†Œå¥½è´¦å·å°±å¯ä»¥å¼€å§‹ä½¿ç”¨ã€‚ä½¿ç”¨å†…ç½‘ç©¿é€æœåŠ¡å°±éœ€è¦åˆ›å»ºä¸€ä¸ªå†…ç½‘ç©¿é€éš§é“ã€‚å¯ä»¥çœ‹åˆ°è¿˜æ˜¯æœ‰å¾ˆå¤šéš§é“ä¾›æˆ‘ä»¬é€‰æ‹©çš„ã€‚</p>
<p><img src="https://i.loli.net/2020/02/28/XMjBSqCgVp7AfE8.png" alt="éš§é“"></p>
<h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><p>è¿™é‡Œæˆ‘ä½¿ç”¨æ ‘è“æ´¾ Adguard Home çš„ç®¡ç†é¡µé¢ä½œä¸ºç¤ºä¾‹ï¼Œåšå®¢æˆ–è€…ç½‘ç«™å’Œè¿™ä¸ªé…ç½®ä¸€æ ·ã€‚</p>
<p>åœ¨æœ¬åœ°ï¼Œæˆ‘é€šè¿‡ <strong>192.168.31.181:80</strong> è®¿é—®åˆ°è¿™ä¸ªé¡µé¢ï¼š</p>
<p><img src="https://i.loli.net/2020/02/28/QvcDwlW5YxuzLh1.png" alt="adguard"></p>
<p>å¦‚ä½•é€šè¿‡é…ç½® Sakura Frp æ¥è®¿é—®è¿œç¨‹è®¿é—®è¿™ä¸ªé¡µé¢å‘¢ï¼Ÿ</p>
<p>å¦‚æœä½ çš„åŸŸåæ²¡æœ‰å¤‡æ¡ˆï¼Œåœ¨é€‰æ‹©æœåŠ¡å™¨ä¸€æ éœ€è¦é€‰æ‹©éå¤§é™†æœåŠ¡å™¨ã€‚</p>
<p>éš§é“ç±»å‹æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µé€‰æ‹© HTTP æˆ– HTTPSã€‚</p>
<p>æœ¬åœ°åœ°å€å¡«å†™é»˜è®¤çš„ 127.0.0.1 å³å¯ã€‚</p>
<p>æœ¬åœ°ç«¯å£å¡«å†™æœ¬åœ°ç½‘ç«™æ˜ å°„çš„ç«¯å£ï¼Œæ¯”å¦‚è¯´ Adguard Home çš„ç®¡ç†é¡µé¢æ˜¯ 80 ç«¯å£ï¼Œè¿™é‡Œå°±å¡«å†™ 80 ç«¯å£ï¼Œå¦‚æœä½ çš„ç½‘ç«™å¼€å¯äº† SSLï¼Œå°±æ˜¯ 443 ç«¯å£ã€‚</p>
<p>è¿œç¨‹ç«¯å£éšä¾¿å¡«å†™ã€‚æ˜ å°„çš„ç«¯å£æœ€å°ä¸º 10240ï¼Œæœ€å¤§ä¸º 65535ã€‚</p>
<p>ç»‘å®šåŸŸåå°±æ˜¯ä½ ç½‘ç«™çš„åŸŸåã€‚è¿™é‡Œä½¿ç”¨ adguard.lijianxun.topã€‚</p>
<p><img src="https://i.loli.net/2020/02/28/eJpkj5NA7lGryIR.png"></p>
<h1 id="ä¸‹è½½-Frp-å®¢æˆ·ç«¯"><a href="#ä¸‹è½½-Frp-å®¢æˆ·ç«¯" class="headerlink" title="ä¸‹è½½ Frp å®¢æˆ·ç«¯"></a>ä¸‹è½½ Frp å®¢æˆ·ç«¯</h1><p>é€šè¿‡ ssh è¿æ¥åˆ°æ ‘è“æ´¾ï¼Œä¸‹è½½å®¢æˆ·ç«¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">wget https://qianqu.me/frp/frpc_linux_arm<br></code></pre></td></tr></table></figure>

<p>ä¸‹è½½å¥½ä»¥åè®¾ç½®æƒé™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">sudo chmod +x frpc_linux_arm<br></code></pre></td></tr></table></figure>

<p>è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">./frpc_linux_arm<br></code></pre></td></tr></table></figure>

<p>å¯†é’¥åœ¨ç”¨æˆ·ä¿¡æ¯ä¸­å¯ä»¥æŸ¥çœ‹ï¼ŒæœåŠ¡å™¨ ID åœ¨ç»ˆç«¯æŸ¥çœ‹ã€‚ä¾‹å¦‚æˆ‘ä»¬é€‰æ‹©é¦™æ¸¯äº‘åœ°ï¼Œå¯¹åº” ID æ˜¯ 27ã€‚</p>
<p><img src="https://i.loli.net/2020/02/28/IX3E28qfnidUpoO.png" alt="ç»ˆç«¯"></p>
<h1 id="åŸŸåè§£æ"><a href="#åŸŸåè§£æ" class="headerlink" title="åŸŸåè§£æ"></a>åŸŸåè§£æ</h1><p><img src="https://i.loli.net/2020/02/28/qIiZ9PUa3nou27H.png" alt="åŸŸåè§£æ"></p>
<p>è®¾ç½®å¥½åŸŸåè§£æä¹‹åï¼Œæˆ‘ä»¬å°±èƒ½é€šè¿‡è‡ªå®šä¹‰åŸŸåè®¿é—®ç½‘é¡µäº†ã€‚</p>
<p><img src="https://i.loli.net/2020/02/28/ByFfX4s2xmlcCSR.png" alt="adguard"></p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>å†…ç½‘ç©¿é€</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨è…¾è®¯ CDN åŠ é€Ÿä½ çš„ç«™ç‚¹</title>
    <url>/151.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2018/12/10/10/21/earth-3866609__480.jpg"></p>
<h2 id="ä»€ä¹ˆæ˜¯å†…å®¹åˆ†å‘ç½‘ç»œï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å†…å®¹åˆ†å‘ç½‘ç»œï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å†…å®¹åˆ†å‘ç½‘ç»œï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å†…å®¹åˆ†å‘ç½‘ç»œï¼Ÿ</h2><p>å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆContent Delivery Networkï¼ŒCDNï¼‰ï¼Œæ˜¯åœ¨ç°æœ‰ Internet ä¸­å¢åŠ çš„ä¸€å±‚æ–°çš„ç½‘ç»œæ¶æ„ï¼Œç”±éå¸ƒå…¨å›½çš„é«˜æ€§èƒ½åŠ é€ŸèŠ‚ç‚¹æ„æˆã€‚è¿™äº›é«˜æ€§èƒ½çš„æœåŠ¡èŠ‚ç‚¹éƒ½ä¼šæŒ‰ç…§ä¸€å®šçš„ç¼“å­˜ç­–ç•¥å­˜å‚¨æ‚¨çš„ä¸šåŠ¡å†…å®¹ï¼Œå½“æ‚¨çš„ç”¨æˆ·å‘æ‚¨çš„æŸä¸€ä¸šåŠ¡å†…å®¹å‘èµ·è¯·æ±‚æ—¶ï¼Œè¯·æ±‚ä¼šè¢«è°ƒåº¦è‡³æœ€æ¥è¿‘ç”¨æˆ·çš„æœåŠ¡èŠ‚ç‚¹ï¼Œç›´æ¥ç”±æœåŠ¡èŠ‚ç‚¹å¿«é€Ÿå“åº”ï¼Œæœ‰æ•ˆé™ä½ç”¨æˆ·è®¿é—®å»¶è¿Ÿï¼Œæå‡å¯ç”¨æ€§ã€‚</p>
<p>CDN æœ‰æ•ˆåœ°è§£å†³äº†ç›®å‰äº’è”ç½‘ä¸šåŠ¡ä¸­ç½‘ç»œå±‚é¢çš„ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>ç”¨æˆ·ä¸ä¸šåŠ¡æœåŠ¡å™¨åœ°åŸŸé—´ç‰©ç†è·ç¦»è¾ƒè¿œï¼Œéœ€è¦è¿›è¡Œå¤šæ¬¡ç½‘ç»œè½¬å‘ï¼Œä¼ è¾“å»¶æ—¶è¾ƒé«˜ä¸”ä¸ç¨³å®šã€‚</li>
<li>ç”¨æˆ·ä½¿ç”¨è¿è¥å•†ä¸ä¸šåŠ¡æœåŠ¡å™¨æ‰€åœ¨è¿è¥å•†ä¸åŒï¼Œè¯·æ±‚éœ€è¦è¿è¥å•†ä¹‹é—´è¿›è¡Œäº’è”è½¬å‘ã€‚</li>
<li>ä¸šåŠ¡æœåŠ¡å™¨ç½‘ç»œå¸¦å®½ã€å¤„ç†èƒ½åŠ›æœ‰é™ï¼Œå½“æ¥æ”¶åˆ°æµ·é‡ç”¨æˆ·è¯·æ±‚æ—¶ï¼Œä¼šå¯¼è‡´å“åº”é€Ÿåº¦é™ä½ã€å¯ç”¨æ€§é™ä½ã€‚</li>
</ol>
<p>CDN æ¥å…¥ç®€å•ï¼Œæ‚¨æ— éœ€è°ƒæ•´è‡ªèº«ä¸šåŠ¡ç»“æ„ï¼Œæˆ–æ˜¯è¿›è¡Œå¤æ‚çš„æ“ä½œé…ç½®ï¼Œå³å¯äº«å—å…¨çƒ CDN åŠ é€ŸæœåŠ¡ã€‚æ‚¨å¯ä»¥é€šè¿‡ å¿«é€Ÿå…¥é—¨ï¼Œè½»æ¾å¯åŠ¨æ‚¨çš„ CDN åŠ é€ŸæœåŠ¡ã€‚</p>
<p>ä»¥ä¸Šéƒ¨åˆ†æ¥è‡ª<a href="https://cloud.tencent.com/document/product/228/2939">å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆè…¾è®¯äº‘æ–‡æ¡£ä¸­å¿ƒï¼‰</a>ã€‚</p>
<a id="more"></a>
<p>è¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å§‹æ•™ç¨‹ã€‚</p>
<h2 id="ä½¿ç”¨å‰æ"><a href="#ä½¿ç”¨å‰æ" class="headerlink" title="ä½¿ç”¨å‰æ"></a>ä½¿ç”¨å‰æ</h2><ol>
<li>å¼€é€šè…¾è®¯ CDN æœåŠ¡ï¼ˆéœ€è¦è…¾è®¯äº‘è´¦æˆ·å®åè®¤è¯ï¼‰ã€‚</li>
<li>åŸŸåå¤‡æ¡ˆã€‚</li>
</ol>
<p>åˆæ¬¡ä½¿ç”¨è…¾è®¯ CDN æœåŠ¡ï¼Œä¼šèµ é€ 6 ä¸ªæœˆçš„æ¯æœˆ 50G æµé‡ï¼Œå¯¹äºæˆ‘è¿™æ ·çš„å°ç«™æ˜¯ç»°ç»°æœ‰ä½™äº†ã€‚ï¼ˆä¹‹åæ€ä¹ˆè®¡è´¹æˆ‘å¿˜è®°äº†ï¼Œå¥½åƒæ˜¯æ¯æœˆæœ‰ 10G æµé‡ï¼Ÿï¼‰</p>
<h2 id="å¼€å§‹é…ç½®"><a href="#å¼€å§‹é…ç½®" class="headerlink" title="å¼€å§‹é…ç½®"></a>å¼€å§‹é…ç½®</h2><h3 id="æ¥å…¥åŸŸå"><a href="#æ¥å…¥åŸŸå" class="headerlink" title="æ¥å…¥åŸŸå"></a>æ¥å…¥åŸŸå</h3><p><img src="https://i.loli.net/2020/02/07/DzBYNet8gvZsUdp.png" alt="åŸŸåç®¡ç†ç•Œé¢"></p>
<p>å¦‚æœä½ æ˜¯åˆæ¬¡è¿›å…¥ï¼Œè‚¯å®šæ˜¯æ²¡æœ‰é…ç½®çš„ã€‚ç‚¹å‡»å·¦ä¾§çš„åŸŸåç®¡ç†ï¼Œç‚¹å‡»æ·»åŠ åŸŸåã€‚</p>
<p>åŸŸåé…ç½®å’Œæºç«™é…ç½®ï¼š</p>
<p><img src="https://i.loli.net/2020/02/07/jLNcGfyDqk4egMI.png" alt="åŸŸåé…ç½®å’Œæºç«™é…ç½®"></p>
<p>åŸŸåå¡«å…¥ä½ éœ€è¦åŠ é€Ÿçš„åŸŸåï¼Œè¿™é‡Œæˆ‘å®šä¹‰ä¸º <code>cdn.lijianxun.top</code>ï¼Œå¦‚æœåªæ˜¯åŠ é€Ÿç½‘ç«™ï¼Œé€‰æ‹©é™æ€åŠ é€Ÿå³å¯ã€‚ä¸‹è½½åŠ é€Ÿå’Œæµåª’ä½“ç‚¹æ’­åŠ é€Ÿåˆ†åˆ«å¯¹åº”ä¸‹è½½æœåŠ¡å’Œè§†é¢‘æœåŠ¡ã€‚</p>
<p>æºç«™é…ç½®ä¸­æºç«™åœ°å€å¡«å…¥åŸŸåå¯¹åº” IP åœ°å€ï¼Œä¹Ÿå°±æ˜¯ç½‘ç«™æ²¡åŠ é€Ÿä¹‹å‰ï¼ŒåŸŸåç»‘å®šçš„ä¸»æœº IP åœ°å€ã€‚å›æºåè®®æ ¹æ®è‡ªèº«æƒ…å†µç¡®å®šï¼Œå¯ä»¥é€‰æ‹©åè®®è·Ÿéšã€‚å›æºåŸŸåå’ŒåŠ é€ŸåŸŸåä¸€è‡´ã€‚</p>
<p><img src="https://i.loli.net/2020/02/07/MZioxHyWtaSdCpY.png" alt="åŠ é€ŸæœåŠ¡"></p>
<p>è¿™é‡Œä¸»è¦æ˜¯é™æ€æ–‡ä»¶ç¼“å­˜é…ç½®ã€‚åŸºæœ¬ä¸Šéƒ½æ˜¯å‚è€ƒç½‘ä¸Šé…ç½®çš„ï¼Œæ¯”è¾ƒå¥½ç†è§£ã€‚</p>
<p>ç¼“å­˜ <code>/wp-admin</code> å¯èƒ½å¯¼è‡´ä»ªè¡¨ç›˜æ‰“ä¸å¼€ï¼Œæ‰€ä»¥è¿™é‡Œåˆ·æ–°æ—¶é—´æ”¹ä¸º 0 ç§’ï¼Œ0 ç§’è¡¨ç¤ºä¸ç¼“å­˜ã€‚</p>
<p><em>ä¸è¿‡å®Œæ•´ä¸€å¥—é…ç½®ä¸‹æ¥æ„Ÿè§‰å¹¶æ²¡æœ‰ç”¨åˆ° <code>/wp-admin</code> è¿™ä¸€æ¡ï¼Œä¸‹æ–‡è§£é‡Šã€‚ä½†æ˜¯å®åœ¨æ‡’å¾—å°è¯•äº†ï¼Œå…ˆè¿™ä¹ˆç”¨ç€ã€‚</em></p>
<p>ç®€å•è®¾ç½®å®Œæˆåï¼Œå°±å¯ä»¥é…ç½®è¯¦æƒ…äº†ã€‚</p>
<p>ç¼“å­˜è¿‡æœŸé…ç½®ï¼š</p>
<p><img src="https://i.loli.net/2020/02/07/xSCt1lbqPEVfgeZ.png" alt="ç¼“å­˜è¿‡æœŸé…ç½®"></p>
<p>æ‰“å¼€é«˜çº§ç¼“å­˜è¿‡æœŸè®¾ç½®ã€‚</p>
<p>é«˜çº§é…ç½®ä¸­ï¼Œæˆ‘é…ç½®äº†ä»¥ä¸‹å‡ é¡¹ï¼š</p>
<p><img src="https://i.loli.net/2020/02/07/WuJiRoefkZGbCXs.png" alt="é«˜çº§é…ç½®1"></p>
<p><img src="https://i.loli.net/2020/02/07/TtHJzoCIil1jZGc.png" alt="é«˜çº§é…ç½®0"></p>
<p>HTTPS è¯ä¹¦å¯ä»¥ä½¿ç”¨è…¾è®¯äº‘æä¾›çš„å…è´¹è¯ä¹¦ï¼Œå¤§æ¦‚ä¸åˆ°äº”åˆ†é’Ÿå°±ç”³è¯·æˆåŠŸã€‚å…¶ä»–é€‰é¡¹å¯ä»¥ç‚¹å¼€è¯¦æƒ…æŸ¥çœ‹ï¼Œéƒ½æ¯”è¾ƒå¥½ç†è§£ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±ç«™ç‚¹é…ç½®ã€‚</p>
<p>è¿™æ ·å°±ç®—åŸŸåæ¥å…¥å®Œæˆã€‚</p>
<h3 id="é…ç½®-Nginx"><a href="#é…ç½®-Nginx" class="headerlink" title="é…ç½® Nginx"></a>é…ç½® Nginx</h3><p>æ˜¯è¿™æ ·ï¼Œå¯¹äºç½‘ç«™ï¼Œæˆ‘ä»¬åŠ é€Ÿ <code>wp-content</code> å’Œ <code>wp-includes</code> ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥åœ¨è®¿é—®æºç«™ï¼ˆ<a href="https://lijianxun.top/%EF%BC%89%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E8%AE%A9">https://lijianxun.top/ï¼‰çš„æ—¶å€™ï¼Œè®©</a> <code>wp-content</code> å’Œ <code>wp-includes</code> è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹çš„å†…å®¹èµ° CDN åŠ é€Ÿã€‚æ‰€ä»¥éœ€è¦ä¿®æ”¹ Nginx é…ç½®ã€‚</p>
<p>é¦–å…ˆéœ€è¦åœ¨æºç«™ server é…ç½®ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs config">sub_filter &#39;https:&#x2F;&#x2F;resource.lijianxun.top&#x2F;wp-content&#x2F;&#39; &#39;https:&#x2F;&#x2F;cdn.lijianxun.top&#x2F;wp-content&#x2F;&#39;;<br>sub_filter &#39;https:&#x2F;&#x2F;resource.lijianxun.top&#x2F;wp-includes&#x2F;&#39; &#39;https:&#x2F;&#x2F;cdn.lijianxun.top&#x2F;wp-includes&#x2F;&#39;;<br>sub_filter_types *;<br>sub_filter_once off;<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·ä¿è¯åœ¨è®¿é—® lijianxun.top çš„æ—¶å€™ï¼Œ<code>wp-content</code> å’Œ <code>wp-includes</code> ä¼šèµ°åŠ é€ŸåŸŸåã€‚</p>
<p>é…ç½® cdn.lijianxun.top</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs config">server &#123;<br>    listen 443 ssl;<br>    listen [::]:443 ssl;<br>    <br>    ssl on;<br>    ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;cert&#x2F;xxxx.pem;<br>    ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;cert&#x2F;xxxx.key;<br>    <br>    server_name cdn.lijianxun.top;<br>    root &#x2F;var&#x2F;www&#x2F;html;<br>    <br>    location &#x2F;wp-includes &#123;<br>        root &#x2F;var&#x2F;www&#x2F;html;<br>        expires 30d;<br>    &#125;<br>    <br>    location &#x2F;wp-content &#123;<br>        root &#x2F;var&#x2F;www&#x2F;html;<br>        expires 30d;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é…ç½®å¥½ä¹‹åè®°å¾—é‡å¯ Nginx æœåŠ¡ï¼š</p>
<p><code>/etc/init.d/nginx restart</code></p>
<p>è¿™éƒ¨åˆ†å‚è€ƒï¼š<a href="https://nodeedge.com/wordpress-nginx-cdn-static.html">WordPressä½¿ç”¨Nginxé…åˆCDNåŠ é€Ÿé™æ€èµ„æº</a></p>
<p>è¿™éƒ¨åˆ†è§£é‡Šäº†ä¸Šæ–‡ä¸ºä»€ä¹ˆç”¨ä¸åˆ° <code>/wp-admin</code> ç¼“å­˜é…ç½®ã€‚å› ä¸ºæˆ‘ä»¬åªåŠ é€Ÿäº† <code>wp-content</code> å’Œ <code>wp-includes</code>ã€‚</p>
<h3 id="é…ç½®-CNAME"><a href="#é…ç½®-CNAME" class="headerlink" title="é…ç½® CNAME"></a>é…ç½® CNAME</h3><p>åœ¨æ¥å…¥åŸŸååï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ª CNAMEï¼Œæ ¼å¼ç±»ä¼¼ï¼š<code>åŠ é€ŸåŸŸå.cdn.dnsv1.com</code>ï¼Œå¦‚æœæŒ‰ç…§æ•™ç¨‹æ¥å°±æ˜¯ <code>cdn.lijianxun.top.cdn.dnsv1.com</code>ã€‚</p>
<p>å› ä¸ºæˆ‘çš„åŸŸåæ˜¯åœ¨é˜¿é‡Œäº‘ä¸‹è´­ä¹°çš„ï¼Œä¸è¿‡é…ç½®åŸŸåè§£æå¤§åŒå°å¼‚ã€‚å¦‚å›¾ï¼š</p>
<p><img src="https://i.loli.net/2020/02/07/3qemSYPgvyAhH4K.png" alt="é…ç½® CNAME"></p>
<p>è¿™æ ·å°±é…ç½®å¥½äº†ã€‚</p>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>å½“æˆ‘ä»¬å…¨éƒ¨éƒ½é…ç½®å®Œæˆåï¼Œä½¿ç”¨ Chrome æµè§ˆå™¨ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œä¼šå‘ç°é…ç½®çš„ <code>wp-content</code> å’Œ <code>wp-includes</code> å…¨éƒ¨éƒ½èµ°çš„æ˜¯åŠ é€ŸåŸŸåï¼Œç½‘ç«™è®¿é—®ä¹Ÿä¸€åˆ‡æ­£å¸¸ã€‚</p>
<h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>ä¹‹å‰ä»æ¥æ²¡æŠ˜è…¾è¿‡ CDN åŠ é€Ÿï¼Œä»¥ä¸Šå†…å®¹éƒ½æ˜¯ç¿»å‰äººè®°å½•ï¼Œè‡ªå·±æ‘¸ç´¢çš„ï¼Œå¦‚æœæœ‰è¯»è€…å‘ç°æ˜æ˜¾é”™è¯¯è¿˜è¯·åŠ³çƒ¦åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œå…±åŒå­¦ä¹ ï¼Œæ„Ÿè°¢ï¼ğŸ™</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>CDN</tag>
        <tag>è…¾è®¯äº‘</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu16.04 åŸºäº LAMP æ­å»º Wordpress</title>
    <url>/117.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2014/12/28/13/20/wordpress-581849__480.jpg"> å¦‚æœå°é²œUbuntu18.04æœ‰äº›æ“ä½œä¼šä¸åŒï¼Œéœ€è¦è‡ªè¡Œgoogleã€‚ é»˜è®¤rootç”¨æˆ·ä¸‹æ“ä½œã€‚</p>
<a id="more"></a>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‡†å¤‡æ­å»ºåšå®¢çš„è¯ï¼Œé¦–å…ˆéœ€è¦é…ç½®æœåŠ¡å™¨çš„<strong>å®‰å…¨ç»„è§„åˆ™</strong>ï¼Œå¼€æ”¾80ç«¯å£ã€‚ å¦‚æœæ­å»ºå¥½wordpressï¼Œè®¿é—®å´æ€ä¹ˆéƒ½ä¸æˆåŠŸï¼Œå¯èƒ½å°±æ˜¯ç”±äºç«¯å£é™åˆ¶ã€‚ å…ˆæ‰§è¡Œ <code>apt-get update &amp;&amp; apt-get upgrade -y</code> æ¥æ›´æ–°è½¯ä»¶åŒ…ã€‚</p>
<h2 id="æ­å»ºLAMPç¯å¢ƒ"><a href="#æ­å»ºLAMPç¯å¢ƒ" class="headerlink" title="æ­å»ºLAMPç¯å¢ƒ"></a>æ­å»ºLAMPç¯å¢ƒ</h2><blockquote>
<p>LAMPä¹Ÿå°±æ˜¯Linuxï¼ŒApacheï¼ŒMysqlï¼ŒPHPçš„ç¼©å†™ã€‚</p>
</blockquote>
<p>æ‰§è¡Œ <code>apt-get install -y apache2 mysql-server php7.0 libapache2-mod-php7.0 php7.0-mysql phpmyadmin</code> æ¥å®‰è£…è¿™äº›åŒ…ã€‚ å®‰è£…æœŸé—´mysqlå’Œphpmyadminä¼šæç¤ºè¾“å…¥å¯†ç ã€‚ å¦‚æœä½ çš„æ“ä½œç³»ç»Ÿæ˜¯ubuntu 18.04ï¼Œå¯èƒ½åœ¨å®‰è£…libapache2-mod-php7.0æ—¶ä¼šæœ‰äº›é—®é¢˜ã€‚ å¯ä»¥è¿™æ ·å°è¯•ä¸€ä¸‹ï¼š <code>add-apt-repository ppa:ondrej/php</code> <code>apt-get update</code> <code>apt-get install -y libapache2-mod-php7.0 php7.0-mysql</code> è¿™æ ·åº”è¯¥å°±èƒ½å®‰è£…æˆåŠŸäº†ã€‚å…¨éƒ¨å®‰è£…å®Œæˆä¹‹åï¼Œå°±å¯ä»¥ç»§ç»­æ“ä½œäº†ã€‚ <strong>ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶</strong>ï¼š <code>vim /etc/mysql/mysql.conf.d/mysqld.cnf</code> ä½¿ç”¨<code>#</code>æ³¨é‡Šæ‰<code>bind-address = 127.0.0.1</code>ã€‚ è¿›å…¥æ•°æ®åº“ã€‚ <code>mysql -u root -p</code> ä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œç›´æ¥è¾“å…¥å³å¯ï¼Œå›è½¦å®Œæˆè¾“å…¥ã€‚ <strong>åˆ›å»ºwordpressæ•°æ®åº“ï¼Œå¹¶æä¾›è®¿é—®æƒé™</strong>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs mysql">CREATE DATABASE wordpress;<br>GRANT ALL PRIVILEGES ON *.* to root@&#39;%&#39; identified by &#39;root&#39; with grant option;<br>FLUSH PRIVILEGES;<br>exit;<br></code></pre></td></tr></table></figure>

<p><strong>é‡å¯mysqlå’Œapacheã€‚</strong> <code>service apache2 restart</code> <code>service mysql restart</code></p>
<h2 id="å®‰è£…wordpress"><a href="#å®‰è£…wordpress" class="headerlink" title="å®‰è£…wordpress"></a>å®‰è£…wordpress</h2><p>ä¸ºäº†ä¹‹åä¸å¿…è¦çš„éº»çƒ¦ï¼Œè¿˜æ˜¯æ¨èå®‰è£…ç®€ä½“ä¸­æ–‡åŒ…ã€‚ å®˜ç½‘åœ°å€ï¼š<a href="https://cn.wordpress.org/download/">https://cn.wordpress.org/download/</a> å¤åˆ¶å¥½tar.gzåç¼€çš„ä¸‹è½½é“¾æ¥ï¼Œæ­¤æ—¶çš„é“¾æ¥ä¸º5.0.3ç‰ˆæœ¬ã€‚ <code>https://cn.wordpress.org/wordpress-5.0.3-zh_CN.tar.gz</code> ç§»æ­¥åˆ°æœºå™¨ä¸Šè¾“å…¥ï¼š <code>wget https://cn.wordpress.org/wordpress-5.0.3-zh_CN.tar.gz</code> ä¸‹è½½å®Œæˆåè§£å‹ <code>tar zxvf wordpress-5.0.3-zh_CN.tar.gz -C /var/www/html/</code> å¦‚æœæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šæƒ…å†µï¼Œwordpressåº”è¯¥å·²ç»å®‰è£…å®Œæˆã€‚ è§£å‹å®Œæˆåæ‰§è¡Œ <code>chmod -R 777 /var/www/html/</code> è¿™æ¡å‘½ä»¤ä¿è¯åœ¨ä¹‹åçš„wordpressé…ç½®å’Œæ“ä½œä¸å—æƒé™å½±å“ã€‚ <strong>ä¸€å®šè¦è®°å¾—å°†<code>/var/www/html/</code>ç›®å½•ä¸‹çš„index.htmlé‡å‘½åã€‚å¦åˆ™ä¹‹ååœ¨è¿›å…¥ä¸»é¡µçš„æ—¶å€™æ°¸è¿œæ˜¾ç¤ºçš„æ˜¯apacheçš„é¡µé¢ã€‚</strong> å¯ä»¥ä½¿ç”¨è¿™æ¡å‘½ä»¤é‡å‘½åï¼š <code>mv /var/www/html/index.html /var/www/html/index-apache.html</code> å¥½äº†ï¼Œæ¥ä¸‹æ¥é…ç½®wordpressã€‚</p>
<h2 id="é…ç½®wordpress"><a href="#é…ç½®wordpress" class="headerlink" title="é…ç½®wordpress"></a>é…ç½®wordpress</h2><p>åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ä½ çš„<code>å…¬ç½‘ip/wordpress</code>ï¼Œåº”è¯¥å°±ä¼šæç¤ºä½ é…ç½®ä¸€äº›ä¿¡æ¯ã€‚ å¡«å†™æ•°æ®åº“ä¿¡æ¯å°±æ˜¯ä½ æœºå™¨ä¸Šçš„æ•°æ®åº“ç”¨æˆ·åå’Œå¯†ç ã€‚ æ ¹æ®æç¤ºä¸€æ­¥ä¸€æ­¥æ“ä½œã€‚ ç„¶åï¼Œå¤§åŠŸå‘Šæˆï¼ <strong>å¼€å§‹ä½ çš„åšå®¢ç”Ÿæ´»å§ï¼</strong></p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>wordpress</tag>
        <tag>åšå®¢</tag>
        <tag>äº‘æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>Uniapp å¼€å‘ H5 ç®€å•è®°å½•</title>
    <url>/118.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/VigbIOD84WrmTAp.png"> ä¹‹å‰é‚£å°æœåŠ¡å™¨è¿‡æœŸäº†ï¼Œæ‰€ä»¥ç½‘é¡µç‰ˆçš„å®…å®…ç”Ÿæ´»æ”¶è—å¤¹æš‚æ—¶ä¸èƒ½ç”¨ã€‚ æœ¬æ¥æƒ³å°±æ­¤æ”¾å¼ƒï¼Œä½†æ˜¯æœ‰å¾ˆå¤šæœ‹å‹ç§ä¿¡é—®æˆ‘ï¼Œæ‰€ä»¥è€ƒè™‘è¿˜æ˜¯ç»§ç»­å¼€é€šè¿™ä¸ªçŸ¥ä¹çœ‹å›¾å¹³å°å§ã€‚</p>
<a id="more"></a>
<p><strong>æ¯•ç«Ÿè¿™é‡Œæ”¶å½•äº†å…¨ç½‘çŸ¥ä¹é’“é±¼è´´æœ€å…¨çš„é—®é¢˜ã€‚</strong></p>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä½†æ˜¯ä¹‹å‰é‚£ä¸ªå‰ç«¯é¡µé¢ï¼Œè¯´å®è¯æˆ‘è‡ªå·±ä¹Ÿæ¥å—ä¸äº†ã€‚å› ä¸ºå½“æ—¶è¿˜æ²¡æœ‰çœ‹è¿‡ Vue ç›¸å…³çš„æ•™ç¨‹ï¼Œåªèƒ½ç”¨ Jinja2 é…åˆ Bulma æ„å»ºå‰ç«¯é¡µé¢ã€‚</p>
<blockquote>
<p><a href="http://docs.jinkan.org/docs/jinja2/">Jinja2</a> æ˜¯ä¸€ä¸ªç°ä»£çš„ï¼Œè®¾è®¡è€…å‹å¥½çš„ï¼Œä»¿ç…§ Django æ¨¡æ¿çš„ Python æ¨¡æ¿è¯­è¨€ã€‚ <a href="https://bulma.io/">Bulma</a> æ˜¯ä¸€ä¸ªåŸºäº Flexbox çš„å…è´¹å¼€æ”¾æºä»£ç  CSS æ¡†æ¶ã€‚</p>
</blockquote>
<p>çœ‹äº†å‡ å¤©çš„ Vue æ•™ç¨‹ï¼Œæ‰€ä»¥æ‰“ç®—ç”¨ Vue é‡å†™ä¸€ä¸‹å‰ç«¯é¡µé¢ï¼Œå†é…åˆ Vue çš„ UI æ¡†æ¶ï¼Œç½‘é¡µå°±åšå¥½å•¦ï¼ <img src="https://i.loli.net/2020/02/02/XAhTUiVMbu1LEPf.jpg" alt="æ•ˆæœå±•ç¤º" title=" "> ä¸è¿‡åªèƒ½è¯´è¿™ä¸ªé¡µé¢æ˜¯åŸºäº Vue åšçš„ï¼Œå› ä¸ºæˆ‘æ˜¯ç”¨ uni-app å¼€å‘å®Œæˆçš„ã€‚ çº¯ Vue æ¥è¯´ï¼Œä¸€äº›ç”¨ JavaScript ç®€å•æ“ä½œçš„é¡µé¢è¿˜èƒ½å†™å†™ï¼Œåƒè¿™æ ·äº¤äº’å¤ªå¤šçš„ï¼ˆæ¯”å¦‚è¯´ä¸Šæ‹‰åŠ è½½ï¼Œä¸‹æ‹‰åˆ·æ–°ï¼‰ï¼Œæœ‰å·¥å…·è¿˜æ˜¯å®‰å¿ƒç”¨å·¥å…·å†™å§ã€‚è‡ªå·±æŠ˜è…¾å¤ªæµªè´¹æ—¶é—´ã€‚</p>
<h1 id="uni-app"><a href="#uni-app" class="headerlink" title="uni-app"></a>uni-app</h1><p>è¯´èµ· uni-appï¼Œå‰ç«¯æœ‹å‹åº”è¯¥ä¸é™Œç”Ÿï¼Œä½†æ˜¯å¯¹äºåç«¯æ¥è¯´ï¼Œå¯èƒ½æ˜¯ç¬¬ä¸€æ¬¡å¬è¯´ï¼Œæˆ‘ä¹Ÿæ˜¯åœ¨ä¹‹å‰å¼€å‘å¾®ä¿¡å°ç¨‹åºçš„æ—¶å€™è€ƒè™‘åˆ°ï¼Œæœ‰æ²¡æœ‰ä¸€å¥—ä»£ç èƒ½æ”¯æŒå¾®ä¿¡å°ç¨‹åºï¼Œæ”¯ä»˜å®å°ç¨‹åºç­‰ç­‰ä¸€äº›ç±»ä¼¼çš„å¹³å°ï¼Œæ²¡æƒ³åˆ°è¿˜çœŸçš„æœ‰ï¼Œè¿˜ä¸æ­¢ uni-app ä¸€æ¬¾ï¼Œä½†æ˜¯å› ä¸º uni-app æ”¯æŒ Vueï¼Œæˆ‘è®¤ä¸ºä¸Šæ‰‹åº”è¯¥ä¼šæ›´å¿«ä¸€äº›ï¼Œæ‰€ä»¥å°±æ²¡è€ƒè™‘å…¶ä»–çš„ã€‚</p>
<blockquote>
<p><a href="https://uniapp.dcloud.io/">uni-app</a> æ˜¯ä¸€ä¸ªä½¿ç”¨ Vue.js å¼€å‘æ‰€æœ‰å‰ç«¯åº”ç”¨çš„æ¡†æ¶ï¼Œå¼€å‘è€…ç¼–å†™ä¸€å¥—ä»£ç ï¼Œå¯å‘å¸ƒåˆ°iOSã€Androidã€H5ã€ä»¥åŠå„ç§å°ç¨‹åºï¼ˆå¾®ä¿¡/æ”¯ä»˜å®/ç™¾åº¦/å¤´æ¡/QQ/é’‰é’‰ï¼‰ç­‰å¤šä¸ªå¹³å°ã€‚</p>
</blockquote>
<p>å¯ä»¥è¯´æœ‰äº† uni-appï¼Œå¼€å‘ H5 æ˜¯çœŸçš„æ–¹ä¾¿äº†ï¼Œå°±ç±»ä¼¼å†™å¾®ä¿¡å°ç¨‹åºä¸€æ ·ï¼Œå¾ˆå¤šå¸¸ç”¨çš„æ¥å£å·²ç»å†™å¥½ï¼Œä¸ç”¨è‡ªå·±åŠ¨æ‰‹å†™äº†ï¼Œå¤§å¤§æå‡å¼€å‘æ•ˆç‡ã€‚</p>
<h1 id="ä½¿ç”¨è®°å½•"><a href="#ä½¿ç”¨è®°å½•" class="headerlink" title="ä½¿ç”¨è®°å½•"></a>ä½¿ç”¨è®°å½•</h1><p>è¯´è¿™ä¹ˆå¤šåºŸè¯ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å†™æ–‡ç« è®°å½•å‘¢ï¼Ÿ å› ä¸ºè¿™ä¸ª uni-app ç”¨èµ·æ¥ï¼Œæ²¡æœ‰å¾®ä¿¡å°ç¨‹åºç”¨èµ·æ¥é¡ºæ‰‹ï¼Œå¯èƒ½æ˜¯å¼€å§‹å°±æ˜¯ç”¨å¾®ä¿¡å°ç¨‹åºçš„ç¼˜æ•…ï¼Œä¹Ÿå¯èƒ½æ˜¯å¯¹ Vue è¯­æ³•éå¸¸ä¸ç†Ÿæ‚‰çš„ç¼˜æ•…ï¼ˆè‚¯å®šæ˜¯ç¬¬äºŒç§ï¼‰ï¼Œå¯¼è‡´å¼€å‘èµ·æ¥æœ‰äº›æ“ä½œä¸æ˜¯å¾ˆç†Ÿç»ƒã€‚æ‰€ä»¥å†™ä¸€ç¯‡æ–‡ç« è®°å½•ä¸‹æ¥ï¼Œæ—¥åå†æ¬¡å¼€å‘çš„æ—¶å€™è¿˜æœ‰è¿¹å¯å¾ªã€‚</p>
<h2 id="å¼•å…¥-ColorUI"><a href="#å¼•å…¥-ColorUI" class="headerlink" title="å¼•å…¥ ColorUI"></a>å¼•å…¥ ColorUI</h2><p>ä¸‹è½½ä¸‹æ¥ ColorUI çš„æ–‡ä»¶ï¼Œæ”¾å…¥é¡¹ç›®æ ¹ç›®å½•ï¼ˆå’Œ pages åŒçº§ï¼‰ï¼Œç„¶ååœ¨ App.vue å¼•å…¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;style&gt;<br>@import &#39;colorui&#x2F;main.css&#39;;<br>@import &#39;colorui&#x2F;icon.css&#39;;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨å…¨å±€å˜é‡"><a href="#ä½¿ç”¨å…¨å±€å˜é‡" class="headerlink" title="ä½¿ç”¨å…¨å±€å˜é‡"></a>ä½¿ç”¨å…¨å±€å˜é‡</h2><p>åœ¨ App.vue ä¸­ï¼Œå‚è€ƒä¸‹åˆ—ä»£ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;script&gt;<br>export default &#123;<br>    globalData: &#123;<br>        DB_URL: &#39;http:&#x2F;&#x2F;127.0.0.1:5000&#x2F;&#39;<br>    &#125;,<br>    onLaunch: function() &#123;&#125;,<br>    onShow: function() &#123;&#125;,<br>    onHide: function() &#123;&#125;<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p>å…¶ä¸­ <code>globalData</code> å°±æ˜¯ä¿å­˜å…¨å±€å˜é‡çš„ä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥å­˜å…¥ä¸€äº›å…¬å…±å˜é‡ã€‚ ä½¿ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> _url = getApp().globalData.DB_URL<br></code></pre></td></tr></table></figure>

<h2 id="manifest-json"><a href="#manifest-json" class="headerlink" title="manifest.json"></a>manifest.json</h2><p>è¿™ä¸ªæ–‡ä»¶ç®¡ç†äº†æœ¬æ¬¡å¼€å‘çš„å¤§éƒ¨åˆ†é…ç½®ï¼Œé¦–å…ˆéœ€è¦æ”¹åŠ¨çš„å°±æ˜¯<strong>è·¯ç”±æ¨¡å¼</strong>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">&quot;h5&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;template&quot;</span>: <span class="hljs-string">&quot;template.h5.html&quot;</span>,<br>        <span class="hljs-string">&quot;router&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;mode&quot;</span>: <span class="hljs-string">&quot;history&quot;</span><br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>å¦‚æœä½¿ç”¨ hash æ¨¡å¼ï¼Œurl ä¼šæœ‰ä¸€ä¸ª <code>#</code>ï¼Œçœ‹èµ·æ¥ååˆ†åˆ«æ‰­ã€‚</p>
<h2 id="pages-json"><a href="#pages-json" class="headerlink" title="pages.json"></a>pages.json</h2><p>é¦–æ¬¡å¼€å‘ï¼Œä¸€å®šä¼šçœ‹åˆ°é¡¶éƒ¨ uni-app çš„æ ‡é¢˜æ ï¼Œå¦‚ä½•å»é™¤å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript">&#123;<br>    <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;pages/tabbar/index/index&quot;</span>,<br>    <span class="hljs-string">&quot;style&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;navigationBarTitleText&quot;</span>: <span class="hljs-string">&quot;uni-app&quot;</span><br>        <span class="hljs-string">&quot;navigationStyle&quot;</span>: <span class="hljs-string">&quot;custom&quot;</span>,<br>        <span class="hljs-string">&quot;app-plus&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;titleNView&quot;</span>: <span class="hljs-literal">false</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å»æ‰äº†ã€‚</p>
<h2 id="template-éƒ¨åˆ†"><a href="#template-éƒ¨åˆ†" class="headerlink" title="template éƒ¨åˆ†"></a>template éƒ¨åˆ†</h2><h3 id="é€šè¿‡é¦–é¡µæ ‡é¢˜è¿›å…¥è¯¦æƒ…é¡µ"><a href="#é€šè¿‡é¦–é¡µæ ‡é¢˜è¿›å…¥è¯¦æƒ…é¡µ" class="headerlink" title="é€šè¿‡é¦–é¡µæ ‡é¢˜è¿›å…¥è¯¦æƒ…é¡µ"></a>é€šè¿‡é¦–é¡µæ ‡é¢˜è¿›å…¥è¯¦æƒ…é¡µ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;view class&#x3D;&quot;card&quot; @tap&#x3D;&quot;getDetail(item.question_id)&quot;&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;view&gt;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œæœ¬æ¥æƒ³ç”¨ç±»ä¼¼å°ç¨‹åºçš„ <code>data-*</code> ä¼ å€¼ï¼Œä½†æ˜¯ä¸æ¸…æ¥šæ˜¯ä»£ç çš„é—®é¢˜ï¼Œè¿˜æ˜¯ uni-app æœ‰ bugï¼Œä¸€ç›´æ²¡ç”Ÿæ•ˆã€‚ ç½‘ä¸Šè™½ç„¶æœ‰æåˆ° uni-app åœ¨ <code>data-*</code> è¿™éƒ¨åˆ†æœ‰è¿‡ bug çš„è®°å½•ï¼Œä¸è¿‡åº”è¯¥æ˜¯å·²ç»ä¿®å¤äº†ï¼Œä¸æ¸…æ¥šä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨ï¼Œåªå¥½æ›²çº¿æ•‘å›½ï¼Œåœ¨è¿è¡Œå‡½æ•°çš„æ—¶å€™ï¼Œä½œä¸ºå‡½æ•°çš„å‚æ•°ä¼ å…¥å§ã€‚</p>
<h3 id="åŠ¨æ€ä¼ å…¥-style"><a href="#åŠ¨æ€ä¼ å…¥-style" class="headerlink" title="åŠ¨æ€ä¼ å…¥ style"></a>åŠ¨æ€ä¼ å…¥ style</h3><p>ä½¿ç”¨ ColorUI æ¡†æ¶ï¼Œåœ¨å¤„ç†ç”¨æˆ·å¤´åƒè¿™å—ä½¿ç”¨çš„æ˜¯ <code>background-image:url()</code>ã€‚å¦‚æœç›´æ¥ <code>:style</code> ä¸€å®šä¼šæŠ¥é”™ï¼Œæ‰€ä»¥æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;view class&#x3D;&quot;cu-avatar round lg&quot; :style&#x3D;&quot;&#123; &#39;background-image&#39;: &#39;url(&#39; + item.avatar_url + &#39;)&#39; &#125;&quot;&gt;&lt;&#x2F;view&gt;<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨å•èŠ±æ‹¬å·ï¼Œä»¥å­—å…¸çš„å½¢å¼ä¼ å‚ã€‚è¿™é‡Œå‰ç«¯çš„æœ‹å‹è‚¯å®šä¸€çœ¼å°±æ˜ç™½äº†ã€‚css çœŸçš„æ˜¯æˆ‘çš„çŸ¥è¯†ç›²åŒºå•Š</p>
<h3 id="å¾ªç¯å±•ç¤ºå›¾ç‰‡"><a href="#å¾ªç¯å±•ç¤ºå›¾ç‰‡" class="headerlink" title="å¾ªç¯å±•ç¤ºå›¾ç‰‡"></a>å¾ªç¯å±•ç¤ºå›¾ç‰‡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;view v-for&#x3D;&quot;pic in item.photo_list&quot; v-bind:key&#x3D;&quot;pic.index&quot;&gt;<br>    &lt;image mode&#x3D;&quot;widthFix&quot; :src&#x3D;&quot;pic&quot;&gt;&lt;&#x2F;image&gt;<br>&lt;&#x2F;view&gt;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„ <code>src</code> ä¹Ÿä¸å°ç¨‹åºä¸åŒï¼Œç›´æ¥ä½¿ç”¨ <code>Lsrc=&quot;pic&quot;</code> å³å¯ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>uniapp</tag>
        <tag>å®…å®…ç”Ÿæ´»æ”¶è—å¤¹</tag>
      </tags>
  </entry>
  <entry>
    <title>Vim å¿«æ·ç”¨æ³•</title>
    <url>/119.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/Y5aQeqCVP84kMcr.png"> æ•´ç†äº†ä¸€äº›vimçš„å¿«æ·é”®ç”¨æ³•å’ŒæŠ€å·§æ“ä½œã€‚</p>
<a id="more"></a>
<h1 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h1><ol>
<li>w ä¸‹ä¸€ä¸ªå•è¯å¼€å¤´</li>
<li>e ä¸‹ä¸€ä¸ªå•è¯ç»“æŸ</li>
<li>b åˆ°ä¸Šä¸€ä¸ªå•è¯</li>
<li>^æˆ–0 æœ¬è¡Œå¼€å¤´</li>
<li>$ æœ¬è¡Œç»“å°¾</li>
<li>A æœ¬è¡Œç»“å°¾å¹¶ç¼–è¾‘</li>
<li>u æ’¤é”€</li>
<li>H å±å¹•å†…é¦–è¡Œ</li>
<li>M å±å¹•å†…ä¸­é—´è¡Œ</li>
<li>L å±å¹•å†…å°¾è¡Œ</li>
<li>gg æ–‡æ¡£é¦–è¡Œ</li>
<li>G æ–‡æ¡£å°¾è¡Œ</li>
<li>:n è·³è‡³nè¡Œ</li>
<li>h å·¦ç§»</li>
<li>j ä¸‹ç§»</li>
<li>k ä¸Šç§»</li>
<li>l å³ç§»</li>
<li>y æ‹·è´</li>
<li>d åˆ é™¤</li>
<li>p ç²˜è´´</li>
<li>/ å‘åæœç´¢</li>
<li>? å‘å‰æœç´¢</li>
<li>N æŸ¥æ‰¾ä¸Šä¸€å¤„</li>
<li>n æŸ¥æ‰¾ä¸‹ä¸€å¤„</li>
<li>yy æ‹·è´å…‰æ ‡æ‰€åœ¨è¡Œ</li>
<li>dd åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ</li>
<li>D åˆ é™¤ä»å…‰æ ‡åˆ°æœ¬è¡Œå°¾</li>
<li>J å…‰æ ‡æ‰€åœ¨è¡Œä¸ä¸‹ä¸€è¡Œåˆå¹¶</li>
<li>yw æ‹·è´å…‰æ ‡æ‰€åœ¨å•è¯</li>
<li>dw åˆ é™¤å…‰æ ‡æ‰€åœ¨å•è¯</li>
<li>ZZ ä¿å­˜å¹¶é€€å‡º</li>
<li>:w ä¿å­˜ä¸é€€å‡º</li>
<li>:q! å¼ºåˆ¶é€€å‡º</li>
<li>Ctrl + u å‘ä¸Šç¿»åŠé¡µ</li>
<li>Ctrl + d å‘ä¸‹ç¿»åŠé¡µ</li>
<li>Ctrl + y å‘ä¸Šä¸€è¡Œ</li>
<li>Ctrl + e å‘ä¸‹ä¸€è¡Œ</li>
</ol>
<h1 id="æŠ€å·§æ“ä½œ"><a href="#æŠ€å·§æ“ä½œ" class="headerlink" title="æŠ€å·§æ“ä½œ"></a>æŠ€å·§æ“ä½œ</h1><ol>
<li>. é‡å¤ä¸Šæ¬¡æ“ä½œ</li>
<li>f {char} æŸ¥æ‰¾æœ¬è¡Œçš„charå­—ç¬¦</li>
<li>daw åˆ é™¤æ•´ä¸ªå•è¯ï¼Œå¯ä»¥ä½¿ç”¨<code>edaw</code>å®šä½å•è¯å¹¶åˆ é™¤</li>
<li>dap åˆ é™¤æ•´ä¸ªæ®µè½</li>
<li>gUaw æŠŠå½“å‰å•è¯è½¬æ¢ä¸ºå¤§å†™</li>
<li>gUap æŠŠå½“å‰æ®µè½è½¬æ¢ä¸ºå¤§å†™</li>
<li>gu è½¬æ¢ä¸ºå°å†™</li>
<li>gU è½¬æ¢ä¸ºå¤§å†™</li>
<li>Ctrl + o ä¸´æ—¶æ™®é€šæ¨¡å¼</li>
<li>vit é€‰æ‹©æ ‡ç­¾é—´çš„å†…å®¹</li>
<li>:t3 æŠŠå½“å‰è¡Œå¤åˆ¶åˆ°ç¬¬3è¡Œä¸‹æ–¹</li>
<li>:3t æŠŠç¬¬3è¡Œå¤åˆ¶åˆ°å½“å‰è¡Œä¸‹æ–¹</li>
<li>:shell å¯åŠ¨shell (è¾“å…¥exitè¿”å›)</li>
<li>:sp [filename] æ°´å¹³åˆ‡å‰²å±å¹•</li>
<li>:vsp [filename] å‚ç›´åˆ‡å‰²å±å¹•</li>
<li>:tabe [filename] åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€æ–‡ä»¶</li>
<li>:tabo åªä¿ç•™æ´»åŠ¨æ ‡ç­¾é¡µï¼Œåˆ é™¤å…¶ä»–</li>
<li>:tabn åˆ‡æ¢åˆ°ä¸‹ä¸€æ ‡ç­¾é¡µ</li>
<li>:tabn {num} åˆ‡æ¢åˆ°num é¡µæ ‡ç­¾</li>
<li>:tabp åˆ‡æ¢åˆ°ä¸Šä¸€æ ‡ç­¾é¡µ</li>
</ol>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>Neovim</tag>
        <tag>Vim</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows ç³»ç»Ÿå„ç§é”™è¯¯ä¿®å¤è®°å½•</title>
    <url>/120.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2013/04/09/05/57/error-102074__480.jpg"></p>
<p>å„ç§ç³»ç»Ÿé”™è¯¯è®°å½•ï¼Œä¸€èˆ¬æƒ…å†µä¸‹éƒ½è¦ç”¨åˆ°ä¸‡èƒ½çš„PE å¯åŠ¨ç›˜ã€‚</p>
<a id="more"></a>
<h1 id="Win7-å¼€æœºé»‘å±"><a href="#Win7-å¼€æœºé»‘å±" class="headerlink" title="Win7 å¼€æœºé»‘å±"></a>Win7 å¼€æœºé»‘å±</h1><p>é»‘å±çš„æƒ…å†µæœ‰å¾ˆå¤šç§ï¼Œå…·ä½“è¿˜æ˜¯è¦æ ¹æ®å±å¹•ä¸­çš„é”™è¯¯æç¤ºæ¥åˆ†æã€‚</p>
<h2 id="åªæœ‰å…‰æ ‡é—ªçƒï¼Œæ²¡æœ‰ä»»ä½•æç¤º"><a href="#åªæœ‰å…‰æ ‡é—ªçƒï¼Œæ²¡æœ‰ä»»ä½•æç¤º" class="headerlink" title="åªæœ‰å…‰æ ‡é—ªçƒï¼Œæ²¡æœ‰ä»»ä½•æç¤º"></a>åªæœ‰å…‰æ ‡é—ªçƒï¼Œæ²¡æœ‰ä»»ä½•æç¤º</h2><p>è¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨å·²ç»åˆ¶ä½œå¥½çš„ PE ç³»ç»Ÿç›˜è¿›è¡Œ<strong>å¼•å¯¼ä¿®å¤</strong>ã€‚</p>
<p>è¿›å…¥ PE ç³»ç»Ÿåï¼Œä¸€èˆ¬æ¡Œé¢ä¸Šéƒ½ä¼šæœ‰<strong>å¼•å¯¼ä¿®å¤å·¥å…·</strong>ï¼Œå› ä¸ºè¿™ä¸ªå·¥å…·ç»å¸¸è¢«ä½¿ç”¨ï¼Œå¼•å¯¼ä¿®å¤å®Œæˆåé‡å¯ç”µè„‘ä¸€èˆ¬å°±å¯ä»¥æ­£å¸¸å¼€æœºäº†ã€‚</p>
<h2 id="ç”±äºå…³é”®ç³»ç»Ÿé©±åŠ¨ç¨‹åºä¸¢å¤±æˆ–æŸåï¼Œå› æ­¤-Windows-æ— æ³•åŠ è½½"><a href="#ç”±äºå…³é”®ç³»ç»Ÿé©±åŠ¨ç¨‹åºä¸¢å¤±æˆ–æŸåï¼Œå› æ­¤-Windows-æ— æ³•åŠ è½½" class="headerlink" title="ç”±äºå…³é”®ç³»ç»Ÿé©±åŠ¨ç¨‹åºä¸¢å¤±æˆ–æŸåï¼Œå› æ­¤ Windows æ— æ³•åŠ è½½"></a>ç”±äºå…³é”®ç³»ç»Ÿé©±åŠ¨ç¨‹åºä¸¢å¤±æˆ–æŸåï¼Œå› æ­¤ Windows æ— æ³•åŠ è½½</h2><p>è¿™ä¸ªé—®é¢˜è¦æ ¹æ®ç³»ç»Ÿçš„å…·ä½“æç¤ºï¼Œä¸€èˆ¬æ˜¯ï¼š</p>
<p><code>\windows\system32\drivers\***.sys</code></p>
<p>é‡ç‚¹æ˜¯åè¾¹çš„ <code>***.sys</code> æ–‡ä»¶ï¼Œæ‰¾ä¸€å°å’Œé—®é¢˜ç”µè„‘ç³»ç»Ÿä¸€è‡´çš„ç”µè„‘ï¼Œåœ¨ç³»ç»Ÿç›˜ä¸‹æ‰¾åˆ°ç›¸åŒçš„æ–‡ä»¶ï¼Œæ‹·è´åˆ°åˆ¶ä½œå¥½çš„ç³»ç»Ÿç›˜ä¸­ï¼Œå†æ¬¡è¿›å…¥ PE ç³»ç»Ÿï¼Œå°†æ‹·è´çš„æ–‡ä»¶æ‹·è´åˆ°ä¸Šè¿°æç¤ºè·¯å¾„ä¸‹ï¼Œå¦‚æœé‡å¤è¯·é€‰æ‹©<strong>æ›¿æ¢</strong>ã€‚</p>
<p>é‡å¯ï¼Œåº”è¯¥å°±èƒ½æ­£å¸¸å¼€æœºäº†ã€‚</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>Windowsé”™è¯¯</tag>
      </tags>
  </entry>
  <entry>
    <title>Wordpress åšå®¢ç³»ç»Ÿæ­å»ºå¥½å¿…åšçš„å‡ ä»¶äº‹</title>
    <url>/177.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2014/02/13/07/28/wordpress-265132__480.jpg"></p>
<p>ä¹‹å‰æˆ‘ä»¬å·²ç»åœ¨ Ubuntu 16.04 ç³»ç»Ÿä¸Šï¼Œåˆ†åˆ«<a href="https://lijianxun.top/117.html">åŸºäº LAMP</a> å’Œ<a href="https://lijianxun.top/34.html">åŸºäº LNMP</a> æ­å»ºäº† Wordpress åšå®¢ç³»ç»Ÿã€‚ä½†æ˜¯æ­å»ºå¥½ä»¥åä»æœ‰è®¸å¤šå·¥ä½œè¦åšï¼Œè¦ä¸ç„¶ç”¨èµ·æ¥è¿˜æ˜¯ä¼šåˆ«æ‰­ã€‚</p>
<a id="more"></a>
<h2 id="FTP-è´¦å·é—®é¢˜"><a href="#FTP-è´¦å·é—®é¢˜" class="headerlink" title="FTP è´¦å·é—®é¢˜"></a>FTP è´¦å·é—®é¢˜</h2><p>è¿™ä¸ªé—®é¢˜ä¸€å®šæ‰€æœ‰äººéƒ½ç»å†è¿‡ã€‚åˆšæ­å»ºå¥½åšå®¢ï¼Œæç¤º wordpress ç‰ˆæœ¬ï¼Œæˆ–è€…æ’ä»¶ï¼Œæˆ–è€…ä¸»é¢˜æ›´æ–°ï¼Œç„¶åè®©æˆ‘ä»¬è¾“å…¥ FTP è´¦å·å’Œå¯†ç ã€‚ä½†æ˜¯ä»å¤´åˆ°å°¾é…ç½®çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬å¹¶æœªæ¶‰åŠåˆ° FTP ç›¸å…³çš„é…ç½®ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>è¿›å…¥åˆ°æˆ‘ä»¬å®‰è£… wordpress çš„ç›®å½•é‡Œï¼Œæ‰¾åˆ° wp-config.php æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­åŠ å…¥å¦‚ä¸‹ä¸‰è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">define(<span class="hljs-string">&quot;FS_METHOD&quot;</span>, <span class="hljs-string">&quot;direct&quot;</span>);<br>define(<span class="hljs-string">&quot;FS_CHMOD_DIR&quot;</span>, 0777);<br>define(<span class="hljs-string">&quot;FS_CHMOD_FILE&quot;</span>, 0777);<br></code></pre></td></tr></table></figure>

<p>å³å¯è§£å†³æ­¤é—®é¢˜ã€‚</p>
<h2 id="ä¸Šä¼ ä¸»é¢˜æˆ–æ’ä»¶æç¤ºæ–‡ä»¶è¿‡å¤§"><a href="#ä¸Šä¼ ä¸»é¢˜æˆ–æ’ä»¶æç¤ºæ–‡ä»¶è¿‡å¤§" class="headerlink" title="ä¸Šä¼ ä¸»é¢˜æˆ–æ’ä»¶æç¤ºæ–‡ä»¶è¿‡å¤§"></a>ä¸Šä¼ ä¸»é¢˜æˆ–æ’ä»¶æç¤ºæ–‡ä»¶è¿‡å¤§</h2><p>è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§æŠ¥é”™æ–¹å¼ï¼Œä¸€ç§æ˜¯ Nginx æŠ¥ <strong>413 Request Entity Too Large</strong> é”™è¯¯ï¼Œå¦ä¸€ä¸ªå°±æ˜¯åœ¨ wordpress å†…éƒ¨æç¤º<strong>ä¸Šä¼ çš„æ–‡ä»¶å°ºå¯¸è¶…è¿‡ PHP.ini ä¸­å®šä¹‰çš„ upload_max_filesize å€¼</strong>ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ”¹ä¸¤ä¸ªåœ°æ–¹ã€‚</p>
<h3 id="ä¿®æ”¹-Nginx"><a href="#ä¿®æ”¹-Nginx" class="headerlink" title="ä¿®æ”¹ Nginx"></a>ä¿®æ”¹ Nginx</h3><p>æˆ‘ä»¬éœ€è¦ä¿®æ”¹ nginx.conf æ–‡ä»¶ï¼Œä¸€èˆ¬åœ¨ /etc/nginx ä¸‹ã€‚</p>
<p><code>vim /etc/nginx/nginx.conf</code></p>
<p>æ‰¾åˆ°ï¼ˆæˆ–æ·»åŠ ï¼‰ <code>client_max_body_size</code> å­—æ®µï¼Œä¿®æ”¹ä¸º <code>20m</code></p>
<h3 id="ä¿®æ”¹-php-ini"><a href="#ä¿®æ”¹-php-ini" class="headerlink" title="ä¿®æ”¹ php.ini"></a>ä¿®æ”¹ php.ini</h3><p>æˆ‘ä»¬ä½¿ç”¨ <code>find / -name php.ini</code> æ‰¾åˆ° <code>php.ini</code> æ–‡ä»¶ï¼Œä½¿ç”¨ vim æ‰“å¼€ï¼Œæœç´¢ <code>upload_max_filesize</code> å’Œ <code>post_max_size</code>ï¼Œå‡æ”¹ä¸º <code>20m</code>ã€‚</p>
<p><em>åœ¨ vim ä¸­å¯ä»¥ä½¿ç”¨ <code>/å…³é”®è¯</code> çš„æ–¹å¼æ¥æœç´¢ã€‚</em></p>
<h2 id="wordpress-ä¼ªé™æ€"><a href="#wordpress-ä¼ªé™æ€" class="headerlink" title="wordpress ä¼ªé™æ€"></a>wordpress ä¼ªé™æ€</h2><p>åœ¨ wordpress ä»ªè¡¨ç›˜é‡Œæ‰¾åˆ° è®¾ç½®-&gt;å›ºå®šè¿æ¥ã€‚</p>
<p>é»˜è®¤ä¸ºæœ´ç´ ï¼š<code>https://lijianxun.top/?p=123</code>ï¼Œä½†æ˜¯è¿™ç§é“¾æ¥ä¸åˆ©äºæœç´¢å¼•æ“çš„æ”¶å½•ï¼Œä¹Ÿ<strong>ä¸èƒ½æ­£ç¡®ç”Ÿæˆ sitemap.xml æ–‡ä»¶</strong>ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ”¹ä¸º <code>https://lijianxun.top/123.html</code>ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ä¼ªé™æ€ã€‚</p>
<p>æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ç»“æ„ä¸­å¡«å…¥ <code>/%post_id%.html</code>ï¼Œä¿å­˜ã€‚</p>
<p>ç„¶åä¿®æ”¹ nginx ä¸­çš„ <code>server</code> é…ç½®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">location / &#123;<br>    index index.php index.html index.htm;<br>    try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /index.php?<span class="hljs-variable">$args</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ”¹ä¸ºä»¥ä¸Šå†…å®¹å³å¯ã€‚</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>wordpress</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŠMySQLå¿…çŸ¥å¿…ä¼šã€‹è¯»ä¹¦ç¬”è®°</title>
    <url>/103.html</url>
    <content><![CDATA[<p>_ã€ŠMySQLå¿…çŸ¥å¿…ä¼šã€‹_è¯»ä¹¦ç¬”è®°è®°å½•ã€‚</p>
<a id="more"></a>
<h2 id="äº†è§£MySQL"><a href="#äº†è§£MySQL" class="headerlink" title="äº†è§£MySQL"></a>äº†è§£MySQL</h2><ul>
<li>æ•°æ®åº“è½¯ä»¶åº”ç§°ä¸ºDBMS(æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ)ï¼Œ æ•°æ®åº“æ˜¯é€šè¿‡DBMSåˆ›å»ºå’Œæ“çºµçš„å®¹å™¨ã€‚</li>
<li>æ•°æ®åº“æ˜¯ä¸€ä¸ªä»¥æŸç§æœ‰ç»„ç»‡çš„æ–¹å¼å­˜å‚¨çš„æ•°æ®é›†åˆã€‚</li>
<li>æ•°æ®åº“ä¸­çš„æ¯ä¸ªè¡¨åéƒ½æ˜¯å”¯ä¸€çš„ï¼Œ ç”¨æ¥æ ‡è¯†è‡ªå·±ã€‚</li>
<li>æ•°æ®ç±»å‹å¸®åŠ©æ­£ç¡®åœ°æ’åºæ•°æ®ï¼Œ åœ¨ä¼˜åŒ–ç£ç›˜ä½¿ç”¨æ–¹é¢èµ·ç€é‡è¦ä½œç”¨ã€‚</li>
<li>ä¸»é”®(primary key)èƒ½å¤Ÿå”¯ä¸€åŒºåˆ†è¡¨ä¸­çš„æ¯ä¸€è¡Œã€‚ æ²¡æœ‰ä¸»é”®ï¼Œ æ›´æ–°æˆ–åˆ é™¤è¡¨ä¸­çš„ç‰¹å®šè¡Œå¾ˆå›°éš¾ï¼Œ å› ä¸ºæ²¡æœ‰å®‰å…¨çš„æ–¹æ³•ä¿è¯åªæ¶‰åŠç›¸å…³çš„è¡Œã€‚</li>
</ul>
<h2 id="MySQLå…¥é—¨"><a href="#MySQLå…¥é—¨" class="headerlink" title="MySQLå…¥é—¨"></a>MySQLå…¥é—¨</h2><ul>
<li>ç™»å½•MySQLä½¿ç”¨: <code>mysql -u root -h 127ã€‚0ã€‚0ã€‚1 -P 3306 -p</code>æ¥ç™»å½•ã€‚</li>
<li>å‘½ä»¤ç”¨<code>;</code>æˆ–<code>\g</code>ç»“æŸï¼Œ å¦åˆ™æŒ‰ä¸‹<code>&lt;Enter&gt;</code>ä¸ä¼šæ‰§è¡Œå‘½ä»¤ã€‚</li>
</ul>
<h2 id="ä½¿ç”¨MySQL"><a href="#ä½¿ç”¨MySQL" class="headerlink" title="ä½¿ç”¨MySQL"></a>ä½¿ç”¨MySQL</h2><ul>
<li><code>SHOW DATABASES;</code>æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨æ•°æ®åº“çš„åˆ—è¡¨ã€‚</li>
<li>å¿…é¡»å…ˆä½¿ç”¨<code>USE</code>æ‰“å¼€æ•°æ®åº“ï¼Œ æ‰èƒ½è¯»å–å…¶ä¸­çš„æ•°æ®ã€‚</li>
<li><code>SHOW TABLES;</code>è¿”å›å½“å‰é€‰æ‹©çš„æ•°æ®åº“å†…å¯ç”¨è¡¨çš„åˆ—è¡¨ã€‚</li>
<li><code>SHOW STATUS;</code>æ˜¾ç¤ºå¹¿æ³›çš„æœåŠ¡å™¨çŠ¶æ€ä¿¡æ¯ã€‚</li>
<li><code>HELP SHOW;</code>ç”¨äºæ˜¾ç¤ºå…è®¸çš„<code>SHOW</code>å‘½ä»¤ã€‚</li>
</ul>
<h2 id="æ£€ç´¢æ•°æ®"><a href="#æ£€ç´¢æ•°æ®" class="headerlink" title="æ£€ç´¢æ•°æ®"></a>æ£€ç´¢æ•°æ®</h2><ul>
<li>åœ¨å¤„ç†SQLè¯­å¥æ—¶ï¼Œ å…¶ä¸­æ‰€æœ‰ç©ºæ ¼éƒ½è¢«å¿½ç•¥ï¼Œ SQLè¯­å¥å¯ä»¥åœ¨ä¸€è¡Œä¸Šç»™å‡ºï¼Œ ä¹Ÿå¯ä»¥åˆ†æˆè®¸å¤šè¡Œã€‚ å¤šæ•°SQLå¼€å‘äººå‘˜è®¤ä¸ºå°†SQLè¯­å¥åˆ†æˆå¤šè¡Œæ›´å®¹æ˜“é˜…è¯»å’Œç†è§£ã€‚</li>
<li>åœ¨é€‰æ‹©å¤šä¸ªåˆ—æ—¶ï¼Œ ä¸€å®šè¦åœ¨åˆ—è¡¨ä¹‹é—´åŠ ä¸Šé€—å·ï¼Œ ä½†æœ€åä¸€ä¸ªåˆ—ååä¸åŠ ã€‚</li>
<li>ä¸€èˆ¬æƒ…å†µï¼Œ é™¤éç¡®å®éœ€è¦è¡¨ä¸­çš„æ¯ä¸ªåˆ—ï¼Œ å¦åˆ™æœ€å¥½ä¸è¦ä½¿ç”¨<code>*</code>é€šé…ç¬¦ã€‚ è™½ç„¶ä½¿ç”¨é€šé…ç¬¦å¯èƒ½ä¼šä½¿è‡ªå·±çœäº‹ï¼Œ ä¸ç”¨æ˜ç¡®åˆ—å‡ºæ‰€éœ€åˆ—ï¼Œ ä½†æ£€ç´¢ä¸éœ€è¦çš„åˆ—é€šå¸¸ä¼šé™ä½æ£€ç´¢å’Œåº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚</li>
<li>ä¸ºäº†è¿”å›ç¬¬ä¸€è¡Œæˆ–å‰å‡ è¡Œï¼Œ å¯ä½¿ç”¨<code>LIMIT</code>å­å¥ã€‚</li>
<li>ä½¿ç”¨<code>DISTINCT</code>è¿”å›å½“å‰åˆ—çš„ä¸åŒ(å”¯ä¸€)è¡Œã€‚</li>
<li><code>LIMIT5ï¼Œ5</code>è¡¨ç¤ºMySQLè¿”å›ä»è¡Œ5å¼€å§‹çš„5è¡Œã€‚ ç¬¬ä¸€ä¸ªæ˜¯å¼€å§‹çš„ä½ç½®ï¼Œ ç¬¬äºŒä¸ªæ•°æ˜¯è¦æ£€ç´¢çš„è¡Œæ•°ã€‚</li>
</ul>
<h2 id="æ’åºæ£€ç´¢æ•°æ®"><a href="#æ’åºæ£€ç´¢æ•°æ®" class="headerlink" title="æ’åºæ£€ç´¢æ•°æ®"></a>æ’åºæ£€ç´¢æ•°æ®</h2><ul>
<li>ä¸ºäº†æ˜ç¡®åœ°æ’åºç”¨<code>SELECT</code>è¯­å¥æ£€ç´¢å‡ºçš„æ•°æ®ï¼Œ å¯ä»¥ä½¿ç”¨<code>ORDER BY</code>å­å¥ï¼Œ <code>ORDER BY</code>å­å¥å–ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„åå­—ï¼Œ æ®æ­¤å¯¹è¾“å‡ºè¿›è¡Œæ’åºã€‚</li>
<li>é™åºæ’åºä½¿ç”¨<code>DESC</code>å…³é”®å­—ã€‚</li>
</ul>
<h2 id="è¿‡æ»¤æ¡ä»¶"><a href="#è¿‡æ»¤æ¡ä»¶" class="headerlink" title="è¿‡æ»¤æ¡ä»¶"></a>è¿‡æ»¤æ¡ä»¶</h2><ul>
<li>ä½¿ç”¨<code>BETWEEN</code>æ—¶ï¼Œ å¿…é¡»æŒ‡å®šä¸¤ä¸ªå€¼ï¼Œ æ‰€éœ€èŒƒå›´çš„ä½ç«¯å€¼å’Œé«˜ç«¯å€¼ï¼Œ è¿™ä¸¤ä¸ªå€¼å¿…é¡»ç”¨<code>AND</code>å…³é”®å­—åˆ†å‰²ã€‚</li>
<li>åœ¨<code>WHERE</code>å­å¥ä¸­ä½¿ç”¨å›­æ‹¬å·ã€‚ ä»»ä½•æ—¶å€™ä½¿ç”¨å…·æœ‰<code>AND</code>å’Œ<code>OR</code>æ“ä½œç¬¦çš„<code>WHERE</code>å­å¥ï¼Œ éƒ½åº”è¯¥ä½¿ç”¨åœ†æ‹¬å·æ˜ç¡®çš„åˆ†ç»„æ“ä½œç¬¦ï¼Œ å¯ä»¥æ¶ˆé™¤æ­§ä¹‰ã€‚</li>
<li><code>IN</code>çš„æœ€å¤§ä¼˜ç‚¹æ˜¯å¯ä»¥åŒ…å«å…¶ä»–<code>SELECT</code>è¯­å¥ï¼Œä½¿å¾—å¯ä»¥æ›´åŠ¨æ€çš„å»ºç«‹<code>WHERE</code>å­å¥ã€‚</li>
<li>ä¸è¦è¿‡åº¦ä½¿ç”¨é€šé…ç¬¦ï¼Œ å…¶ä»–æ“ä½œç¬¦èƒ½è¾¾åˆ°ç›¸åŒçš„ç›®çš„ï¼Œ åº”è¯¥ä½¿ç”¨å…¶ä»–æ“ä½œç¬¦ã€‚</li>
</ul>
<h2 id="MySQLæ­£åˆ™è¡¨è¾¾å¼"><a href="#MySQLæ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="MySQLæ­£åˆ™è¡¨è¾¾å¼"></a>MySQLæ­£åˆ™è¡¨è¾¾å¼</h2><ul>
<li><code>LIKE</code>åŒ¹é…æ•´ä¸ªä¸²ï¼Œ è€Œ<code>REGEXP</code>åŒ¹é…å­ä¸²ã€‚</li>
<li>å¤šæ•°æ­£åˆ™è¡¨è¾¾å¼å®ç°ä½¿ç”¨å•ä¸ªåæ–œæ è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œ ä»¥ä¾¿èƒ½ä½¿ç”¨è¿™äº›å­—ç¬¦æœ¬èº«ï¼Œ ä½†MySQLè¦æ±‚ä¸¤ä¸ªåæ–œæ ï¼Œ ä¸€ä¸ªç»™MySQLè‡ªå·±ç”¨ï¼Œ ä¸€ä¸ªç»™æ­£åˆ™è¡¨è¾¾å¼ç”¨ã€‚</li>
<li><code>[^123]</code>åŒ¹é…é™¤æ–¹æ‹¬å·å†…ä»¥å¤–çš„ä»»ä½•ä¸œè¥¿ã€‚</li>
</ul>
<h2 id="å…¶ä»–æ€»ç»“"><a href="#å…¶ä»–æ€»ç»“" class="headerlink" title="å…¶ä»–æ€»ç»“"></a>å…¶ä»–æ€»ç»“</h2><ul>
<li><code>SQL</code>æ”¯æŒåˆ«åï¼Œ ç”¨<code>AS</code>å…³é”®å­—èµ‹äºˆã€‚</li>
<li><code>SUM()</code>ç”¨æ¥è¿”å›æŒ‡å®šåˆ—å€¼å¾—æ€»å’Œã€‚</li>
<li>å­¦è¿‡æ‰€æœ‰ç±»å‹çš„<code>WHERE</code>å­å¥éƒ½å¯ä»¥ä½¿ç”¨<code>HAVING</code>æ›¿ä»£ï¼Œ å”¯ä¸€çš„å·®åˆ«æ˜¯<code>WHEREè¿‡æ»¤è¡Œ</code>ï¼Œ è€Œ<code>HAVING</code>è¿‡æ»¤åˆ†ç»„ã€‚</li>
<li>è”ç»“æ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨æ¥åœ¨ä¸€æ¡<code>SELECT</code>è¯­å¥ä¸­å…³è”è¡¨ï¼Œå› æ­¤ç§°ä¹‹ä¸ºè”ç»“ã€‚</li>
<li><code>UNION</code>ä»æŸ¥è¯¢ç»“æœé›†ä¸­è‡ªåŠ¨å»é™¤äº†é‡å¤çš„è¡Œï¼Œå®ƒçš„è¡Œä¸ºä¸å•æ¡<code>SELCT</code>è¯­å¥ä¸­ä½¿ç”¨å¤šä¸ª<code>WHERE</code>å­å¥æ¡ä»¶ä¸€æ ·ã€‚å®ƒæ˜¯<code>UNION</code>çš„é»˜è®¤è¡Œä¸ºï¼Œå¦‚æœæƒ³è¿”å›æ‰€æœ‰è¡Œï¼Œå¯ä»¥ä½¿ç”¨<code>UNION ALL</code>ã€‚</li>
<li>æœ€å¸¸ä½¿ç”¨çš„å¼•æ“ä¸º<code>MyISAM</code>å’Œ<code>InnoDB</code>ï¼Œå‰è€…æ”¯æŒå…¨æ–‡æœ¬æœç´¢ã€‚</li>
<li>ä¸è¦åœ¨å¯¼å…¥æ•°æ®æ—¶ä½¿ç”¨<code>FULLTEXT</code>ã€‚</li>
<li>åœ¨æ›´æ–°å¤šä¸ªåˆ—æ—¶ï¼Œåªéœ€è¦ä½¿ç”¨å•ä¸ª<code>SET</code>å‘½ä»¤ï¼Œæ¯ä¸ª<code>åˆ—-å€¼</code>å¯¹ä¹‹é—´ç”¨é€—å·éš”å¼€ï¼Œæœ€åä¸€ä¸ªä¸ä½¿ç”¨é€—å·ã€‚</li>
<li><code>TRUNCATE</code>æ˜¯åˆ é™¤åŸæ¥çš„è¡¨å¹¶é‡æ–°æ›´æ–°åˆ›å»ºä¸€ä¸ªè¡¨ã€‚</li>
<li>åœ¨ä½¿ç”¨<code>UPDATE</code>æˆ–<code>DELETE</code>è¯­å¥å‰ï¼Œåº”å…ˆä½¿ç”¨<code>SELECT</code>è¯­å¥è¿›è¡Œæµ‹è¯•ï¼Œä¿è¯æ›´æ–°å’Œåˆ é™¤çš„æ˜¯æ­£ç¡®çš„è®°å½•ã€‚é˜²æ­¢<code>WHERE</code>æ¡ä»¶ä¸æ­£ç¡®ã€‚</li>
<li>äº‹åŠ¡ï¼ˆ<code>transaction</code>ï¼‰æŒ‡ä¸€ç»„SQLè¯­å¥ã€‚äº‹åŠ¡å¤„ç†æ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨æ¥ç®¡ç†å¿…é¡»æˆæ‰¹æ‰§è¡Œçš„MySQLæ“ä½œã€‚ä»¥ä¿è¯æ•°æ®åº“ä¸åŒ…æ‹¬ä¸å®Œæ•´çš„æ“ä½œç»“æœã€‚åˆ©ç”¨äº‹åŠ¡å¤„ç†ï¼Œå¯ä»¥ä¿è¯ä¸€ç»„æ“ä½œä¸ä¼šä¸­é€”åœæ­¢ã€‚å®ƒä»¬æˆ–è€…ä½œä¸ºæ•´ä½“æ‰§è¡Œï¼Œæˆ–è€…å®Œå…¨ä¸æ‰§è¡Œï¼ˆé™¤éæ˜ç¡®æŒ‡ç¤ºï¼‰ã€‚å¦‚æœæ²¡æœ‰é”™è¯¯å‘ç”Ÿï¼Œæ•´ç»„è¯­å¥æäº¤ç»™ï¼ˆå†™åˆ°ï¼‰æ•°æ®åº“è¡¨ã€‚å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿›è¡Œå›é€€ï¼ˆæ’¤é”€ï¼‰ä»¥æ¢å¤æ•°æ®åº“åˆ°æŸä¸ªå·²çŸ¥ä¸”å®‰å…¨çš„çŠ¶æ€ã€‚</li>
<li>InnoDBæ˜¯ä¸€ä¸ªå¯é çš„äº‹åŠ¡å¤„ç†å¼•æ“ï¼Œä½†ä¸æ”¯æŒå…¨æ–‡æœç´¢ã€‚MyISAMæ˜¯ä¸€ä¸ªæ€§èƒ½æé«˜çš„å¼•æ“ï¼Œå®ƒæ”¯æŒå…¨æ–‡æœç´¢ï¼Œä½†ä¸æ”¯æŒäº‹åŠ¡å¤„ç†ã€‚</li>
<li>NULLæ— å€¼ï¼ˆno valueï¼‰ï¼Œå’Œå­—æ®µä¸ºç©ºå­—ç¬¦ï¼Œä»…åŒ…å«ç©ºæ ¼ä¸åŒã€‚</li>
<li>æ›´æ–°è¡¨å®šä¹‰å¯ä½¿ç”¨<code>ALTER TABLE</code>è¯­å¥ï¼Œä½†æ˜¯åœ¨ç†æƒ³çŠ¶æ€ä¸‹ï¼Œå½“è¡¨ä¸­å­˜å‚¨æ•°æ®åï¼Œè¯¥è¡¨å°±ä¸è¯¥å†è¢«æ›´æ–°ã€‚åœ¨è¡¨çš„è®¾è®¡è¿‡ç¨‹ä¸­éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´æ¥è€ƒè™‘ï¼Œä»¥ä¾¿åæœŸä¸å†å¯¹è¡¨è¿›è¡Œå¤§çš„æ”¹åŠ¨ã€‚</li>
<li>è§†å›¾æ˜¯è™šæ‹Ÿçš„è¡¨ï¼Œä¸åŒ…å«æ•°æ®çš„è¡¨ä¸ä¸€æ ·ã€‚è§†å›¾åªåŒ…å«ä½¿ç”¨æ—¶åŠ¨æ€æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢ã€‚</li>
<li>è§†å›¾æœ€å¸¸è§çš„åº”ç”¨ä¹‹ä¸€æ˜¯éšè—å¤æ‚çš„SQLï¼Œé€šå¸¸ä¼šè®¾è®¡è”ç»“ã€‚</li>
<li><code>LONTEXT</code>å’Œ<code>TEXT</code>ç›¸åŒï¼Œä½†æœ€å¤§é•¿åº¦ä¸º4GBã€‚</li>
</ul>
]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€è¡Œä»£ç æå®š Quantumult X è¿œç¨‹è„šæœ¬</title>
    <url>/339.html</url>
    <content><![CDATA[<p>å› ä¸ºå„ç§å„æ ·çš„åŸå› ï¼ŒQuantumult X åœ¨ 1.0.3 ç‰ˆæœ¬åå–æ¶ˆäº†è¿œç¨‹è°ƒç”¨ JavaScript ä»£ç çš„åŠŸèƒ½ã€‚ä»Šå¤©æˆ‘ä»¬è¦åœ¨æœ€æ–°çš„å•†åº—ç‰ˆï¼ˆv1.0.6-build 212ï¼‰ä¸­ï¼Œä½¿ç”¨ä¸€è¡Œä»£ç æ¥æ‰§è¡Œè¿œç¨‹ JavaScript ä»£ç ï¼Œæ•ˆæœå’Œæœ¬åœ°ä¸€æ ·ã€‚</p>
<a id="more"></a>
<h1 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h1><p>è¿™æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿œç¨‹è„šæœ¬çš„å…³é”®å‡½æ•°ã€‚ <code>eval()</code> å‡½æ•°ä¼šå°†ä¼ å…¥çš„å­—ç¬¦ä¸²å½“åš JavaScript ä»£ç è¿›è¡Œæ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªè¦è¯·æ±‚è¿œç¨‹è„šæœ¬çš„ GitHub åœ°å€ï¼Œå°†è¿”å›çš„è¿œç¨‹è„šæœ¬æ‰§è¡Œå³å¯ã€‚</p>
<h1 id="ä¸¾ä¸ªæ —å­ğŸŒ°"><a href="#ä¸¾ä¸ªæ —å­ğŸŒ°" class="headerlink" title="ä¸¾ä¸ªæ —å­ğŸŒ°"></a>ä¸¾ä¸ªæ —å­ğŸŒ°</h1><p>æ‹¿<a href="https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js">äº¬ä¸œç­¾åˆ°è„šæœ¬</a>æ¥ä¸¾ä¾‹ã€‚ ç”¨ä¸€è¡Œä»£ç æ‰§è¡Œäº¬ä¸œç­¾åˆ°æ˜¯æœ‰å‰ææ¡ä»¶çš„ï¼Œè¦ä¿è¯ Quantumult X å·²ç»è·å–äº†äº¬ä¸œçš„ Cookiesã€‚æˆ‘ä»¬è¿™é‡Œå…ˆåšè¿œç¨‹ç­¾åˆ°çš„å±•ç¤ºã€‚ ä»¥ä¸‹æ˜¯è¿œç¨‹ç­¾åˆ°çš„å…¨éƒ¨ä»£ç ï¼Œæˆ‘ä»¬å‘½åä¸º JD_eval.jsï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript">$task.fetch(&#123; <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js&quot;</span> &#125;).then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<span class="hljs-built_in">eval</span>(response.body);&#125;);<br></code></pre></td></tr></table></figure>

<p>åªæœ‰ä¸€è¡Œä»£ç ï¼Œå®Œæˆäº†ä¸¤ä»¶äº‹ã€‚</p>
<ol>
<li>è¯·æ±‚äº¬ä¸œç­¾åˆ°çš„è¿œç¨‹ä»£ç åœ°å€ï¼›</li>
<li>ä½¿ç”¨ <code>eval()</code> å‡½æ•°æ‰§è¡Œè¯·æ±‚çš„ä»£ç ã€‚</li>
</ol>
<p>JD_eval.js å’Œæœ¬åœ° JavaScript è„šæœ¬ä¸€æ ·ï¼Œå®šæ—¶æ‰§è¡Œå°±å¯ä»¥ã€‚ ä»¥ä¸‹æ˜¯æˆ‘çš„æµ‹è¯•ç»“æœï¼Œå› ä¸ºå½“å¤©å·²ç»ç­¾åˆ°ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†éƒ½æ˜¾ç¤ºå·²ç­¾è¿‡ã€‚ <img src="https://i.loli.net/2020/03/29/id3LWAG2hxRDCJp.jpg" alt="æµ‹è¯•ç»“æœ"> å…¶ä»–è„šæœ¬ä¹Ÿæ˜¯å¯ä»¥è¿™ä¹ˆä½¿ç”¨çš„ã€‚</p>
<h1 id="æ¨è"><a href="#æ¨è" class="headerlink" title="æ¨è"></a>æ¨è</h1><p>å¦‚æœçœ‹äº†ä¸Šè¿°æ–‡ç« æœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œå¯ä»¥æŠŠé‚£ä¸€è¡Œä»£ç æ‹“å±•ä¸€ä¸‹ï¼ŒåŠ ä¸€äº›å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è¾“å‡ºã€‚å¦‚æœæ˜¯å°ç™½çš„è¯ï¼Œæ¨èä½¿ç”¨ yichahucha å¤§ä½¬çš„è„šæœ¬ï¼š<a href="https://github.com/yichahucha/surge/blob/2.0/eval_script.js">eval_script.js</a>ã€‚ä¹Ÿèƒ½è¾¾åˆ°è¿œç¨‹æ‰§è¡Œçš„ç›®çš„ã€‚ ğŸ‘‰ å°ç™½ä¸€é”®é…ç½®ï¼š<a href="https://github.com/alpha87/QuantumultX-Profiles/raw/master/quantumultX/_profile.conf">https://github.com/alpha87/QuantumultX-Profiles/raw/master/quantumultX\_profile.conf</a> ğŸ‘‰ GitHub åœ°å€ï¼š<a href="https://github.com/alpha87/QuantumultX-Profiles">https://github.com/alpha87/QuantumultX-Profiles</a> å¦‚æœæƒ³è¦ä½¿ç”¨è¿œç¨‹è„šæœ¬ï¼Œå¿«å»å°è¯•ä¸€ä¸‹å§ã€‚</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>è„šæœ¬</tag>
        <tag>QuantumultX</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸‰æ™‹å…ˆé”‹è‡ªåŠ¨ç§¯åˆ†è„šæœ¬</title>
    <url>/ckm04di7q004e1c6m47ll1yeq.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2021/03/07/yVYAm3HUhSfGi5j.jpg"></p>
<p><strong>ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šæˆ–å…¶ä»–ç”¨é€”ï¼Œè¯·äº24å°æ—¶å†…åˆ é™¤ï¼</strong></p>
<a id="more"></a>

<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>æœ¬è„šæœ¬å¯ä½¿ç”¨è…¾è®¯äº‘å‡½æ•°æ¯æ—¥å®šæ—¶æ‰§è¡Œï¼Œä¹Ÿå¯ç›´æ¥åœ¨æœ¬åœ°ä½¿ç”¨å‘½ä»¤è¡Œè¿è¡Œã€‚</p>
<p>æœ¬åœ°è¿è¡Œéœ€è¦å…ˆä¿®æ”¹ <code>username</code> å’Œ <code>password</code> å­—æ®µï¼Œå¯¹åº”è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œç„¶ååœ¨ç»ˆç«¯ä½¿ç”¨ <code>python3 index.py</code> æ‰§è¡Œã€‚</p>
<h2 id="å¯†ç åŠ å¯†éƒ¨åˆ†"><a href="#å¯†ç åŠ å¯†éƒ¨åˆ†" class="headerlink" title="å¯†ç åŠ å¯†éƒ¨åˆ†"></a>å¯†ç åŠ å¯†éƒ¨åˆ†</h2><p>åŠ å¯†åçš„å¯†ç å— <a href="https://github.com/RuikaiWang/Study">RuikaiWang/Study</a> å¯å‘ï¼ˆCopyï¼‰ã€‚</p>
<h3 id="å®‰è£…-pycrypto"><a href="#å®‰è£…-pycrypto" class="headerlink" title="å®‰è£… pycrypto"></a>å®‰è£… pycrypto</h3><ol>
<li>pip uninstall crypto</li>
<li>pip uninstall pycrypto</li>
<li>pip install pycrypto</li>
</ol>
<h2 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h2><p>ç”¨æˆ·åå’Œå¯†ç å»ºè®®é€šè¿‡ç¯å¢ƒå˜é‡è·å–ã€‚è¯¦æƒ…å¯æŸ¥çœ‹<a href="https://cloud.tencent.com/document/product/583/30228">è…¾è®¯äº‘å‡½æ•°ç¯å¢ƒå˜é‡æ–‡æ¡£</a>ã€‚</p>
<p>Python è·å–ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><br><br>value = os.environ.get(<span class="hljs-string">&#x27;key&#x27;</span>)<br>print(value)<br></code></pre></td></tr></table></figure>

<h2 id="ä¾èµ–å®‰è£…"><a href="#ä¾èµ–å®‰è£…" class="headerlink" title="ä¾èµ–å®‰è£…"></a>ä¾èµ–å®‰è£…</h2><p>è¿™ä¸€æ­¥ç›¸å½“äºæŠŠç¬¬ä¸‰æ–¹åº“ä¿å­˜åˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹ã€‚è¯¦æƒ…å¯æŸ¥çœ‹<a href="https://cloud.tencent.com/document/product/583/39780">è…¾è®¯äº‘å‡½æ•°ä¾èµ–å®‰è£…æ–‡æ¡£</a>ã€‚</p>
<p>Python å¯ä»¥é€šè¿‡ pip åŒ…ç®¡ç†å™¨è¿›è¡Œä¾èµ–ç®¡ç†ã€‚ç”±äºç¯å¢ƒé…ç½®ä¸åŒï¼Œå¯è‡ªè¡Œå°† pip æ›¿æ¢ä¸º pip3 æˆ– pip2ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<ol>
<li>åœ¨ requirements.txt ä¸­é…ç½®ä¾èµ–ä¿¡æ¯ã€‚</li>
<li>é€šè¿‡ <code>pip install -r requirements.txt -t .</code> å‘½ä»¤å®‰è£…ä¾èµ–åŒ…ã€‚</li>
<li>ä¸Šä¼ ä»£ç åº“æ—¶è¯·å°†ä¾èµ–åº“ä¸€åŒæ‰“åŒ…ä¸Šä¼ ã€‚</li>
</ol>
<p>è¿™ä¸‰æ­¥å°±æ˜¯å°†ç¬¬ä¸‰æ–¹ä¾èµ–å®‰è£…åˆ°ä»£ç æ‰€åœ¨æ–‡ä»¶å¤¹ä¸‹ã€‚å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://i.loli.net/2020/12/28/92hpksd8n7Ie6F5.png" alt="ç¬¬ä¸‰æ–¹åº“"></p>
<h2 id="Server-é…±å¾®ä¿¡é€šçŸ¥"><a href="#Server-é…±å¾®ä¿¡é€šçŸ¥" class="headerlink" title="Server é…±å¾®ä¿¡é€šçŸ¥"></a>Server é…±å¾®ä¿¡é€šçŸ¥</h2><p><a href="https://sct.ftqq.com/">Server é…±</a>ä½¿ç”¨å¾®ä¿¡ç™»å½•ï¼Œè·å– SendKeyã€‚</p>
<p><img src="https://i.loli.net/2020/12/28/XuO3eUF4yJ1Dt8P.jpg" alt="SendKey"></p>
<h2 id="è§¦å‘ç®¡ç†"><a href="#è§¦å‘ç®¡ç†" class="headerlink" title="è§¦å‘ç®¡ç†"></a>è§¦å‘ç®¡ç†</h2><p><img src="https://i.loli.net/2020/12/28/nsdFNgaqDJX4uiI.jpg" alt="è§¦å‘ç®¡ç†"></p>
<p>æŒ‰ä¸Šå›¾è®¾ç½®å¥½ï¼Œæ¯å¤©ä¸­åˆçš„ 11 ç‚¹ 10 åˆ† 16 ç§’å¼€å§‹æ‰§è¡Œä»»åŠ¡ã€‚</p>
<h2 id="å¾®ä¿¡é€šçŸ¥"><a href="#å¾®ä¿¡é€šçŸ¥" class="headerlink" title="å¾®ä¿¡é€šçŸ¥"></a>å¾®ä¿¡é€šçŸ¥</h2><div align=center><img src="https://i.loli.net/2021/02/22/BbI8DRJ7eldxZNs.jpg"></div>

<h2 id="èµèµ"><a href="#èµèµ" class="headerlink" title="èµèµ"></a>èµèµ</h2><div align=center><img width="260" height="260" src="https://i.loli.net/2021/01/12/ykHU2RSXoCZFfxr.jpg"></div>]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>è„šæœ¬</tag>
        <tag>äº‘å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸å¯ä¸çŸ¥çš„å‡ ä¸ªè‡ªå­¦ç½‘ç«™</title>
    <url>/344.html</url>
    <content><![CDATA[<p>è¿™æ¬¡ç–«æƒ…å‘Šè¯‰æˆ‘ä»¬å¾ˆå¤šäººï¼Œåªæœ‰ä¸€é—¨æ”¶å…¥æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚ä¸è®ºæ˜¯åœ¨æ ¡å­¦ç”Ÿï¼Œè¿˜æ˜¯å·²ç»å·¥ä½œçš„æœ‹å‹ï¼Œç–«æƒ…æœŸé—´æˆ‘ä»¬ä¸ç¼ºçš„å°±æ˜¯æ—¶é—´ã€‚å¦‚æœèƒ½å¥½å¥½åˆ©ç”¨è¿™æ®µæ—¶é—´æå‡è‡ªå·±ï¼Œåœ¨æœªæ¥å¤šä¸€ä»½å‰¯ä¸šï¼Œä¹Ÿå°±å¤šä¸€ä»½ä¿éšœã€‚è¿™é‡Œæ¨èå‡ ä¸ªè‡ªå­¦ç½‘ç«™ï¼Œä¸ªäººæ”¶è—äº†å¾ˆä¹…ï¼Œä¹Ÿæ”¶è·äº†å¾ˆå¤šï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚</p>
<a id="more"></a>
<h1 id="W3school"><a href="#W3school" class="headerlink" title="W3school"></a>W3school</h1><p><a href="https://www.w3school.com.cn/index.html">W3school</a> ä¸»è¦ä»¥ç½‘ç«™ç¼–ç¨‹ä¸ºä¸»ï¼Œå’Œå›½å¤–çš„ <a href="https://www.w3schools.com/">w3schools.com</a> å¾ˆç±»ä¼¼ï¼Œå¯ä»¥æ¦‚æ‹¬è¯´æ˜¯ä¸­æ–‡ç‰ˆçš„ w3schools.comã€‚è™½ç„¶æœ‰å¾ˆå¤šäººä¸è®¤åŒè¿™ä¸ªç½‘ç«™ï¼Œè§‰å¾—å¹¶ä¸é€‚åˆç”¨æ¥å­¦ä¹ ã€‚ä½†æ˜¯æˆ‘ä¸ªäººè®¤ä¸ºï¼Œèƒ½å­¦åˆ°çŸ¥è¯†çš„æ•™ç¨‹å°±æ˜¯å¥½æ•™ç¨‹ã€‚é›¶åŸºç¡€å…¥é—¨ç½‘ç«™ç¼–ç¨‹ï¼ŒW3school å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿè®¤è¯†äº†è§£ç½‘é¡µç¼–ç¨‹ï¼Œå¯¹äºåŸºæœ¬åŠŸæ–¹é¢çš„çŸ¥è¯†ä»‹ç»è¿˜æ˜¯å¯ä»¥çš„ï¼Œå¯¹äºå·²ç»å…¥é—¨çš„åŒå­¦ï¼ŒW3school å¸®åŠ©ä½ å¿«é€Ÿæƒ³èµ·ä¸€äº›ç½‘ç«™ç¼–ç¨‹çš„ç”¨æ³•ï¼Œå­¦ä¹ çš„è¯æœ€å¥½é€‰ä¸€äº›è¿›é˜¶æ•™ç¨‹ã€‚åœ¨è¿™é‡Œå°±ä¸å¾—ä¸æ <a href="https://www.w3school.com.cn/index.html">W3school</a>ï¼Œ<a href="https://www.w3schools.com/">w3schools</a> å’Œ <a href="https://www.w3cschool.cn/index.html">W3Cschool</a> äº†ï¼Œç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¸‰ä¸ªç½‘ç«™å¯èƒ½ä¼šå¾ˆæ™•ï¼Œä½†å®é™…ä¸Šè¿™ä¸‰ä¸ªç½‘ç«™æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œéƒ½æ˜¯ç¼–ç¨‹ç›¸å…³çš„æ–‡æ¡£æ•™ç¨‹ï¼Œå¤§å®¶å¯ä»¥é€‰æ‹©é€‚åˆè‡ªå·±çš„ã€‚ <img src="https://i.loli.net/2020/04/03/DUoxBpG5I2rN7X8.png" alt="W3school"></p>
<h1 id="oeasy"><a href="#oeasy" class="headerlink" title="oeasy"></a>oeasy</h1><p><a href="http://oeasy.org/">oeasy</a> æ˜¯ä¸€ä¸ªè§†é¢‘æ•™ç¨‹ç½‘ç«™ï¼ŒåŒ…å«è®¸å¤šæ•™ç¨‹ï¼Œè¦†ç›–å„ä¸ªæ–¹é¢ã€‚ç½‘ç«™ä½œè€…æ˜¯ä¸­å›½ä¼ åª’å¤§å­¦çš„è®¡ç®—æœºæ•™å¸ˆã€‚æœ€åˆæ¥è§¦è¿˜æ˜¯å­¦ä¹  PhotoShop æ—¶äº†è§£çš„ã€‚ç°åœ¨ç½‘ç«™å·²ç»æœ‰å„ç§å„æ ·çš„å­¦ä¹ æ•™ç¨‹äº†ï¼Œè€Œä¸”ä»¥è§†é¢‘ä¸ºä¸»ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åœ¨ <a href="https://space.bilibili.com/2884629">bilibili</a> ä¸Šå…³æ³¨ä»–ã€‚ä»å›¾ç‰‡åˆ¶ä½œï¼Œå›¾æ ‡åˆ¶ä½œï¼ŒåŠå…¬è½¯ä»¶ä½¿ç”¨ï¼Œç¼–ç¨‹è¯­è¨€å­¦ä¹ åˆ°ç”µè·¯å¼€å‘ï¼Œéƒ½æœ‰è§†é¢‘æ•™ç¨‹ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥äº†è§£ä¸€ä¸‹ã€‚ä¸€å®šä¼šè®©ä½ æ‰¾åˆ°é€‚åˆè‡ªå·±å­¦ä¹ çš„æ•™ç¨‹ã€‚ <img src="https://i.loli.net/2020/04/03/f5YKziNIkGd1V4P.png" alt="oeasy"></p>
<h1 id="Crash-Course-ä¸­æ–‡å­—å¹•ç»„"><a href="#Crash-Course-ä¸­æ–‡å­—å¹•ç»„" class="headerlink" title="Crash Course ä¸­æ–‡å­—å¹•ç»„"></a>Crash Course ä¸­æ–‡å­—å¹•ç»„</h1><p><a href="https://crashcourse.club/">Crash Course ä¸­æ–‡å­—å¹•ç»„</a> è¿™ä¸ªç½‘ç«™æ›´åƒæ˜¯ç™¾ç§‘å…¨ä¹¦ã€‚åŒ…å«å†å²ï¼Œå“²å­¦ï¼Œç”µå½±é‰´èµï¼Œç‰©ç†å­¦ï¼Œè®¡ç®—æœºç§‘å­¦ç­‰ç­‰å¾ˆå¤šè¯¾ç¨‹ã€‚è§†é¢‘è¯¾ç¨‹å…¨éƒ¨æ¥è‡ªå›½å¤–ï¼Œè€Œä¸”è´¨é‡éå¸¸é«˜ï¼Œè¿™äº›è§†é¢‘éƒ½æœ‰<strong>ä¸­æ–‡å­—å¹•</strong>ã€‚å¦‚æœä½ æƒ³åœ¨ç©ºé—²çš„æ—¶å€™å­¦ç‚¹ä»€ä¹ˆï¼Œä½†åˆæ— ä»ä¸‹æ‰‹çš„æ—¶å€™å¯ä»¥çœ‹çœ‹è¿™ä¸ªç½‘ç«™ï¼Œå¯ä»¥è¯´åŒ…å«äººç±»å„ä¸ªæ–¹é¢çš„çŸ¥è¯†äº†ï¼Œäº†è§£å…¶ä¸­ä¸€é—¨éƒ½ä¼šæœ‰å·¨å¤§æ”¶è·ã€‚ <img src="https://i.loli.net/2020/04/03/GECAhxf8OlDWXKr.png" alt="Crash Course ä¸­æ–‡å­—å¹•ç»„"></p>
<h1 id="èœé¸Ÿæ•™ç¨‹"><a href="#èœé¸Ÿæ•™ç¨‹" class="headerlink" title="èœé¸Ÿæ•™ç¨‹"></a>èœé¸Ÿæ•™ç¨‹</h1><p><a href="https://www.runoob.com/">èœé¸Ÿæ•™ç¨‹</a> æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„è‡ªå­¦ç¼–ç¨‹ç½‘ç«™ã€‚èœé¸Ÿæ•™ç¨‹æ¶µç›–äº†ç°åœ¨æµè¡Œçš„å¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œæ•°æ®åº“ï¼Œå¼€å‘å·¥å…·å’Œç½‘ç«™å»ºè®¾çš„æ•™ç¨‹ã€‚å¦‚æœä»ç°åœ¨å¼€å§‹ï¼Œä½ æƒ³å­¦ä¹ ç¼–ç¨‹ï¼Œä½†æ˜¯åˆä¸çŸ¥é“å¦‚ä½•é€‰æ‹©ä¹¦ç±æˆ–è€…èµ„æ–™ï¼Œå¯ä»¥å…ˆçœ‹çœ‹èœé¸Ÿæ•™ç¨‹ï¼Œæ‹¿æ¥å…¥é—¨æ˜¯éå¸¸ä¸é”™çš„é€‰æ‹©ã€‚è€Œä¸”å¼€å‘è¿‡ç¨‹ä¸­æœ‰ä»€ä¹ˆç”¨æ³•è®°ä¸æ¸…è¿˜å¯ä»¥æŸ¥æ‰¾ç›¸å…³æ•™ç¨‹ï¼Œéå¸¸æ–¹ä¾¿ã€‚ <img src="https://i.loli.net/2020/04/03/nC1Mxg6KkhyTjqZ.png" alt="èœé¸Ÿæ•™ç¨‹"> å½“ç„¶ä»‹ç»äº†è¿™ä¹ˆå¤šç½‘ç«™ï¼Œé‡è¦çš„è¿˜æ˜¯é€‰æ‹©é€‚åˆè‡ªå·±çš„ï¼ŒåšæŒå­¦ä¸‹å»ã€‚å†…å®¹å¯èƒ½æœ‰äº›åå‘ç¼–ç¨‹ï¼Œæ¯•ç«Ÿæˆ‘ä¹Ÿæ˜¯è¿™äº›ç½‘ç«™çš„ç”¨æˆ·ï¼Œæ€»ä½“ä½“éªŒå¾ˆä¸é”™ï¼Œæ¨èç»™å¤§å®¶ã€‚</p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸ºä»€ä¹ˆè¦è°ƒè¯•ä»£ç </title>
    <url>/71.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2013/07/12/17/47/test-pattern-152459__480.png"> è¯´èµ·è°ƒè¯•ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä¸é™Œç”Ÿã€‚å¦‚æœä½ ä¸æ˜¯ç»å¸¸è°ƒè¯•ä»£ç ï¼Œè¯´æ˜ä»£ç  bug æ¯”è¾ƒå°‘ï¼Œæˆ–è€…é”™è¯¯æ¯”è¾ƒç›´è§‚ï¼Œå†æˆ–è€…å°±æ˜¯ä½ å¹¶æ²¡æœ‰ä½“ä¼šåˆ°è°ƒè¯•ä»£ç å¸¦æ¥çš„è¯¸å¤šæ–¹ä¾¿å’Œå¥½å¤„ã€‚ è™½ç„¶ã€Šä»£ç å¤§å…¨ï¼ˆç¬¬ 2 ç‰ˆï¼‰ã€‹æåˆ°â€œè°ƒè¯•æ˜¯ç¡®å®šé”™è¯¯æ ¹æœ¬åŸå› å¹¶çº æ­£æ­¤é”™è¯¯çš„è¿‡ç¨‹ã€‚â€ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºè°ƒè¯•è¿˜æœ‰å¸®åŠ©ç¼–å†™ä»£ç å’Œé˜…è¯»æºç çš„åŠŸèƒ½ã€‚ä¾‹å¦‚æˆ‘ä»¬åœ¨åšçˆ¬è™«å¼€å‘çš„æ—¶å€™ï¼Œä¸€è¾¹è°ƒè¯•ï¼Œä¸€è¾¹è§£æç½‘é¡µç¼–å†™ç›¸å…³ä»£ç ï¼Œå†™èµ·æ¥å¯ä»¥è¯´éå¸¸èˆ’æœã€‚é€šè¿‡è°ƒè¯•ï¼Œæˆ‘ä»¬è¿˜èƒ½å‡†ç¡®äº†è§£ä»£ç çš„æ‰§è¡Œé¡ºåºï¼Œè°ƒç”¨çš„æ–¹æ³•ç­‰æ“ä½œï¼Œä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥ä½“ä¼šåˆ°ä»£ç ç¼–å†™è€…çš„ç”¨å¿ƒã€‚ç†Ÿç»ƒå¯¹ä»£ç è°ƒè¯•ï¼Œå¯ä»¥æé«˜æˆ‘ä»¬çš„å·¥ä½œå’Œå­¦ä¹ æ•ˆç‡ã€‚ æˆ‘ä»¬åº”è¯¥éƒ½å¬è¯´è¿‡ bug ä¸€è¯çš„ç”±æ¥ï¼Œç¬¬ä¸€å°å¤§å‹æ•°å­—è®¡ç®—æœºçš„ç¨‹åºå‘˜åœ¨ä¸€æ¬¡è§£å†³ç”µè·¯æ•…éšœæ—¶ï¼Œå‘ç°ä¸€åªé£è›¾é£åˆ°äº†è®¡ç®—æœºé‡Œé¢ï¼Œä»é‚£ä»¥åè®¡ç®—æœºæ•…éšœå°±è¢«ç§°ä¸º bugã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒè¯•éƒ½ç”¨åœ¨è§£å†³ bug ä¸Šï¼Œé€šè¿‡å•æ­¥æ¥è·Ÿè¸ªé—®é¢˜ä½ç½®ã€‚å°±ã€Šä»£ç å¤§å…¨ã€‹ä¸€ä¹¦è€Œè¨€ï¼Œè°ƒè¯•æ˜¯åœ¨å¼€å‘ä¸­è¿«ä¸å¾—å·²æ‰ä½¿ç”¨çš„åŠŸèƒ½ï¼Œåªè¦ä¿è¯åœ¨ç¼–å†™ä»£ç æ—¶ç¬¦åˆè§„èŒƒï¼Œæ˜ç¡®éœ€æ±‚ï¼Œè°ƒè¯•çš„éš¾åº¦ä¼šé™ä½ç”šè‡³ä¸éœ€è¦è°ƒè¯•ã€‚æˆ‘è®¤ä¸ºè¿™åªæ˜¯ä¸€ç§ç†æƒ³çŠ¶æ€ï¼Œæ¯•ç«Ÿç¼–å†™çš„ä»£ç æ²¡æœ‰ bug è¿˜æ˜¯å¾ˆéš¾çš„ï¼Œå„ç§å„æ ·çš„æœªçŸ¥æƒ…å†µéƒ½ä¼šå‘ç”Ÿã€‚</p>
<h1 id="ä»£ç å‡ºç°-bugï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ"><a href="#ä»£ç å‡ºç°-bugï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ" class="headerlink" title="ä»£ç å‡ºç° bugï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ"></a>ä»£ç å‡ºç° bugï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ</h1><p>ç”¨æ¥è°ƒè¯•çš„å·¥å…·æœ‰å¾ˆå¤šï¼Œpython æ ‡å‡†åº“å†…ç½® pdbï¼Œå‡çº§ç‰ˆ ipdbã€‚å¦‚æœä½¿ç”¨ pycharmï¼Œæ›´æ˜¯æœ‰å¼ºå¤§çš„è°ƒè¯•å·¥å…·ã€‚ è¿™æ¬¡ä¸»è¦ä»‹ç» ipdb çš„ä½¿ç”¨ï¼Œå› ä¸º ipdb å±äºç®€å•çš„å‘½ä»¤è¡Œäº¤äº’å¼è°ƒè¯•ï¼Œå¯¹äºæ—¥å¸¸å¼€å‘è°ƒè¯•å·²ç»å¤Ÿç”¨ã€‚å¦‚æœéœ€è¦æ›´å¤šåŠŸèƒ½ï¼Œå»ºè®®é…åˆæ—¥å¿—æ¨¡å—å’Œä½¿ç”¨ pycharm æ¥å®ç°æ›´å¤šæ“ä½œã€‚ è¾“å…¥å‘½ä»¤æ¥å®‰è£… ipdbï¼š <code>python3 -m pip install ipdb</code> å®‰è£…å¥½åæœ‰ä¸¤ç§è°ƒè¯•æ–¹å¼ï¼Œä¸€ç§æ˜¯åœ¨ç»ˆç«¯ä½¿ç”¨ ipdb åè·Ÿéœ€è¦è°ƒè¯•çš„ py æ–‡ä»¶ï¼Œä¸€ç§æ˜¯åœ¨ä»£ç é‡Œè®¾ç½®æ–­ç‚¹ã€‚ å…ˆå‡†å¤‡å¥½éœ€è¦è°ƒè¯•çš„ py æ–‡ä»¶ test.pyã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># test.py</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span>():</span><br>    print(<span class="hljs-string">&quot;hello, world!&quot;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br><br><br><span class="hljs-keyword">if</span> <span class="hljs-string">&quot;__main__&quot;</span> == __name__:<br>    test()<br></code></pre></td></tr></table></figure>

<p>å…ˆåœ¨ç»ˆç«¯ç›´æ¥ä½¿ç”¨ ipdb æ¥è°ƒè¯•æ–‡ä»¶ï¼Œè¾“å…¥å‘½ä»¤ï¼š <code>python3 -m ipdb test.py</code> è¿”å›ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt; /Users/lijianxun/Documents/Code/test.py(1)&lt;module&gt;()<br>----&gt; 1 def <span class="hljs-built_in">test</span>():<br>      2     <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello, world!&quot;</span>)<br>      3     <span class="hljs-built_in">return</span> 0<br><br>ipdb&gt;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°è¿™æ ·çš„è°ƒç”¨æ–¹å¼æ˜¯ä»ç¬¬ä¸€è¡Œå¼€å§‹å•æ­¥æ‰§è¡Œçš„ã€‚ åœ¨ä»£ç ä¸­è®¾ç½®æ–­ç‚¹ï¼Œéœ€è¦ä¿®æ”¹ test.py æ–‡ä»¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span>():</span><br>    <span class="hljs-keyword">import</span> ipdb;ipdb.set_trace()<br>    print(<span class="hljs-string">&quot;hello, world!&quot;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br><br><br><span class="hljs-keyword">if</span> <span class="hljs-string">&quot;__main__&quot;</span> == __name__:<br>    test()<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨ <code>print</code> æ–¹æ³•çš„ä¸Šä¸€è¡Œè®¾ç½®æ–­ç‚¹ï¼Œè¿è¡Œæ­¤ py æ–‡ä»¶å°†ä» <code>print</code> æ–¹æ³•å¼€å§‹å•æ­¥æ‰§è¡Œã€‚ <code>python3 test.py</code> è¿”å›:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt; /Users/lijianxun/Documents/Code/test.py(3)<span class="hljs-built_in">test</span>()<br>      2     import ipdb;ipdb.set_trace()<br>----&gt; 3     <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello, world!&quot;</span>)<br>      4     <span class="hljs-built_in">return</span> 0<br><br>ipdb&gt;<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡ä»¥ä¸Šä¸¤ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å‘½ä»¤è¿›è¡Œè°ƒè¯•ã€‚ åœ¨äº¤äº’å¼å‘½ä»¤è¡Œä¸­è¾“å…¥ <code>h</code> æˆ– <code>help</code>ï¼Œå°†è¿”å›å¯æŸ¥è¯¢åˆ°çš„å‘½ä»¤çš„ç”¨æ³•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">ipdb&gt; <span class="hljs-built_in">help</span><br><br>Documented commands (<span class="hljs-built_in">type</span> <span class="hljs-built_in">help</span> &lt;topic&gt;):<br>========================================<br>EOF    cl         <span class="hljs-built_in">disable</span>  interact  next    psource  rv         unt<br>a      clear      display  j         p       q        s          until<br><span class="hljs-built_in">alias</span>  commands   down     jump      pdef    quit     <span class="hljs-built_in">source</span>     up<br>args   condition  <span class="hljs-built_in">enable</span>   l         pdoc    r        step       w<br>b      cont       <span class="hljs-built_in">exit</span>     list      pfile   restart  tbreak     whatis<br><span class="hljs-built_in">break</span>  <span class="hljs-built_in">continue</span>   h        ll        pinfo   <span class="hljs-built_in">return</span>   u          <span class="hljs-built_in">where</span><br>bt     d          <span class="hljs-built_in">help</span>     longlist  pinfo2  retval   <span class="hljs-built_in">unalias</span><br>c      debug      ignore   n         pp      run      undisplay<br><br>Miscellaneous <span class="hljs-built_in">help</span> topics:<br>==========================<br><span class="hljs-built_in">exec</span>  pdb<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åªéœ€è¦ <code>h &lt;å‘½ä»¤&gt;</code> å°±èƒ½æŸ¥è¯¢æ­¤å‘½ä»¤çš„ç›¸å…³ç”¨æ³•ï¼Œå¸¸ç”¨çš„å‘½ä»¤å¦‚ä¸‹ã€‚</p>
<p>å‘½ä»¤</p>
<p>ç”¨æ³•</p>
<p>a</p>
<p>åˆ—å‡ºå½“å‰å‡½æ•°çš„æ‰€æœ‰å‚æ•°</p>
<p>b</p>
<p>è®¾ç½®æ–­ç‚¹ [b è¡Œå·]</p>
<p>c</p>
<p>æ‰§è¡Œç›´åˆ°æ–­ç‚¹</p>
<p>cl</p>
<p>æ¸…é™¤æ‰€æœ‰æ–­ç‚¹ã€‚æ¸…é™¤æ—¶ä¼šå†æ¬¡ç¡®è®¤ï¼Œè¾“å…¥ <code>y</code> å³å¯ã€‚</p>
<p>l</p>
<p>æ‰“å°å½“å‰æ‰€åœ¨ä½ç½®ä»£ç ç‰‡æ®µ</p>
<p>n</p>
<p>æ‰§è¡Œä¸‹ä¸€è¡Œ</p>
<p>p/pp</p>
<p>æ‰“å°å˜é‡ [p å˜é‡å]</p>
<p>q</p>
<p>åœæ­¢è°ƒè¯•</p>
<p>r</p>
<p>ç»§ç»­æ‰§è¡Œç›´åˆ°å½“å‰è¡Œæ•°è¿”å›</p>
<p>s</p>
<p>è¿›å…¥å‡½æ•°</p>
<p>w</p>
<p>æ‰“å°å½“å‰æ‰€åœ¨ä»£ç ä½ç½® [w è¡Œæ•°]</p>
<p>ç†Ÿç»ƒä½¿ç”¨ä¸Šè¿°æ–¹æ³•ï¼Œå¹³æ—¶ä¸€äº›è°ƒè¯•è‚¯å®šæ²¡é—®é¢˜äº†ã€‚ å½“ç„¶äº†ï¼Œè°ƒè¯•å’Œæµ‹è¯•ä¸€æ ·ï¼Œæœ¬èº«ä¸æ˜¯æ”¹è¿›ä»£ç è´¨é‡çš„æ–¹æ³•ï¼Œè€Œæ˜¯è¯Šæ–­ä»£ç ç¼ºé™·å¹¶ä¿®å¤çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚</p>
<h1 id="ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ"><a href="#ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ" class="headerlink" title="ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ"></a>ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ</h1><p>åƒæ˜¯åšçˆ¬è™«ï¼Œå¯¹ç½‘é¡µåšè§£æçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è°ƒè¯•è¿™ç§äº¤äº’çš„æ–¹å¼æ¥æ–¹ä¾¿ä»£ç çš„ç¼–å†™ã€‚è¿™é‡Œä¸¾ä¾‹ç”¨åˆ° scrapy shellã€‚ scrapy shell æ˜¯ä¸€ä¸ªäº¤äº’ç»ˆç«¯ï¼Œå¯ä»¥åœ¨ç¼–å†™çˆ¬è™«çš„æ—¶å€™ï¼Œåœ¨æœªå¯åŠ¨ spider çš„æƒ…å†µä¸‹å°è¯•åŠè°ƒè¯•çˆ¬è™«ä»£ç ï¼Œç”¨æ¥æµ‹è¯•æå–çš„æ•°æ®æ˜¯å¦å‡†ç¡®ã€‚ ç»ˆç«¯è¾“å…¥ï¼š <code>scrapy shell https://lijianxun.top/</code> æ¥å¯åŠ¨ scrapy shellã€‚ å¯åŠ¨ä»¥åæˆ‘ä»¬å¯ä»¥çœ‹åˆ° scrapy æä¾›äº†è®¸å¤šæœ‰ç”¨çš„æ–¹æ³•ï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">[s] Available Scrapy objects:<br>[s]   scrapy     scrapy module (contains scrapy.Request, scrapy.Selector, etc)<br>[s]   crawler    &lt;scrapy.crawler.Crawler object at 0x105659640&gt;<br>[s]   item       &#123;&#125;<br>[s]   request    &lt;GET https://lijianxun.top/&gt;<br>[s]   response   &lt;200 https://lijianxun.top/&gt;<br>[s]   settings   &lt;scrapy.settings.Settings object at 0x1056595e0&gt;<br>[s]   spider     &lt;DefaultSpider <span class="hljs-string">&#x27;default&#x27;</span> at 0x105b0f880&gt;<br>[s] Useful shortcuts:<br>[s]   fetch(url[, redirect=True]) Fetch URL and update <span class="hljs-built_in">local</span> objects (by default, redirects are followed)<br>[s]   fetch(req)                  Fetch a scrapy.Request and update <span class="hljs-built_in">local</span> objects<br>[s]   shelp()           Shell <span class="hljs-built_in">help</span> (<span class="hljs-built_in">print</span> this <span class="hljs-built_in">help</span>)<br>[s]   view(response)    View response <span class="hljs-keyword">in</span> a browser<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œåªä¸¾ä¾‹åœ¨äº¤äº’å¼å‘½ä»¤è¡Œä¸‹ç¼–å†™ä»£ç çš„å¥½å¤„ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">In [1]: response.xpath(<span class="hljs-string">&quot;//title/text()&quot;</span>)[0].extract()<br>Out[1]: <span class="hljs-string">&#x27;Note. | ç®€è®¯çš„ä¸ªäººåšå®¢âœ¨&#x27;</span><br><br>In [2]: response.xpath(<span class="hljs-string">&quot;//header/h2/a/text()&quot;</span>)<br>Out[2]:<br>[&lt;Selector xpath=<span class="hljs-string">&#x27;//header/h2/a/text()&#x27;</span> data=<span class="hljs-string">&#x27;pythonç”¨5è¡Œä»£ç ç”»è±å½¢&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;//header/h2/a/text()&#x27;</span> data=<span class="hljs-string">&#x27;åŸºäºLNMPæ­å»ºwordpressåšå®¢&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;//header/h2/a/text()&#x27;</span> data=<span class="hljs-string">&#x27;ä½¿ç”¨ pytest æ¥æµ‹è¯•ä½ çš„ä»£ç &#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;//header/h2/a/text()&#x27;</span> data=<span class="hljs-string">&#x27;Celery ä½¿ç”¨å°è®°&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;//header/h2/a/text()&#x27;</span> data=<span class="hljs-string">&#x27;å®…å®…ç”Ÿæ´»æ”¶è—å¤¹â€”â€”é¡¹ç›®å¿ƒå¾—&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;//header/h2/a/text()&#x27;</span> data=<span class="hljs-string">&#x27;docker é•œåƒä¸‹è½½æ…¢æ€ä¹ˆåŠ&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;//header/h2/a/text()&#x27;</span> data=<span class="hljs-string">&#x27;ä½¿ç”¨ Python æŠ“å–çŸ¥ä¹ç¾å›¾&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;//header/h2/a/text()&#x27;</span> data=<span class="hljs-string">&#x27;ä½¿ç”¨Flaskï¼ŒNginxï¼ŒGunicornï¼ŒSupervisorå®Œæˆç½‘ç«™éƒ¨ç½²&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;//header/h2/a/text()&#x27;</span> data=<span class="hljs-string">&#x27;ä½¿ç”¨ä¸‰ç§è¯­è¨€å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—&#x27;</span>&gt;,<br> &lt;Selector xpath=<span class="hljs-string">&#x27;//header/h2/a/text()&#x27;</span> data=<span class="hljs-string">&#x27;ä½¿ç”¨Pyqt5 Designeræ„å»ºæ¡Œé¢åº”ç”¨&#x27;</span>&gt;]<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·ä¸€è¾¹æµ‹è¯•æå–ä»£ç æ˜¯å¦æ­£ç¡®ï¼Œä¸€è¾¹ç¼–å†™è„šæœ¬ä»£ç ï¼Œè¿™æ ·ä¸‹æ¥æ•ˆç‡å¾ˆé«˜ã€‚ä¸è‡³äºæ¯å†™å¥½ä¸€æ¬¡æå–ä»£ç åå°±è·‘ä¸€æ¬¡ä»£ç ã€‚</p>
<h1 id="é˜…è¯»æºç æ—¶ï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ"><a href="#é˜…è¯»æºç æ—¶ï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ" class="headerlink" title="é˜…è¯»æºç æ—¶ï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ"></a>é˜…è¯»æºç æ—¶ï¼Œå¦‚ä½•è°ƒè¯•ï¼Ÿ</h1><p>è¿™é‡Œæˆ‘ä»¬ä»¥é˜…è¯» Flask æºç ä¸ºä¾‹ã€‚å…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„ Flask é¡¹ç›®ï¼ˆå®é™…é¡¹ç›®ä¸å»ºè®®ä½¿ç”¨ <code>app.run()</code> æ¥å¯åŠ¨æœåŠ¡ï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(&quot;/&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span>():</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello, Flask.&quot;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run()<br><br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨ pycharm ç¼–è¾‘å™¨ï¼Œåœ¨ <code>app.run()</code> ä¸€è¡Œæ‰“ä¸Šæ–­ç‚¹ï¼Œä½¿ç”¨ debug æ¨¡å¼è¿è¡Œï¼ŒæŒ‰ F7 è¿›å…¥å‡½æ•°ï¼ŒæŒ‰ F8 å•æ­¥æ‰§è¡Œã€‚è¿™æ ·æˆ‘ä»¬å°±èƒ½çœ‹å‡ºåœ¨å¯åŠ¨ Flask æœåŠ¡çš„æ—¶å€™ï¼Œè°ƒç”¨äº†å“ªäº›å‡½æ•°å’Œæ–¹æ³•ï¼Œå˜é‡èµ‹å€¼æƒ…å†µç­‰ã€‚ å¦‚æœä½ æ­¤åˆ»éå¸¸æƒ³é˜…è¯» Flask æºç ï¼Œæ¨èä» github å…‹éš†ä¸€ä»½ä»£ç ï¼Œä½¿ç”¨ <code>git checkout 0.1</code> å‘½ä»¤ï¼Œåˆ‡æ¢åˆ°ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚å› ä¸º Flask æœ€æ—©çš„ç‰ˆæœ¬åªæœ‰ flask.py ä¸€ä¸ªæ–‡ä»¶ï¼Œä»£ç ä¸€å…±åªæœ‰ 600 å¤šè¡Œï¼ŒåŒ…å«äº†å…¶æ ¸å¿ƒåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä»æ­¤æ–‡ä»¶å…¥æ‰‹ï¼Œåœ¨äº†è§£æ ¸å¿ƒä»£ç çš„åŸºç¡€ä¸Šï¼Œå†ä¸æ–­åˆ‡æ¢ git åˆ†æ”¯ï¼Œå­¦ä¹  Flask åç»­ç‰ˆæœ¬åŠŸèƒ½çš„å®ç°ã€‚ å…¶å®æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè°ƒè¯•æ— å¤„ä¸åœ¨ã€‚ä¸èƒ½åªæŠŠè°ƒè¯•å½“æˆè¯Šæ–­ bug çš„å·¥å…·ï¼Œæ›´åº”è¯¥è®©è°ƒè¯•è¿‡ç¨‹ä¿ƒè¿›æˆ‘ä»¬çš„å·¥ä½œå’Œå­¦ä¹ æ•ˆç‡ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Debug</tag>
      </tags>
  </entry>
  <entry>
    <title>äº‘æœåŠ¡å™¨æ­å»ºç§äºº SS</title>
    <url>/82.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/05/13/12/29/urban-1389838__480.jpg"> å¦‚æœä½ æœ‰ä¸€å°æµ·å¤–çš„äº‘æœåŠ¡å™¨, æœ€ç®€å•çš„æ“ä½œå°±æ˜¯æ­æ¢¯å­äº†. æ€»å¾—çœ‹çœ‹å¢™å¤–çš„ä¸–ç•Œ.</p>
<a id="more"></a>
<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>é¦–å…ˆå¿…é¡»æœ‰ä¸€å°é¦™æ¸¯æˆ–è€…æµ·å¤–çš„äº‘æœåŠ¡å™¨, èƒ½æ­æ¢¯å­, è€Œä¸”æ­å»ºblogè¿˜ä¸ç”¨å¤‡æ¡ˆ.</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>æ‰§è¡Œ: <code>apt-get install -y python-pip</code> å’Œ <code>pip install shadowsocks</code></p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>ç¼–è¾‘é…ç½®æ–‡ä»¶: <code>vim /etc/shadowsocks.json</code> è¾“å…¥:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">&quot;server&quot;</span>: <span class="hljs-string">&quot;0.0.0.0&quot;</span>,<br>  <span class="hljs-attr">&quot;server_port&quot;</span>: <span class="hljs-number">8388</span>,<br>  <span class="hljs-attr">&quot;local_address&quot;</span>: <span class="hljs-string">&quot;127.0.0.1&quot;</span>,<br>  <span class="hljs-attr">&quot;local_port&quot;</span>: <span class="hljs-number">1080</span>,<br>  <span class="hljs-attr">&quot;password&quot;</span>: <span class="hljs-string">&quot;Your Password&quot;</span>,<br>  <span class="hljs-attr">&quot;timeout&quot;</span>: <span class="hljs-number">300</span>,<br>  <span class="hljs-attr">&quot;method&quot;</span>: <span class="hljs-string">&quot;aes-256-cfb&quot;</span>,<br>  <span class="hljs-attr">&quot;fast_open&quot;</span>: <span class="hljs-literal">true</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>ä¿å­˜å³å¯.</p>
<h2 id="å¼€æ”¾ç«¯å£"><a href="#å¼€æ”¾ç«¯å£" class="headerlink" title="å¼€æ”¾ç«¯å£"></a>å¼€æ”¾ç«¯å£</h2><p>ç™»å½•åˆ°äº‘æœåŠ¡å™¨çš„ç®¡ç†ä¸­å¿ƒ, ç¼–è¾‘ç›¸åº”æœåŠ¡å™¨çš„å®‰å…¨ç»„è§„åˆ™ï¼Œæ–°å¢ä¸€è¡Œã€‚ è§„åˆ™åè®®é€‰æ‹© TCPï¼Œç«¯å£é€‰æ‹©8388ï¼Œä¿å­˜å³å¯ã€‚</p>
<h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><p><code>ssserver -c /etc/shadowsocks.json -d start</code> å¦‚æœæ²¡æœ‰æŠ¥é”™, é‚£ä¹ˆèµ¶å¿«è¯•ä¸€ä¸‹å§!</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>ç§‘å­¦ä¸Šç½‘</tag>
        <tag>äº‘æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ bcrypt åŠ å¯†ä½ çš„å¯†ç </title>
    <url>/51.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/01/01/14/39/hacker-1944688__480.jpg"> åœ¨å¼€å‘ç¨‹åºæœŸé—´å¤šå¤šå°‘å°‘ä¼šæ¶‰åŠåˆ°ç”¨æˆ·å¯†ç çš„å­˜å‚¨ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹ä¾¿çš„åŠæ³•å‘¢ï¼Ÿ</p>
<a id="more"></a>
<p>Python æœ‰ä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„åº“å®ç°å¯†ç çš„å­˜å‚¨å’Œæ ¡éªŒï¼š<a href="https://pypi.org/project/bcrypt/">bcrypt</a>ã€‚ ä½¿ç”¨èµ·æ¥ä¹Ÿæ˜¯éå¸¸ç®€å•çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> bcrypt<br><br><br>password = <span class="hljs-string">b&quot;secret password&quot;</span><br><br>hashed = bcrypt.hashpw(password, bcrypt.gensalt())<br><br><span class="hljs-keyword">if</span> bcrypt.checkpw(password, hashed):<br>    print(<span class="hljs-string">&quot;åŒ¹é…&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    print(<span class="hljs-string">&quot;åŒ¹é…å¤±è´¥&quot;</span>)<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>å¯†ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Flaskï¼ŒNginxï¼ŒGunicornï¼ŒSupervisor å®Œæˆç½‘ç«™éƒ¨ç½²</title>
    <url>/52.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2018/05/18/15/30/webdesign-3411373__480.jpg"> <strong>å®…å®…ç”Ÿæ´»æ”¶è—å¤¹</strong>å°ç¨‹åºçš„ web åç«¯æ˜¯ flaskï¼Œå› ä¸ºåªæ¶‰åŠåˆ°å‡ ä¸ªæ¥å£ï¼Œflask ç®€å•å¿«é€Ÿã€‚ è¿™ç¯‡æ–‡ç« è®°å½•ä¸€ä¸‹æ•´ä¸ªéƒ¨ç½²çš„è¿‡ç¨‹ã€‚</p>
<a id="more"></a>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ flask å¼€å‘å®Œæˆ web åº”ç”¨åï¼Œå…³é”®æ˜¯éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·æ‰èƒ½çœŸæ­£åœ¨ç½‘ç»œä¸Šè®©ç”¨æˆ·è¯»è€…è®¿é—®ã€‚ éƒ¨ç½²è¿‡ç¨‹çœ‹ä¼¼å¤æ‚ï¼Œä½†åªè¦å®‰è£…å¥½è¿™å‡ ä¸ªå·¥å…·ï¼Œä¸€æ­¥ä¸€æ­¥æ¥å°±æ²¡æœ‰é—®é¢˜ã€‚ æœåŠ¡å™¨ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯ Ubuntu 16.04.6 LTSã€‚</p>
<h1 id="å®‰è£…-Flask-Gunicorn-Supervisor"><a href="#å®‰è£…-Flask-Gunicorn-Supervisor" class="headerlink" title="å®‰è£… Flask, Gunicorn, Supervisor"></a>å®‰è£… Flask, Gunicorn, Supervisor</h1><p>å› ä¸ºä½¿ç”¨çš„æ˜¯ python3ï¼Œé¿å… pip å®‰è£…é”™ä½ç½®ï¼Œç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š <code>python3 -m pip install flask gunicorn supervisor</code> ç­‰å¾…å®‰è£…å®Œæˆã€‚</p>
<h1 id="Flask"><a href="#Flask" class="headerlink" title="Flask"></a>Flask</h1><p>å†™ä¸€ä¸ªç®€å•çš„ flask demoã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># app.py</span><br><br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(&#x27;/&#x27;)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hello_world</span>():</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Hello, World!&#x27;</span><br><br></code></pre></td></tr></table></figure>

<p>ç»ˆç«¯è¾“å…¥ï¼š <code>flask run -h 0.0.0.0 -p 8000</code> å¦‚æœä½ çš„äº‘æœåŠ¡å™¨å®‰å…¨ç»„è§„åˆ™å¼€å¯äº† <code>8000</code> ç«¯å£ï¼Œé‚£ä¹ˆä½ åœ¨æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨çš„å…¬ç½‘ IPï¼Œ8000 ç«¯å£ä¸‹ä¼šæ˜¾ç¤º <code>Hello, World!</code>ã€‚ æ€ä¹ˆé…ç½®å®‰å…¨ç»„è§„åˆ™è¿˜è¯·æŸ¥çœ‹å„è‡ªæœåŠ¡å•†çš„æ–‡æ¡£ã€‚ é˜¿é‡Œäº‘å¦‚ä¸‹é…ç½®ï¼š <img src="https://user-images.githubusercontent.com/25655581/60378263-760bee80-9a52-11e9-9c5f-353ab3901908.png" alt="é…ç½®å®‰å…¨ç»„è§„åˆ™"></p>
<h1 id="ä½¿ç”¨-gunicorn-å¯åŠ¨ç¨‹åº"><a href="#ä½¿ç”¨-gunicorn-å¯åŠ¨ç¨‹åº" class="headerlink" title="ä½¿ç”¨ gunicorn å¯åŠ¨ç¨‹åº"></a>ä½¿ç”¨ gunicorn å¯åŠ¨ç¨‹åº</h1><p>å½“æˆ‘ä»¬éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šæ—¶ï¼Œéœ€è¦ä¸€ä¸ªæ€§èƒ½æ›´ä¼˜çš„<code>WSGI</code>æœåŠ¡å™¨ã€‚ ç»ˆç«¯è¾“å…¥ï¼š <code>gunicorn --workers=4 --bind=0.0.0.0:8000 app:app</code> å¦‚æœæ­£å¸¸å¯åŠ¨ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œåœ¨æµè§ˆå™¨åº”è¯¥ä¼šçœ‹åˆ° flask è¿”å›çš„ <code>Hello, World!</code>ã€‚ <code>workers</code> ç”¨æ¥å®šä¹‰å·¥ä½œçº¿ç¨‹çš„æ•°é‡ï¼Œä¸€èˆ¬ <code>worker</code> çš„æ•°é‡ä¸º <code>(2 Ã— $num_cores) + 1</code>ã€‚å®˜æ–¹æ–‡æ¡£ä¸­ä»‹ç»åˆ°è™½ç„¶è¿™ä¸ªå…¬å¼å¹¶ä¸ååˆ†ç§‘å­¦ï¼Œä½†å®ƒåŸºäºè¿™æ ·ä¸€ä¸ªå‡è®¾: å¯¹äºç»™å®šçš„æ ¸å¿ƒæ•°ï¼Œä¸€ä¸ªå·¥ä½œçº¿ç¨‹å°†ä»å¥—æ¥å­—è¯»å–æˆ–å†™å…¥æ•°æ®ï¼Œè€Œå¦ä¸€ä¸ªå·¥ä½œçº¿ç¨‹å¤„ç†è¯·æ±‚ã€‚ <code>bind</code> ç”¨æ¥ç»‘å®šç¨‹åºè¿è¡Œçš„ä¸»æœºåœ°å€å’Œç«¯å£ã€‚ å¦‚æœè®¾ç½®äº†SSLè¯ä¹¦ï¼Œå‘½ä»¤ä¸º: <code>gunicorn --keyfile=&lt;ç§é’¥æ–‡ä»¶&gt; --certfile=&lt;SSL è¯ä¹¦æ–‡ä»¶&gt; --ca-certs=&lt;CA è¯ä¹¦æ–‡ä»¶&gt; --bind=0.0.0.0:443 app:app</code> æ›´å¤šå‚æ•°è¿˜è¯·è‡ªè¡ŒæŸ¥çœ‹ <a href="https://docs.gunicorn.org/en/stable/">gunicorn æ–‡æ¡£</a>ã€‚</p>
<h1 id="å®‰è£…å¹¶é…ç½®-Nginx"><a href="#å®‰è£…å¹¶é…ç½®-Nginx" class="headerlink" title="å®‰è£…å¹¶é…ç½® Nginx"></a>å®‰è£…å¹¶é…ç½® Nginx</h1><p>æˆ‘ä»¬éœ€è¦ Nginx ä½œä¸ºåå‘ä»£ç†ä½¿ç”¨ã€‚ è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£… nginxï¼š <code>apt-get install nginx -y</code> å®‰è£…å®Œæˆåè¿›å…¥ï¼š <code>cd /etc/nginx/sites-enabled</code> åˆ é™¤ default æ–‡ä»¶ï¼š <code>rm default</code> ç¼–è¾‘æ–°çš„é…ç½®æ–‡ä»¶ï¼Œå‘½åä¸º <code>app</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">server &#123;<br>    listen 80;<br><br>    server_name _; <span class="hljs-comment"># å¦‚æœæœ‰åŸŸåå¯ä»¥å†™åˆ°è¿™é‡Œ</span><br><br>    access_log  /var/<span class="hljs-built_in">log</span>/nginx/access.log;<br>    error_log  /var/<span class="hljs-built_in">log</span>/nginx/error.log;<br><br>    location / &#123;<br>        proxy_pass         http://127.0.0.1:8000/;<br>        proxy_redirect     off;<br><br>        proxy_set_header   Host                 <span class="hljs-variable">$host</span>;<br>        proxy_set_header   X-Real-IP            <span class="hljs-variable">$remote_addr</span>;<br>        proxy_set_header   X-Forwarded-For      <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;<br>        proxy_set_header   X-Forwarded-Proto    <span class="hljs-variable">$scheme</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é…ç½®æ–‡ä»¶æ¥è‡ª <a href="http://flask.pocoo.org/docs/1.0/deploying/wsgi-standalone/#proxy-setups">flask æ–‡æ¡£</a>ã€‚ ä¸ºäº†é¿å…å¥‡æ€ªçš„ bug å‘ç”Ÿï¼Œå»ºè®®æŠŠ <code>/etc/nginx/nginx.conf</code> ç¬¬ä¸€è¡Œæ”¹ä¸º <code>user root;</code>ï¼Œä½¿ç”¨ root ç”¨æˆ·ã€‚ è¾“å…¥ï¼š <code>nginx -t</code> æµ‹è¯•ä¸€ä¸‹ nginx é…ç½®æœ‰æ— é—®é¢˜ã€‚ æ²¡æœ‰é—®é¢˜çš„è¯é‡å¯æœåŠ¡ï¼š <code>service nginx restart</code> æœ‰å…³ nginx çš„é…ç½®å®Œæˆã€‚</p>
<h1 id="ä½¿ç”¨-supervisor-ç®¡ç†è¿›ç¨‹"><a href="#ä½¿ç”¨-supervisor-ç®¡ç†è¿›ç¨‹" class="headerlink" title="ä½¿ç”¨ supervisor ç®¡ç†è¿›ç¨‹"></a>ä½¿ç”¨ supervisor ç®¡ç†è¿›ç¨‹</h1><p>Supervisor æ˜¯ä¸€ä¸ª<code>å®¢æˆ·ç«¯/æœåŠ¡å™¨</code>ç³»ç»Ÿï¼Œå…è®¸å…¶ç”¨æˆ·åœ¨ç±»<code>UNIX</code>æ“ä½œç³»ç»Ÿä¸Šæ§åˆ¶è¿›ç¨‹ã€‚å½“è¿›ç¨‹è¢«æ„å¤–æ€æ­»ï¼ŒSupervisor å¯ä»¥ä¸»åŠ¨å°†å…¶æ‹‰èµ·ã€‚ ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ„å»ºé…ç½®æ–‡ä»¶ï¼š <code>echo_supervisord_conf &gt; /etc/supervisord.conf</code> ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ŒåŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">[program:gunicorn]<br>user = root             ; root ç”¨æˆ·å¯åŠ¨<br>directory = /root       ; flask æ–‡ä»¶æ‰€åœ¨ç›®å½•<br><span class="hljs-built_in">command</span> = /usr/<span class="hljs-built_in">local</span>/bin/gunicorn --workers=4 --<span class="hljs-built_in">bind</span>=0.0.0.0:8000 app:app ; ç¨‹åºå¯åŠ¨å‘½ä»¤ï¼ˆç¬¬ä¸€ä¸ª app æ˜¯ flask çš„æ–‡ä»¶åï¼Œç¬¬äºŒä¸ªæ˜¯ application çš„ç¼©å†™ï¼‰<br>startsecs = 5           ; å¯åŠ¨ 5 ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œè§†ä½œæ­£å¸¸å¯åŠ¨<br>autostart = <span class="hljs-literal">true</span>        ; åœ¨ supervisord å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨<br>autorestart = <span class="hljs-literal">true</span>      ; ç¨‹åºå¼‚å¸¸é€€å‡ºåé‡å¯<br>redirect_stderr = <span class="hljs-literal">true</span>  ; stderr ä¹Ÿé‡å®šå‘è‡³ stdout<br>stdout_logfile = /root/logs/gunicorn.log ; stdout æ—¥å¿—æ–‡ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºæ—¥å¿—å­˜æ”¾ç›®å½•<br></code></pre></td></tr></table></figure>

<p><code>gunicorn</code> è·¯å¾„å¯ä»¥è¿™æ ·æ‰¾åˆ°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">âœ  ~ <span class="hljs-built_in">which</span> gunicorn<br>/usr/<span class="hljs-built_in">local</span>/bin/gunicorn<br></code></pre></td></tr></table></figure>

<p>è¾“å…¥ï¼š <code>supervisord -c /etc/supervisord.conf</code> å¯åŠ¨æœåŠ¡ã€‚ å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼šï¼ˆå…·ä½“å¯æŸ¥çœ‹<a href="http://supervisord.org/running.html#supervisorctl-actions">å®˜æ–¹æ–‡æ¡£</a>ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">supervisorctl status                <span class="hljs-comment"># Get all process status info.</span><br>supervisorctl stop gunicorn         <span class="hljs-comment"># Stop a process.</span><br>supervisorctl start gunicorn        <span class="hljs-comment"># Start a process.</span><br>supervisorctl restart gunicorn      <span class="hljs-comment"># Restart a process Note: restart does not reread config files.</span><br>supervisorctl reread                <span class="hljs-comment"># Reload the daemonâ€™s configuration files, without add/remove (no restarts).</span><br>supervisorctl update                <span class="hljs-comment"># Reload config and add/remove as necessary, and will restart affected programs.</span><br></code></pre></td></tr></table></figure>

<p>å…¨éƒ¨é…ç½®å®Œæˆå°±å®ç°äº† flask çš„éƒ¨ç½²ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Flask</tag>
        <tag>Gunicorn</tag>
        <tag>Nginx</tag>
        <tag>Supervisor</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Pyqt5 Designer æ„å»ºæ¡Œé¢åº”ç”¨</title>
    <url>/53.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2014/05/10/19/23/presentation-341444__480.png"> æ–‡ç« åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œä¸»è¦æ˜¯<strong>ç•Œé¢çš„è®¾è®¡</strong>ï¼Œ<strong>pyæ–‡ä»¶çš„ä»£ç ç¼–å†™</strong>å’Œ<strong>å…¶ä½™éƒ¨åˆ†çš„å°ä¿®å°è¡¥</strong>ã€‚</p>
<a id="more"></a>
<h2 id="è®¾è®¡ç•Œé¢"><a href="#è®¾è®¡ç•Œé¢" class="headerlink" title="è®¾è®¡ç•Œé¢"></a>è®¾è®¡ç•Œé¢</h2><p>æ‰§è¡Œ<code>pip install pyqt5-tools</code>å‘½ä»¤ï¼Œå®‰è£…å¥½å¯ä»¥åœ¨åŒ…ç›®å½•ï¼ˆç±»ä¼¼<code>C:\Programs\Python\Python37-32\Lib\site-packages\pyqt5_tools</code>ã€‚ï¼‰ä¸‹æ‰¾åˆ°<code>designer.exe</code>åº”ç”¨ç¨‹åºã€‚ æ‰“å¼€åå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼š <img src="https://i.loli.net/2019/04/27/5cc40db074a15.png" alt="åº”ç”¨ç•Œé¢"> åº”ç”¨çš„å·¦è¾¹æ˜¯æ„æˆç”¨æˆ·ç•Œé¢çš„å„ç§ç»„ä»¶ï¼Œå³è¾¹æ˜¯çª—å£ä»¥åŠç»„ä»¶çš„å±æ€§å’Œè®¾ç½®ï¼Œä¸­é—´å°±æ˜¯ä½ æ„å»ºç”¨æˆ·ç•Œé¢çš„çª—å£ã€‚ æˆ‘ä»¬å¯ä»¥ç»“åˆè‡ªå·±çš„éœ€æ±‚ï¼Œå‘æŒ¥æƒ³è±¡åŠ›è®¾è®¡å‡ºç‹¬ç‰¹çš„ç”¨æˆ·ç•Œé¢ã€‚ <img src="https://i.loli.net/2019/04/27/5cc40f32ba7fc.png" alt="Onmyoji"> è®¾è®¡è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>Ctrl+R</code>é¢„è§ˆç•Œé¢ã€‚ä¹Ÿå¯ä»¥åˆæ­¥ä½“éªŒä¸€äº›äº¤äº’åŠŸèƒ½ã€‚ æˆ‘ä»¬åœ¨ç•Œé¢å³è¾¹é ä¸‹éƒ¨åˆ†ï¼Œæ³¨æ„åˆ°æœ‰<code>Signal/Slot Editor</code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œç»‘å®šä¸€äº›äº‹ä»¶ã€‚ ä¾‹å¦‚æˆ‘å°†<code>spinBox</code>çš„<code>valueChanged(int)</code>å’Œ<code>progressBar</code>çš„<code>setValue(int)</code>ç»‘å®šï¼Œæˆ‘ä»¬åœ¨é¢„è§ˆç•Œé¢çš„æ—¶å€™ï¼Œä¸æ–­å¢åŠ æ•°å€¼ï¼Œå¯ä»¥çœ‹åˆ°è¿›åº¦æ¡ä¹Ÿåœ¨åŒæ—¶æ”¹å˜ã€‚è¿™äº›äº¤äº’éƒ¨åˆ†åœ¨ç”Ÿæˆä»£ç ä¹‹åä¹Ÿæœ‰ä½“ç°ã€‚ <img src="https://i.loli.net/2019/04/27/5cc4147f12122.png" alt="é¢„è§ˆ"></p>
<h2 id="è½¬æ¢ä¸ºpyä»£ç "><a href="#è½¬æ¢ä¸ºpyä»£ç " class="headerlink" title="è½¬æ¢ä¸ºpyä»£ç "></a>è½¬æ¢ä¸ºpyä»£ç </h2><p>è®¾è®¡å¥½ç•Œé¢ä»¥åï¼Œæˆ‘ä»¬éœ€è¦è½¬æ¢æˆpythonä»£ç ï¼Œå’Œæˆ‘ä»¬çš„ç¨‹åºç›¸ç»“åˆï¼Œä»å•çº¯çš„æ“ä½œæˆ–å‘½ä»¤è¡Œè¾“å‡ºï¼Œåˆ°ç”¨æˆ·ç•Œé¢çš„è¯ç”Ÿï¼Œæˆ‘ä»¬è¿˜éœ€è¦åŸºäºè®¾è®¡å¥½çš„ç•Œé¢ï¼Œå†æ·»ç –åŠ ç“¦ã€‚ è½¬æ¢ä¸ºpythonä»£ç æ˜¯éå¸¸ç®€å•çš„ï¼Œåªéœ€è¦åœ¨è®¾è®¡ä¿å­˜å¥½çš„uiæ–‡ä»¶ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š <code>pyuic5 -o test.py test.ui</code> è¿™é‡Œéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯è½¬æ¢æˆpyä»£ç çš„æ–‡ä»¶åï¼Œç¬¬äºŒä¸ªæ˜¯éœ€è¦è½¬æ¢æˆpyæ–‡ä»¶çš„uiæ–‡ä»¶ã€‚ è½¬æ¢å¥½ä»¥åå°±å¯ä»¥é€šè¿‡ä»£ç ä¸è®¾è®¡å¥½çš„ç•Œé¢ç›¸ç»“åˆäº†ã€‚ ç›´æ¥ç”Ÿæˆå¥½çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨åº•éƒ¨æ·»åŠ å¦‚ä¸‹ä»£ç æ‰èƒ½è¿è¡Œï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-keyword">import</span> sys<br>    app = QtWidgets.QApplication(sys.argv)<br>    MainWindow = QtWidgets.QMainWindow()<br>    ui = Ui_Form()<br>    ui.setupUi(MainWindow)<br>    MainWindow.show()<br>    sys.exit(app.exec_())<br></code></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬åªæ˜¯éœ€è¦ä»¥ä»£ç çš„å½¢å¼æ¥ç”Ÿæˆç”¨æˆ·è§é¢ï¼Œä¸éœ€è¦è€ƒè™‘å¤ªå¤šã€‚æˆ‘ä¸ªäººè®¤ä¸ºä½¿ç”¨å‘½ä»¤è¡Œç”Ÿæˆçš„ä»£ç å¹¶ä¸ç¾è§‚ï¼Œå› ä¸ºä»¥ä¸Šç”Ÿæˆçš„ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦ç»™<code>Ui_Form</code>ç±»çš„<code>setupUi</code>æ–¹æ³•ä¼ é€’<code>QtWidgets.QMainWindow()</code>ï¼Œå…¶å®æ›´å¥½çš„å†™æ³•æ˜¯ç»§æ‰¿å®ƒè€Œä¸æ˜¯ä½œä¸ºå‚æ•°ä¼ é€’å®ƒï¼Œå¦‚æœä½¿ç”¨ç»§æ‰¿ï¼Œå°†ä»£ç é‡Œçš„<code>Form</code>ç›´æ¥æ›´æ¢ä¸º<code>self</code>ï¼Œæ›´ä¸ºåˆç†ä¸€äº›ã€‚å½“ç„¶ç°åœ¨ä¸ç€æ€¥æ”¹è¿™äº›ã€‚</p>
<h2 id="ç»„ä»¶äº¤äº’"><a href="#ç»„ä»¶äº¤äº’" class="headerlink" title="ç»„ä»¶äº¤äº’"></a>ç»„ä»¶äº¤äº’</h2><p>è¿™é‡Œç®€å•ç½—å‡ ä¸ªæˆ‘åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„ï¼Œç»„ä»¶éœ€è¦å’Œæ–¹æ³•ç»‘å®šçš„äº¤äº’æ“ä½œã€‚</p>
<h3 id="pushButton"><a href="#pushButton" class="headerlink" title="pushButton"></a>pushButton</h3><p><code>self.pushButton.clicked.connect(self.show_good_key)</code></p>
<h3 id="spinBox"><a href="#spinBox" class="headerlink" title="spinBox"></a>spinBox</h3><p><code>self.spinBox.valueChanged[&#39;int&#39;].connect(self.set_num)</code></p>
<h3 id="lineEdit"><a href="#lineEdit" class="headerlink" title="lineEdit"></a>lineEdit</h3><p><code>self.lineEdit.textChanged[&#39;QString&#39;].connect(self.set_num)</code> ç»“åˆè®¾è®¡ç•Œé¢æ—¶çš„ç»‘å®šæ“ä½œï¼Œè¿˜æ˜¯å¾ˆå¥½åˆ†æå‡ºæ¯ä¸ªç»„ä»¶å…·ä½“æœ‰æ€æ ·çš„å±æ€§ï¼Œä»¥åŠå¦‚ä½•ç»‘å®šæˆ–æ”¹å˜ã€‚æ³¨æ„æ‹¬å·é‡Œéƒ½æ˜¯æ–¹æ³•åï¼Œåç§°å°¾éƒ¨æ²¡æœ‰æ‹¬å·ï¼Œå› ä¸ºæˆ‘ä»¬åªæ˜¯å°†æ–¹æ³•å’Œç»„ä»¶ç»‘å®šåœ¨ä¸€èµ·ï¼Œå½“ç»„ä»¶å‘ç”Ÿæ”¹å˜æ—¶å†è°ƒç”¨æ–¹æ³•ã€‚</p>
<h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><h3 id="å¤šçº¿ç¨‹çš„æ”¯æŒ"><a href="#å¤šçº¿ç¨‹çš„æ”¯æŒ" class="headerlink" title="å¤šçº¿ç¨‹çš„æ”¯æŒ"></a>å¤šçº¿ç¨‹çš„æ”¯æŒ</h3><p>æˆ‘ä»¬è®¾è®¡å¥½ç•Œé¢å¹¶å’Œç¨‹åºç›¸ç»“åˆï¼Œå½“æˆ‘ä»¬æ‰§è¡Œçš„æ—¶å€™ä¼šå‘ç°ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®åï¼Œå¦‚æœç¨‹åºæ­£åœ¨æ‰§è¡Œï¼Œé‚£ä¹ˆç•Œé¢ä¼šå‘ˆç°å‡æ­»çŠ¶æ€ï¼Œæ˜¯å› ä¸ºç°åœ¨çš„ç¨‹åºè¿˜åªæ”¯æŒå•çº¿ç¨‹å·¥ä½œï¼Œå°±å¥½æ¯”åœ¨å¼€å‘webç•Œé¢çš„æ—¶å€™ï¼Œå¦‚æœè®¾è®¡åˆ°åå°å‘é€é‚®ä»¶ï¼Œå¦‚æœä¸ä½¿ç”¨å¤šçº¿ç¨‹æˆ–<code>celery</code>é˜Ÿåˆ—ç­‰æ–¹å¼ï¼Œé‚£ä¹ˆé¡µé¢ä¹Ÿä¼šå‘ˆç°å‡æ­»çŠ¶æ€ã€‚ å®˜æ–¹æä¾›äº†QtCore.QThreadç±»ï¼Œä½†æ˜¯ç”±äºæˆ‘çš„ç¨‹åºæ¯”è¾ƒç‰¹æ®Šï¼Œæ— æ³•ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæ‰€ä»¥å¦è¾Ÿè¹Šå¾„ï¼Œä½¿ç”¨pythonè‡ªå¸¦çš„<code>threading</code>åº“ã€‚ å…·ä½“å®ç°çœ‹ä»¥ä¸‹ä»£ç ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¯¼å…¥ Thread</span><br><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">thread_run</span>(<span class="hljs-params">self</span>):</span><br>    <span class="hljs-string">&quot;&quot;&quot;åˆ›å»ºçº¿ç¨‹&quot;&quot;&quot;</span><br>    thr = Thread(target=self.app_run)<br>    thr.start()<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">app_run</span>(<span class="hljs-params">self</span>):</span><br>    <span class="hljs-string">&quot;&quot;&quot;è¿™éƒ¨åˆ†æ˜¯è€—æ—¶æ“ä½œ&quot;&quot;&quot;</span><br>    ...<br>    self.main()<br><br><span class="hljs-comment"># è°ƒç”¨åˆ›å»ºçº¿ç¨‹çš„æ–¹æ³•</span><br>self.pushButton.clicked.connect(self.thread_run)<br></code></pre></td></tr></table></figure>

<p>ç®€å•æ¥è¯´å¾ˆç®€å•ï¼Œå°±æ˜¯å°†å…·æœ‰è€—æ—¶æ“ä½œçš„æ–¹æ³•ï¼Œå•ç‹¬ç”¨çº¿ç¨‹åˆ›å»ºï¼ŒæŒ‰é’®ç»‘å®šåˆ›å»ºçº¿ç¨‹çš„æ–¹æ³•å³å¯ã€‚ ä½†æ˜¯åœ¨å®é™…è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¼šå‘ç°å­˜åœ¨è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ä½ å…³é—­ç•Œé¢åï¼Œå¦‚æœçº¿ç¨‹æ‰€åœ¨çš„ä»»åŠ¡æ²¡æœ‰æ‰§è¡Œå®Œæ¯•ï¼Œçº¿ç¨‹è¿˜æ˜¯ä¼šç»§ç»­æ‰§è¡Œï¼Œè¿™ä¸€èˆ¬æ¥è¯´ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œæˆ‘ä»¬ä¸€èˆ¬å¸Œæœ›åœ¨å…³é—­ç•Œé¢åï¼Œæ‰€æœ‰ä»»åŠ¡ä¹Ÿä¸€åŒç»“æŸã€‚ æ‰€ä»¥éœ€è¦åœ¨<code>thread_run</code>æ–¹æ³•é‡Œæ·»åŠ ä¸€è¡Œï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">thread_run</span>(<span class="hljs-params">self</span>):</span><br>    <span class="hljs-string">&quot;&quot;&quot;åˆ›å»ºçº¿ç¨‹&quot;&quot;&quot;</span><br>    thr = Thread(target=self.app_run)<br>    thr.setDaemon(<span class="hljs-literal">True</span>)<br>    thr.start()<br></code></pre></td></tr></table></figure>

<p>å°†å­çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œåœ¨ä¸»ç¨‹åºé€€å‡ºçš„æ—¶å€™åŒæ—¶ç»“æŸä»»åŠ¡ï¼Œæ— éœ€ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œã€‚ è¿™æ ·ä»¥åæˆ‘ä»¬åœ¨å…³é—­ç¨‹åºç•Œé¢çš„æ—¶å€™ï¼ŒæŒ‰é’®ç»‘å®šçš„ä»»åŠ¡ä¹Ÿä¼šåŒæ—¶ç»“æŸã€‚</p>
<h3 id="å°šæœªè°ƒç”¨-CoInitialize"><a href="#å°šæœªè°ƒç”¨-CoInitialize" class="headerlink" title="å°šæœªè°ƒç”¨ CoInitialize"></a>å°šæœªè°ƒç”¨ CoInitialize</h3><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">IDispatch = pythoncom.CoCreateInstance(IDispatch, None, clsctx, pythoncom.IID_IDispatch)<br>pywintypes.com_error: (-2147221008, <span class="hljs-string">&#x27;å°šæœªè°ƒç”¨ CoInitializeã€‚&#x27;</span>, None, None)<br></code></pre></td></tr></table></figure>

<p>å› ä¸ºæˆ‘çš„ç¨‹åºä¸­åŒæ—¶ä½¿ç”¨äº†å¤šçº¿ç¨‹å’Œwin32ï¼Œæ‰€ä»¥å¼•å‘äº†è¿™ä¸ªé—®é¢˜ã€‚è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ã€‚ <code>import pythoncom</code> å¹¶åœ¨ä½¿ç”¨çº¿ç¨‹çš„åœ°æ–¹åŠ å…¥ä¸€è¡Œï¼š <code>pythoncom.CoInitialize()</code> ä¾‹å¦‚ä¸Šè¾¹çš„ä¾‹å­å°±æ˜¯åœ¨<code>app_run</code>æ–¹æ³•ä¸­æ·»åŠ ä¸€è¡Œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">app_run</span>(<span class="hljs-params">self</span>):</span><br>    <span class="hljs-string">&quot;&quot;&quot;è¿™éƒ¨åˆ†æ˜¯è€—æ—¶æ“ä½œ&quot;&quot;&quot;</span><br>    pythoncom.CoInitialize()<br>    self.main()<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·å°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p>
<h3 id="ç‚¹å‡»æŒ‰é’®å¼¹å‡ºæ–°çª—å£"><a href="#ç‚¹å‡»æŒ‰é’®å¼¹å‡ºæ–°çª—å£" class="headerlink" title="ç‚¹å‡»æŒ‰é’®å¼¹å‡ºæ–°çª—å£"></a>ç‚¹å‡»æŒ‰é’®å¼¹å‡ºæ–°çª—å£</h3><p>éœ€è¦æˆ‘ä»¬å†è®¾è®¡ä¸€ä¸ªç•Œé¢ï¼Œä¾‹å¦‚ï¼š <img src="https://i.loli.net/2019/04/27/5cc41da085b28.png" alt="é¼“åŠ±ä½œè€…"> è®¾è®¡å¥½åä½¿ç”¨å‘½ä»¤è¡Œè½¬æ¢æˆpyä»£ç ã€‚ ç„¶ååœ¨ä¸»ç•Œé¢ä¸­å¯¼å…¥ï¼Œå¹¶å°†è¯¥æ–¹æ³•ç»‘å®šéœ€è¦å¼¹å‡ºçª—å£çš„æŒ‰é’®å³å¯ã€‚ ä¾‹å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">show_good</span>(<span class="hljs-params">self</span>):</span><br>    <span class="hljs-string">&quot;&quot;&quot;å±•ç¤ºèµèµç &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">from</span> good <span class="hljs-keyword">import</span> Ui_Form<br>    ui = Ui_Form()<br>    MainWindow = QtWidgets.QDialog()<br>    ui.setupUi(MainWindow)<br>    MainWindow.show()<br>    MainWindow.exec_()<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·ä¸‹æ¥ä¸€ä¸ªç®€å•çš„æ¡Œé¢åº”ç”¨å°±æå®šäº†ã€‚ <strong>å…·ä½“å¯ä»¥å‚è€ƒ<a href="https://github.com/alpha87/OnmyojiHelperGUI/releases">é˜´é˜³å¸ˆæ¡Œé¢ç‰ˆåŠ©æ‰‹</a></strong></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Pyqt5</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ pytest æ¥æµ‹è¯•ä½ çš„ä»£ç </title>
    <url>/54.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2015/01/12/03/25/keyboard-597007__480.jpg"></p>
<blockquote>
<p>å¯¹äºä»»ä½•è½¯ä»¶è´¨é‡è§„åˆ’æ¥è¯´ï¼Œæµ‹è¯•éƒ½æ˜¯ä¸€ä¸ªé‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œå¹¶ä¸”åœ¨è®¸å¤šæƒ…å†µä¸‹å®ƒæ˜¯å”¯ä¸€çš„ç»„æˆéƒ¨åˆ†ã€‚ â€”â€”ã€Šä»£ç å¤§å…¨ã€‹</p>
</blockquote>
<p>å¯è§æµ‹è¯•åœ¨æ•´ä¸ªé¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­çš„åœ°ä½æ˜¯éå¸¸é‡è¦çš„ã€‚ä¼˜ç§€çš„å¼€æºé¡¹ç›®å¾€å¾€éƒ½å…·å¤‡å®Œå–„çš„æµ‹è¯•ä»£ç ã€‚</p>
<a id="more"></a>
<h1 id="ä¸ºä»€ä¹ˆè¦æµ‹è¯•"><a href="#ä¸ºä»€ä¹ˆè¦æµ‹è¯•" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æµ‹è¯•"></a>ä¸ºä»€ä¹ˆè¦æµ‹è¯•</h1><p>æˆ‘ä»¬è¿™é‡Œè¯´çš„æµ‹è¯•ï¼Œä¸€èˆ¬éƒ½æ˜¯æŒ‡â€œå•å…ƒæµ‹è¯•â€ã€‚ ç¼–å†™æµ‹è¯•æœ‰è®¸å¤šå¥½å¤„ã€‚ æœ€åŸºæœ¬çš„åŠŸèƒ½å°±æ˜¯æå‡ä»£ç è´¨é‡ï¼Œåœ¨ä»£ç ä¸Šçº¿å‰åŠæ—¶å‘ç°å¼‚å¸¸ï¼Œä½¿é¡¹ç›®æ›´åŠ å¥å£®ã€‚å®ç°æ–°åŠŸèƒ½çš„æ—¶å€™ï¼Œå¯ä»¥ä¿è¯ä»£ç æŒ‰ç…§é¢„æœŸæ‰§è¡Œã€‚è€Œä¸”æˆ‘ä»¬ä¿®æ”¹ä»£ç æˆ–ä¿®å¤ bug åï¼Œè¿è¡Œæµ‹è¯•å¯ä»¥ä¿è¯æˆ‘ä»¬ä»£ç åŠŸèƒ½æ²¡æœ‰é€€åŒ–ï¼Œä¸ä¼šå› ä¸ºä¿®å¤æŸä¸€å¼‚å¸¸å¯¼è‡´å¦ä¸€å¼‚å¸¸çš„äº§ç”Ÿã€‚é—´æ¥å‡å°‘äº†è°ƒè¯•çš„æ—¶é—´ï¼Œè®©å¼€å‘äººå‘˜å¯¹é¡¹ç›®æ›´æœ‰ä¿¡å¿ƒã€‚ ã€Špython ç½‘ç»œæ•°æ®é‡‡é›†ã€‹ä¹¦ä¸­æåˆ°å•å…ƒæµ‹è¯•é€šå¸¸åŒ…å«å››ä¸ªç‰¹ç‚¹ï¼š</p>
<ol>
<li>æ¯ä¸ªå•å…ƒæµ‹è¯•ç”¨äºæµ‹è¯•ä¸€ä¸ªç»„ä»¶ã€‚</li>
<li>æ¯ä¸ªå•å…ƒæµ‹è¯•éƒ½å¯ä»¥å®Œå…¨ç‹¬ç«‹çš„è¿è¡Œã€‚</li>
<li>æ¯ä¸ªå•å…ƒæµ‹è¯•é€šå¸¸è‡³å°‘åŒ…å«ä¸€ä¸ªæ–­è¨€ï¼ˆä½†æ˜¯æœ€å¥½åªæœ‰ä¸€ä¸ªï¼‰ã€‚</li>
<li>å•å…ƒæµ‹è¯•ä¸ç”Ÿäº§ä»£ç æ˜¯åˆ†ç¦»çš„ã€‚</li>
</ol>
<p>ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªç‰¹ç‚¹åŒæ—¶è¯´æ˜ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œä¹Ÿæ˜¯åœ¨è€ƒéªŒä»£ç çš„ç¼–å†™è´¨é‡ã€‚å¦‚æœåœ¨ç¼–å†™æµ‹è¯•çš„æ—¶å€™ï¼Œå‘ç°æ— ä»ä¸‹æ‰‹ï¼Œæˆ–å„ç§å‡½æ•°ä¾èµ–è¿‡å¤šï¼Œå¯èƒ½æ˜¯å‡½æ•°è¿‡äºå¤æ‚ï¼Œå¹¶æ²¡æœ‰åšåˆ°ä¸€ä¸ªå‡½æ•°å¤„ç†ä¸€ä¸ªé—®é¢˜ã€‚è¿™æ—¶å°±åº”è¯¥åŠæ—¶ä¿®æ”¹ä»£ç ï¼Œä½¿å…¶æ›´åŠ ç®€æ´ã€‚æµ‹è¯•ä»£ç ä¸­æ–­è¨€æ˜¯å¿…é¡»çš„ï¼Œæ–­è¨€å¯ä»¥ä¿è¯ä»£ç æ‰§è¡Œç»“æœæ˜¯å¦ç¬¦åˆæˆ‘ä»¬é¢„æœŸï¼Œç¬¦åˆé¢„æœŸæ‰å¯é€šè¿‡æµ‹è¯•ã€‚ ä½†æ˜¯å¯¹äºå¤§éƒ¨åˆ†åˆå­¦è€…æ¥è¯´ï¼Œå¯èƒ½è®¤ä¸ºæµ‹è¯•ç¦»è‡ªå·±å¾ˆé¥è¿œã€‚ä¸€æ–¹é¢æ˜¯ä»£ç åŠŸèƒ½éƒ½ä¸ä¸€å®šèƒ½å®ç°ï¼Œå°±åˆ«è¯´æµ‹è¯•äº†ï¼›å¦ä¸€æ–¹é¢æ˜¯ä¸ä¼šç¼–å†™æµ‹è¯•ä»£ç ï¼Œä¸”å¯¹æ•´ä¸ªå¼€å‘è¿‡ç¨‹æ²¡æœ‰æ˜æ˜¾å½±å“ï¼Œä¹…è€Œä¹…ä¹‹å°±æ·¡å¿˜äº†ç¼–å†™ä»£ç è¿‡ç¨‹ä¸­å…¶å®è¿˜æœ‰ç¼–å†™æµ‹è¯•ä»£ç è¿™ä¸€ç¯èŠ‚ã€‚é’ˆå¯¹è¿™ä¸¤ç§æƒ³æ³•ï¼Œæˆ‘è®¤ä¸ºä»£ç åŠŸèƒ½è¿Ÿæ—©ä¼šå®ç°ï¼Œç¼–ç è¿‡ç¨‹ä¸è¦å¿ƒæ€¥ï¼Œæ— æ³•å®ç°æŸé¡¹åŠŸèƒ½ï¼Œå’Œæ˜¯å¦ç¼–å†™æµ‹è¯•ä»£ç å¹¶æ— å…³ç³»ï¼Œç¼–å†™æµ‹è¯•ä»£ç çš„ä¹ æƒ¯ä¸€å®šè¦å…»æˆï¼›å¯¹äºä¸ä¼šç¼–å†™æµ‹è¯•ä»£ç çš„åŒå­¦ï¼Œå¯ä»¥çœ‹çœ‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œä¹Ÿå¯ä»¥å°½é‡ä¸ºè‡ªå·±çš„é¡¹ç›®ç¼–å†™æµ‹è¯•ä»£ç ï¼Œå¯èƒ½ä»£ç éå¸¸ç®€å•ï¼Œç®€å•åˆ°ä½ è®¤ä¸ºæ— éœ€ç¼–å†™æµ‹è¯•ä»£ç ï¼Œä½†ä¹Ÿè¦åšæŒç¼–å†™ã€‚åœ¨ã€Špython webå¼€å‘ æµ‹è¯•é©±åŠ¨æ–¹æ³•ã€‹ä¹¦ä¸­ç¬¬ä¸€ç« ï¼Œä½œè€…åœ¨æœªå¯åŠ¨ Django æœåŠ¡æƒ…å†µä¸‹ï¼Œä»ç„¶ä½¿ç”¨æ–­è¨€ <code>assert &#39;Django&#39; in browser.title</code>ã€‚å½“æ—¶æˆ‘çœ‹åˆ°è¿™éƒ¨åˆ†è®¤ä¸ºè¿™ä¸€ä¸¾åŠ¨æ˜¯éå¸¸å¯ç¬‘çš„ï¼Œæœ‰ç‚¹ä¸ºäº†æµ‹è¯•è€Œæµ‹è¯•ï¼Œå› ä¸ºè°ä¼šåœ¨æ²¡å¯åŠ¨ Django æœåŠ¡çš„æ—¶å€™æµ‹è¯•ä»£ç å‘¢ï¼Ÿä½†è¿™æ­£æ˜¯æµ‹è¯•é©±åŠ¨å¼€å‘å·§å¦™çš„åœ°æ–¹ï¼Œå…ˆç¼–å†™æµ‹è¯•ï¼Œå†ç¼–å†™ä»£ç ã€‚åªè¦é€šè¿‡äº†æµ‹è¯•ï¼Œå°±è¯´æ˜ä»£ç æ‰§è¡Œæ­£ç¡®ã€‚ä¿è¯äº†ä»£ç çš„ç®€æ´ã€‚</p>
<h1 id="python-å•å…ƒæµ‹è¯•"><a href="#python-å•å…ƒæµ‹è¯•" class="headerlink" title="python å•å…ƒæµ‹è¯•"></a>python å•å…ƒæµ‹è¯•</h1><p>python æœ‰è®¸å¤šæµ‹è¯•æ¡†æ¶ï¼Œè¿™é‡Œæ¨èä½¿ç”¨ pytestã€‚ pytest å¯ä»¥ç¼–å†™å°å‹æµ‹è¯•ï¼Œä¹Ÿå¯æ‹“å±•ç¼–å†™æ›´å¤æ‚çš„åŠŸèƒ½æµ‹è¯•ã€‚æœ‰å®Œå–„çš„æ–‡æ¡£ï¼Œä¸°å¯Œçš„å‘½ä»¤å’Œå„ç§æ’ä»¶æ”¯æŒï¼Œä½¿æµ‹è¯•æ›´åŠ çµæ´»ç®€å•ã€‚</p>
<h2 id="å®‰è£…-pytest"><a href="#å®‰è£…-pytest" class="headerlink" title="å®‰è£… pytest"></a>å®‰è£… pytest</h2><p><code>python3 -m pip install pytest</code></p>
<h2 id="ç¬¬ä¸€ä¸ªæµ‹è¯•"><a href="#ç¬¬ä¸€ä¸ªæµ‹è¯•" class="headerlink" title="ç¬¬ä¸€ä¸ªæµ‹è¯•"></a>ç¬¬ä¸€ä¸ªæµ‹è¯•</h2><p>å®‰è£…å®Œæˆåï¼Œç®€å•è¿è¡Œä¸€ä¸ªæµ‹è¯•ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pytest<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>(<span class="hljs-params">n: int</span>):</span><br>    <span class="hljs-keyword">return</span> n + <span class="hljs-number">1</span><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_func</span>():</span><br>    <span class="hljs-keyword">assert</span> func(<span class="hljs-number">1</span>) == <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2019/09/15/ejSrFGkJhaXgicd.png" alt="ç¬¬ä¸€ä¸ªæµ‹è¯•"> å½“ç„¶è¿™ä¸ªæ˜æ˜¾ä¼šæŠ¥é”™ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç¼–å†™æµ‹è¯•ä»£ç æ¯”è¾ƒç®€å•ï¼Œæ— éœ€ä»»ä½•é…ç½®ã€‚ pytest ä¼šè‡ªåŠ¨å‘ç°æˆ‘ä»¬éœ€è¦æµ‹è¯•çš„ä»£ç ï¼Œè¿™å–å†³äº pytest å‘ç°æµ‹è¯•ä»£ç çš„çº¦å®šã€‚</p>
<h2 id="æµ‹è¯•å¼‚å¸¸æ˜¯å¦èƒ½è¢«æ•è·"><a href="#æµ‹è¯•å¼‚å¸¸æ˜¯å¦èƒ½è¢«æ•è·" class="headerlink" title="æµ‹è¯•å¼‚å¸¸æ˜¯å¦èƒ½è¢«æ•è·"></a>æµ‹è¯•å¼‚å¸¸æ˜¯å¦èƒ½è¢«æ•è·</h2><p>pytest å¯ä»¥æµ‹è¯•ä»£ç æ˜¯å¦æŒ‰é¢„æœŸæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥æµ‹è¯•å¼‚å¸¸æ˜¯å¦èƒ½è¢«æ­£ç¡®æ•è·ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pytest<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span>():</span><br>    <span class="hljs-keyword">raise</span> SystemExit(<span class="hljs-number">1</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_mytest</span>():</span><br>    <span class="hljs-keyword">with</span> pytest.raises(SystemExit):<br>        f()<br></code></pre></td></tr></table></figure>

<p>æµ‹è¯•ç»“æœç¬¦åˆé¢„æœŸã€‚ <img src="https://i.loli.net/2019/09/15/DG6xl9iXW1Ee7gC.png" alt="æ•è·å¼‚å¸¸æµ‹è¯•"> è¿™æ ·æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å¼‚å¸¸æˆ–è‡ªå®šä¹‰å¼‚å¸¸æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•æµ‹è¯•å¼‚å¸¸æ˜¯å¦èƒ½æ­£ç¡®è¢«æ•æ‰ã€‚</p>
<h2 id="å‘ç°æµ‹è¯•ä»£ç çš„çº¦å®š"><a href="#å‘ç°æµ‹è¯•ä»£ç çš„çº¦å®š" class="headerlink" title="å‘ç°æµ‹è¯•ä»£ç çš„çº¦å®š"></a>å‘ç°æµ‹è¯•ä»£ç çš„çº¦å®š</h2><p>å¦‚æœæ²¡æœ‰é™„åŠ å‚æ•°ï¼Œpytest ä¼šéµå¾ªé€’å½’ç›®å½•çš„æ–¹å¼ï¼Œæ‰¾åˆ°ä»¥ <code>test_</code> å¼€å¤´çš„æ–‡ä»¶å¤¹ï¼Œ<code>test_*.py</code> æˆ– <code>*_test.py</code> çš„æ–‡ä»¶ï¼Œåœ¨è¿™äº›æ–‡ä»¶ä¸­æ‰¾åˆ° <code>test</code> å‰ç¼€çš„æ–¹æ³•æˆ–ä»¥ <code>Test</code> å¼€å¤´å‘½åçš„ç±»ï¼ˆä¸åŒ…å« <code>__init__</code> æ–¹æ³•ï¼‰ã€‚ å½“ç„¶æˆ‘ä»¬å†™äº†è®¸å¤šæµ‹è¯•ï¼Œä¸æƒ³ä¸€æ¬¡æµ‹è¯•æ‰€æœ‰ä»£ç ï¼Œpytest ä¹Ÿæ”¯æŒé€‰æ‹©æ€§æµ‹è¯•ã€‚</p>
<h3 id="åœ¨æ¨¡å—ä¸­è¿è¡Œæµ‹è¯•"><a href="#åœ¨æ¨¡å—ä¸­è¿è¡Œæµ‹è¯•" class="headerlink" title="åœ¨æ¨¡å—ä¸­è¿è¡Œæµ‹è¯•"></a>åœ¨æ¨¡å—ä¸­è¿è¡Œæµ‹è¯•</h3><p><code>pytest test_mod.py</code></p>
<h3 id="åœ¨ç›®å½•ä¸­è¿è¡Œæµ‹è¯•"><a href="#åœ¨ç›®å½•ä¸­è¿è¡Œæµ‹è¯•" class="headerlink" title="åœ¨ç›®å½•ä¸­è¿è¡Œæµ‹è¯•"></a>åœ¨ç›®å½•ä¸­è¿è¡Œæµ‹è¯•</h3><p><code>pytest testing/</code></p>
<h3 id="æŒ‰å…³é”®å­—è¡¨è¾¾å¼è¿è¡Œæµ‹è¯•"><a href="#æŒ‰å…³é”®å­—è¡¨è¾¾å¼è¿è¡Œæµ‹è¯•" class="headerlink" title="æŒ‰å…³é”®å­—è¡¨è¾¾å¼è¿è¡Œæµ‹è¯•"></a>æŒ‰å…³é”®å­—è¡¨è¾¾å¼è¿è¡Œæµ‹è¯•</h3><p><code>pytest -k &quot;MyClass and not method&quot;</code> è¿è¡Œç»™å®šå­—ç¬¦ä¸²è¡¨è¾¾å¼åŒ¹é…çš„æµ‹è¯•ã€‚å¦‚ä¸Šå‘½ä»¤æ„æ€æ˜¯åªæµ‹è¯•å‘½åä¸­åŒ…å« <code>MyClass</code> ä¸”ä¸å« <code>method</code> å­—ç¬¦ä¸²çš„æµ‹è¯•ã€‚å‘½åèŒƒå›´åŒ…æ‹¬ç±»åå’Œå‡½æ•°åã€‚ ä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pytest<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestMyClass</span>(<span class="hljs-params">object</span>):</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_func</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> == <span class="hljs-number">1</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_method_func</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> != <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç ä¸­ï¼Œè‹¥é…åˆä¸Šè¿°å‘½ä»¤ï¼Œåªä¼šæ‰§è¡Œ <code>TestMyClass</code> ä¸‹çš„ <code>test_func</code> æµ‹è¯•ã€‚å¦‚æœæˆ‘ä»¬å°†ç±»åä» <code>TestMyClass</code> æ”¹æˆ <code>TestYourClass</code>ï¼Œå°†ä¸ä¼šæ‰§è¡Œä»»ä½•æµ‹è¯•ã€‚å› ä¸ºæˆ‘ä»¬çš„æµ‹è¯•å‘½åä¸­ï¼Œå…³é”®å­—æ—¢æ²¡æœ‰ <code>TestYourClass</code> ä¹Ÿä¸èƒ½åŒ…å« <code>method</code>ã€‚</p>
<h3 id="æŒ‰èŠ‚ç‚¹-ID-è¿è¡Œæµ‹è¯•"><a href="#æŒ‰èŠ‚ç‚¹-ID-è¿è¡Œæµ‹è¯•" class="headerlink" title="æŒ‰èŠ‚ç‚¹ ID è¿è¡Œæµ‹è¯•"></a>æŒ‰èŠ‚ç‚¹ ID è¿è¡Œæµ‹è¯•</h3><p>æ¯ä¸ªæ”¶é›†çš„æµ‹è¯•éƒ½åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ nodeidï¼ŒåŒ…æ‹¬æ¨¡å—æ–‡ä»¶åï¼Œç±»åï¼Œå‡½æ•°åå’Œå‚æ•°ï¼Œç”¨<code>::</code>å­—ç¬¦åˆ†éš”ã€‚ åœ¨æ¨¡å—ä¸­è¿è¡Œç‰¹å®šæµ‹è¯•ï¼š <code>pytest test_mod.py::test_func</code> åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šæµ‹è¯•æ–¹æ³•çš„ç¤ºä¾‹ï¼š <code>pytest test_mod.py::TestMyClass::test_method_func</code></p>
<h2 id="Fixtures-å’Œ-conftest-py"><a href="#Fixtures-å’Œ-conftest-py" class="headerlink" title="Fixtures å’Œ conftest.py"></a>Fixtures å’Œ conftest.py</h2><p>Fixtures æ˜¯ç®€å•ç†è§£æ˜¯ä¸€ä¸ªåœ¨æµ‹è¯•ä¹‹å‰è¿è¡Œçš„å‡½æ•°ã€‚å¯ä»¥å°†ä¸€äº›å¿…è¦çš„æ•°æ®æä¾›ç»™æµ‹è¯•ã€‚ä¾‹å¦‚è¿æ¥æ•°æ®åº“ï¼Œçˆ¬è™«è¯·æ±‚è¿”å›ç½‘é¡µå†…å®¹å’ŒæŸç§æ•°æ®ç­‰ã€‚ ç®€å•ä¸¾ä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><br><span class="hljs-keyword">import</span> pytest<br><span class="hljs-keyword">import</span> requests<br><br><br><span class="hljs-meta">@pytest.fixture</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">title</span>():</span><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    ä½¿ç”¨ requests è¯·æ±‚ https://lijianxun.top/</span><br><span class="hljs-string">    è¿”å›ç½‘ç«™ title</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    html = requests.get(<span class="hljs-string">&quot;https://lijianxun.top&quot;</span>)<br>    doc = html.text<br>    title = re.findall(<span class="hljs-string">&quot;&lt;title&gt;(.*?)&lt;/title&gt;&quot;</span>, doc)[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">return</span> title<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_add</span>(<span class="hljs-params">title: str</span>):</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;ç®€è®¯&quot;</span> <span class="hljs-keyword">in</span> title<br></code></pre></td></tr></table></figure>

<p>è¿è¡Œæµ‹è¯•ï¼Œè¿”å›å¦‚ä¸‹ç»“æœï¼š <img src="https://i.loli.net/2019/09/17/V57RfaYjEdhG41i.png" alt="fixtureæµ‹è¯•1"> æˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨å…¶ä»–åœ°æ–¹ä¼ å…¥ <code>title</code>ï¼Œpytest å¯è‡ªåŠ¨åŒ¹é…ã€‚ å¦‚æœæˆ‘ä»¬éœ€è¦çš„æµ‹è¯•æ•°æ®è¿‡å¤šï¼Œå¯ä»¥å•ç‹¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ <code>conftest.py</code> æ¥ç»Ÿä¸€ç®¡ç† Fixturesã€‚ <code>conftest.py</code> æ–‡ä»¶å†™å…¥ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> pytest<br><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-meta">@pytest.fixture</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">title</span>():</span><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    ä½¿ç”¨ requests è¯·æ±‚ https://lijianxun.top/</span><br><span class="hljs-string">    è¿”å› title</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    html = requests.get(<span class="hljs-string">&quot;https://lijianxun.top&quot;</span>)<br>    doc = html.text<br>    title = re.findall(<span class="hljs-string">&quot;&lt;title&gt;(.*?)&lt;/title&gt;&quot;</span>, doc)[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">return</span> title<br></code></pre></td></tr></table></figure>

<p><code>test_title.py</code> å†™å…¥ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_add</span>(<span class="hljs-params">title: str</span>):</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;ç®€è®¯&quot;</span> <span class="hljs-keyword">in</span> title<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ å‘½ä»¤è¡Œä½¿ç”¨å‚æ•° <code>--fixtures</code> å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ Fixturesã€‚ å‘½ä»¤è¡Œè¾“å…¥ï¼š <code>pytest --fixtures conftest.py</code> ä¼šè¿”å›ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">title<br>    ä½¿ç”¨ requests è¯·æ±‚ https://lijianxun.top/<br>    è¿”å› title<br></code></pre></td></tr></table></figure>

<p>æ‰€ä»¥åœ¨ç¼–å†™ Fixtures æµ‹è¯•æ•°æ®æ—¶ï¼Œå‡½æ•°æœ€å¥½æ·»åŠ æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œä¿è¯åœ¨ä¹‹åæŸ¥çœ‹æ˜ç¡®å„ç§å‡½æ•°çš„ç”¨å¤„ã€‚</p>
<h1 id="å¦‚ä½•ç¼–å†™æµ‹è¯•ä»£ç "><a href="#å¦‚ä½•ç¼–å†™æµ‹è¯•ä»£ç " class="headerlink" title="å¦‚ä½•ç¼–å†™æµ‹è¯•ä»£ç "></a>å¦‚ä½•ç¼–å†™æµ‹è¯•ä»£ç </h1><p>ä»‹ç»äº† pytest çš„ç”¨æ³•ï¼Œè¯´åˆ°åº•è¿˜æ˜¯ä¸ºäº†ç¼–å†™æµ‹è¯•ä»£ç æœåŠ¡çš„ï¼Œä½†æ˜¯å¦‚ä½•ç¼–å†™æµ‹è¯•ä»£ç å‘¢ï¼Ÿ æµ‹è¯•å¹¶ä¸å¤æ‚ã€‚æ˜ç¡®éœ€è¦æµ‹è¯•çš„éƒ¨åˆ†ï¼Œå£°æ˜é¢„æœŸçš„ç»“æœï¼Œç¬¦åˆé¢„æœŸä¾¿å¯é€šè¿‡æµ‹è¯•ã€‚å•å…ƒæµ‹è¯•è¦æµ‹è¯•çš„å…¶å®æ˜¯é€»è¾‘ã€æµç¨‹æ§åˆ¶å’Œé…ç½®ã€‚æ¯•ç«Ÿæµ‹è¯•ä»£ç æ˜¯æ­»çš„ï¼Œç¨‹åºæ˜¯æ´»çš„ã€‚å› ä¸ºæµ‹è¯•ä»£ç ä¸€æ—¦å†™å¥½ï¼Œè¯´æ˜ç¨‹åºå¿…é¡»æŒ‰ç…§è¯¥æµ‹è¯•æ‰§è¡Œï¼Œè¿™æ ·å°±å¯ä»¥æ”¾å¿ƒä¿®æ”¹ä»£ç ï¼Œå¢åŠ åŠŸèƒ½æˆ–é‡æ„ã€‚ ä¾‹å¦‚å†™ä¸€ä¸ªçˆ¬è™«ï¼Œæ•°æ®æ˜¯ä»¥å­—å…¸çš„å½¢å¼å…¥åº“ï¼Œå…¶ä¸­æœ‰ä¸€äº›å­—æ®µåœ¨æºç½‘ç«™æ˜¯ int ç±»å‹ï¼Œå› ä¸ºä¸šåŠ¡éœ€è¦ï¼Œæˆ‘è¦ä¿è¯å­˜å‚¨ä¸‹æ¥çš„æ˜¯ str ç±»å‹ï¼Œè€Œä¸”ä¹‹åå¯èƒ½è¿˜ä¼šæ–°å¢å­—æ®µï¼Œä¹Ÿéœ€è¦ä¿è¯è½¬æ¢æˆ str ç±»å‹ï¼Œè¿™é‡Œå¯ä»¥å†™ä¸€ä¸ªæµ‹è¯•æ¥åˆ¤æ–­å…¥åº“çš„å­—æ®µæ˜¯å¦å…¨éƒ¨éƒ½æ˜¯ str ç±»å‹ã€‚å¯èƒ½æœ‰è¯»è€…ä¼šè¯´ï¼Œå†™æµ‹è¯•è¿™ç‚¹åŠŸå¤«ç›´æ¥è½¬æ¢ç±»å‹ä¸å°±è¡Œäº†å—ï¼Ÿä½†æ˜¯è°èƒ½ä¿è¯åœ¨ä¹‹åä¿®æ”¹ä»£ç çš„æ—¶å€™ï¼Œé‡æ„æˆ–è€…æœ‰å…¶ä»–äººæ¥æ‰‹è¿™éƒ¨åˆ†ä»£ç çš„æ—¶å€™è¿˜ä¼šæƒ³èµ·è½¬æ¢ç±»å‹å‘¢ï¼Ÿ æ­£å¦‚ã€Špython webå¼€å‘ æµ‹è¯•é©±åŠ¨æ–¹æ³•ã€‹ä¹¦ä¸­è¯´åˆ°ï¼Œå†™æµ‹è¯•ä»£ç å°±åƒå†™æ•…äº‹ä¸€æ ·ï¼ŒæŠŠæ­¥éª¤å†™ä¸‹æ¥å°±ç»„æˆäº†ä¸€ä¸ªæ•…äº‹ã€‚æ¯”å¦‚ç”¨ Flask æ­å»ºåšå®¢ï¼Œæˆ‘ä»¬éœ€è¦æµ‹è¯•ç”¨æˆ·ç™»å½•ï¼Œå‘å¸–ï¼Œæäº¤ï¼Œè¿”å›é¦–é¡µåšæ–‡å±•ç¤ºåˆ°é¦–é¡µç­‰ä¸€ç³»åˆ—åŠ¨ä½œï¼Œæ•…äº‹å†™å®Œäº†æˆ‘ä»¬éœ€è¦æµ‹è¯•çš„éƒ¨åˆ†ä¹Ÿå°±æƒ³å‡ºæ¥äº†ã€‚</p>
<h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p>ç¼–å†™æµ‹è¯•ä»£ç å¯èƒ½æ˜¯æ¯ç‡¥çš„ï¼Œä½†æµ‹è¯•æ˜¯å¼€å‘è¿‡ç¨‹ä¸­ä¸€ä¸ªé‡è¦çš„ç»„æˆéƒ¨åˆ†ã€‚è‰¯å¥½çš„æµ‹è¯•å¯ä»¥ä¿è¯ç¨‹åºè¿è¡Œçš„ç¨³å®šæ€§ã€‚æ‰€ä»¥ä¸ºäº†ä½ çš„ä»£ç ï¼Œä»ä»Šå¤©å¼€å§‹å­¦ä¹ å†™æµ‹è¯•ä»£ç å§ï¼</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>pytest</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Python æŠ“å–çŸ¥ä¹ç¾å›¾</title>
    <url>/59.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2018/06/03/01/15/fish-3449604__480.png"></p>
<p>ä¹‹å‰å†™åˆ°<strong>å®…å®…ç”Ÿæ´»æ”¶è—å¤¹</strong>çš„éƒ¨ç½²æ–¹æ³•ï¼Œè§ <a href="https://lijianxun.top/?p=52">ä½¿ç”¨Flaskï¼ŒNginxï¼ŒGunicornï¼ŒSupervisorå®Œæˆç½‘ç«™éƒ¨ç½²</a>ã€‚è¿™æ¬¡ä»‹ç»ä¸€ä¸‹å¦‚ä½•æŠ“å–çŸ¥ä¹ç­”æ¡ˆï¼Œè·å–çŸ¥ä¹ç¾å›¾ã€‚</p>
<p>å¯ä»¥è¯´çˆ¬è™«æ˜¯å­¦ä¹  Python çš„å…¥é—¨å¿…ä¿®è¯¾ã€‚å½“èƒ½ç‹¬ç«‹å†™å‡ºç¬¬ä¸€ä¸ªå®Œæ•´çš„çˆ¬è™«çš„æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»è¿ˆå‡ºäº†ä¸€å¤§æ­¥ã€‚å› ä¸ºåœ¨è¿™è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¼šäº†å¦‚ä½•æŸ¥çœ‹æ–‡æ¡£ï¼Œå­¦ä¼šä½¿ç”¨ Python ç›¸å…³åº“çš„æ“ä½œï¼Œæ€æ ·ä½¿ç”¨ Chrome çš„å¼€å‘è€…å·¥å…·ï¼ˆç›¸å…³å·¥å…·ï¼‰å’ŒæŠŠæŠ“å–çš„æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ä¸­ç­‰ç­‰ä¸€ç³»åˆ—æ“ä½œï¼Œå½“ç„¶æ”¶è·æœ€å¤šçš„è¿˜æ˜¯å­¦ä¹  Python çš„è‡ªä¿¡å¿ƒã€‚</p>
<p>ä¸‹é¢ä»¥æŠ“å–çŸ¥ä¹å›¾ç‰‡ä¸ºä¾‹ï¼Œè¿ˆå‡ºæˆ‘ä»¬è‡ªå­¦ Python çˆ¬è™«çš„ç¬¬ä¸€æ­¥ã€‚</p>
<a id="more"></a>
<p>æœ¬æ–‡é™¤ Python ç›¸å…³åº“çš„ä½¿ç”¨å¤–ï¼Œè¿˜ä¼šæ¶‰åŠåˆ° <code>mongo</code> æ•°æ®åº“çš„ä½¿ç”¨ã€‚</p>
<p>å› ä¸º<strong>å®…å®…ç”Ÿæ´»æ”¶è—å¤¹</strong>åªæ˜¯ä¸ºäº†æ”¶é›†çŸ¥ä¹é’“é±¼è´´çš„å›¾ç‰‡ï¼Œæœ‰é’ˆå¯¹æ€§ï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡è·å–çŸ¥ä¹é¦–é¡µåˆ—è¡¨å…¨é¢æŠ“å–ã€‚å½“ç„¶æŠ“å–æ–¹å¼å¤§åŒå°å¼‚ï¼ŒæŠŠæŠ“å–åˆ—è¡¨æ”¹ä¸ºçŸ¥ä¹é¦–é¡µä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<h1 id="æ•´ä½“æ€è·¯"><a href="#æ•´ä½“æ€è·¯" class="headerlink" title="æ•´ä½“æ€è·¯"></a>æ•´ä½“æ€è·¯</h1><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æ”¶é›†çŸ¥ä¹å„ç±»é’“é±¼è´´ï¼Œè¿™ä¸€æ­¥å¯ä»¥ä½¿ç”¨çˆ¬è™«ï¼ˆé€šè¿‡çˆ¬å–åˆ«äººå·²ç»æ”¶é›†çš„é’“é±¼è´´ï¼Œæˆ–è€…å„ç§ç¤¾åŒºå¯èƒ½å·²æœ‰é’“é±¼è´´ä¸“æ ç­‰ï¼‰è·å–ï¼Œä¹Ÿå¯ä»¥åœ¨æµè§ˆçŸ¥ä¹æ—¶ï¼Œå‘ç°åˆé€‚çš„è´´å­æ‰‹åŠ¨æ·»åŠ ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å°†é’“é±¼è´´çš„ ID å­˜å…¥æ•°æ®åº“ä¸­ï¼Œçˆ¬è™«è¿è¡Œæ—¶è¯»åº“è·å–éœ€è¦çˆ¬å–çš„ç›®æ ‡è´´ã€‚</p>
<p>é€šè¿‡å†™ä¸€ä¸ªçˆ¬è™«ï¼Œç”Ÿæˆä»»åŠ¡æ± å¤šçº¿ç¨‹è°ƒç”¨ã€‚å°†è·å–åˆ°çš„ç­”æ¡ˆæ•°æ®æ¸…æ´—ï¼Œåªæ”¶é›†ç­”æ¡ˆä¸­çš„å›¾ç‰‡ã€‚</p>
<p>å­˜å…¥åº“ä¸­çš„ç»“æ„å’ŒçŸ¥ä¹çš„ç±»ä¼¼ï¼šç­”æ¡ˆé›†åˆä¿å­˜æ‰€æœ‰ç­”æ¡ˆï¼Œæ¯ä¸€ä¸ªç­”æ¡ˆæ˜¯ä¸€æ¡ç‹¬ç«‹çš„æ–‡æ¡£ã€‚å¯èƒ½å†™çš„æœ‰ç‚¹ç»•ã€‚</p>
<p>å…·ä½“ç»“æ„ç±»ä¼¼è¿™ç§ç»“æ„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript">&#123;<br>    <span class="hljs-string">&quot;Answer&quot;</span>: [<br>        &#123;<br>            <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,<br>            <span class="hljs-string">&quot;question_id&quot;</span>: <span class="hljs-string">&quot;xxx&quot;</span>,<br>            <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;xxx&quot;</span>,<br>            <span class="hljs-string">&quot;author&quot;</span>: <span class="hljs-string">&quot;xxx&quot;</span>,<br>            <span class="hljs-string">&quot;content: [</span><br><span class="hljs-string">                &quot;</span>imgUrl<span class="hljs-string">&quot;,</span><br><span class="hljs-string">                &quot;</span>...<span class="hljs-string">&quot;</span><br><span class="hljs-string">            ]</span><br><span class="hljs-string">        &#125;,</span><br><span class="hljs-string">        &#123;</span><br><span class="hljs-string">            &quot;</span>id<span class="hljs-string">&quot;: 2,</span><br><span class="hljs-string">            &quot;</span>question_id<span class="hljs-string">&quot;: &quot;</span>xxx<span class="hljs-string">&quot;,</span><br><span class="hljs-string">            &quot;</span>title<span class="hljs-string">&quot;: &quot;</span>xxx<span class="hljs-string">&quot;,</span><br><span class="hljs-string">            &quot;</span>author<span class="hljs-string">&quot;: &quot;</span>xxx<span class="hljs-string">&quot;,</span><br><span class="hljs-string">            &quot;</span>content: [<br>                <span class="hljs-string">&quot;imgUrl&quot;</span>,<br>                <span class="hljs-string">&quot;...&quot;</span><br>            ]<br>        &#125;,<br>        ...<br>    ]<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å…¶ä¸­ <code>Answer</code> ä¸ºæ•°æ®åº“çš„é›†åˆï¼Œé›†åˆä¸­çš„æ¯ä¸€é¡¹æ˜¯ä¸€æ¡å›ç­”ã€‚</p>
<p>ç”¨è¿™ç§æ ¼å¼ä¿å­˜çš„å¥½å¤„æ˜¯æˆ‘ä»¬åªéœ€é€šè¿‡è´´å­çš„ ID æŸ¥è¯¢ç­”æ¡ˆå³å¯ï¼Œä¿å­˜èµ·æ¥ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚</p>
<h1 id="çŸ¥ä¹çˆ¬è™«"><a href="#çŸ¥ä¹çˆ¬è™«" class="headerlink" title="çŸ¥ä¹çˆ¬è™«"></a>çŸ¥ä¹çˆ¬è™«</h1><h2 id="å¼€å§‹ä¹‹å‰"><a href="#å¼€å§‹ä¹‹å‰" class="headerlink" title="å¼€å§‹ä¹‹å‰"></a>å¼€å§‹ä¹‹å‰</h2><p>åœ¨å¼€å§‹ä¹‹å‰éœ€è¦å®‰è£…é¡¹ç›®ä¾èµ–ï¼Œåªç”¨åˆ°ä¸¤ä¸ªå¸¸ç”¨åº“ï¼š</p>
<p><code>python3 -m pip install requests pymongo</code></p>
<p>åˆ†åˆ«ç”¨æ¥è¯·æ±‚ URL å’Œæ“ä½œæ•°æ®åº“ã€‚</p>
<p>å®‰è£…å®Œæˆåè®°å¾—å¯åŠ¨ <code>mongo</code> æœåŠ¡ã€‚</p>
<h2 id="Spider"><a href="#Spider" class="headerlink" title="Spider"></a>Spider</h2><p>çˆ¬è™«ä»£ç æ¯”è¾ƒç®€å•ï¼Œä»£ç ä¸è¿‡ç™¾è¡Œï¼Œå…³é”®æ‰¾åˆ°çŸ¥ä¹ç­”æ¡ˆçš„æ¥å£ï¼Œè§£æå³å¯ã€‚è€Œä¸”è¿™ä¸ªæ¥å£ä¹Ÿæ˜¯éå¸¸å¥½æ‰¾çš„ã€‚</p>
<p>ç”¨ Chrome çš„å¼€å‘è€…å·¥å…·ä¸€ä¸‹å°±æ‰¾åˆ°äº†â€¦</p>
<p><img src="https://i.loli.net/2020/02/14/gFpQvUTA2WhwJa9.png" alt="çŸ¥ä¹ API æˆªå›¾"></p>
<p>æ¥å£ä¹Ÿæ²¡æœ‰ä»»ä½•åŠ å¯†æˆ–æƒé™é™åˆ¶ï¼Œåœ¨è¯·æ±‚å¤´ä¸­åŠ å…¥ <code>Cookies</code> å°±å¯ä»¥äº†ã€‚æ˜¯ä¸æ˜¯çªç„¶è§‰å¾—å¾ˆç®€å•ï¼Ÿ</p>
<p>åªè¦æˆ‘ä»¬æ§åˆ¶å¥½é¢‘ç‡ï¼Œä¸è¦å½±å“åˆ°çŸ¥ä¹æœåŠ¡å°±è¡Œäº†ã€‚æ¯•ç«Ÿæˆ‘ä»¬åªæ˜¯æƒ³è·å–ç­”æ¡ˆè€Œå·²ã€‚</p>
<p>é€šè¿‡ Chrome å¼€å‘è€…å·¥å…·åˆ†æï¼Œè¯·æ±‚æºå¸¦äº†å¦‚ä¸‹å‚æ•°ï¼Œæˆ‘ä»¬åªç”¨åˆ° <code>limit</code> å’Œ <code>offset</code>ï¼Œç”¨æ¥æ§åˆ¶æ¥å£è¿”å›çš„æ•°é‡å’Œè¿”å›çš„ä½ç½®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">include: data[*].is_normal,admin_closed_comment,reward_info,is_collapsed,annotation_action,annotation_detail,collapse_reason,is_sticky,collapsed_by,suggest_edit,comment_count,can_comment,content,editable_content,voteup_count,reshipment_settings,comment_permission,created_time,updated_time,review_info,relevant_info,question,excerpt,relationship.is_authorized,is_author,voting,is_thanked,is_nothelp,is_labeled,is_recognized,paid_info;data[*].mark_infos[*].url;data[*].author.follower_count,badge[*].topics<br>offset:<br>limit: 3<br>sort_by: default<br>platform: desktop<br></code></pre></td></tr></table></figure>

<p>å®Œæ•´çš„è¯·æ±‚ URL æ˜¯ï¼š</p>
<p><code>https://www.zhihu.com/api/v4/questions/21115811/answers?include=data%5B*%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Ccreated_time%2Cupdated_time%2Creview_info%2Crelevant_info%2Cquestion%2Cexcerpt%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%2Cis_labeled%2Cis_recognized%2Cpaid_info%3Bdata%5B*%5D.mark_infos%5B*%5D.url%3Bdata%5B*%5D.author.follower_count%2Cbadge%5B*%5D.topics&amp;offset=&amp;limit=3&amp;sort_by=default&amp;platform=desktop</code></p>
<p>æˆ‘ä»¬åªè¦åŠ¨æ€æ›´æ”¹å…¶ä¸­çš„ <code>question</code>ï¼Œ<code>limit</code> å’Œ <code>offset</code> å°±å¯ä»¥äº†ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡æ¥å£è¿”å›çš„ç­”æ¡ˆæ€»æ•°ï¼Œåˆ¤æ–­éœ€è¦ç¿»å¤šå°‘é¡µï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡æ¥å£è¿”å›çš„ <code>next</code> å’Œ <code>previous</code> æ¥è·å–ä¸‹ä¸€é¡µæˆ–å‰ä¸€é¡µç­”æ¡ˆé“¾æ¥ã€‚çŸ¥ä¹çš„æ¥å£è®¾è®¡çš„éå¸¸æ–¹ä¾¿å•Šã€‚</p>
<p>å½“ç„¶åœ¨ç¿»é¡µæŠ“å–çš„æ—¶å€™åˆ‡è®°è®¾ç½®ç¡çœ æ—¶é—´ï¼Œæ”¾åœ¨æœåŠ¡å™¨ä¸Šçˆ¬çš„æ…¢ä¸€ç‚¹ä¹Ÿæ²¡å…³ç³»ã€‚<strong>ä¸è¦å½±å“åˆ°çŸ¥ä¹çš„æ­£å¸¸æœåŠ¡</strong>ã€‚</p>
<p>è¯·æ±‚æˆåŠŸåæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œå­˜å‚¨æ•°æ®äº†ï¼Œè‡³äºå¦‚ä½•åˆ¤æ–­ç­”æ¡ˆä¸­æ˜¯å¦æœ‰å›¾ç‰‡ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹ä»£ç ã€‚</p>
<p>ä½¿ç”¨åˆ°äº† <code>lxml</code> åº“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>re</code> åº“ä»£æ›¿ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># éƒ¨åˆ†ä»£ç </span><br><br><span class="hljs-meta">@staticmethod</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_content</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-string">&quot;&quot;&quot;è§£æç­”æ¡ˆä¸­çš„ contentï¼Œç›´æ¥è·å–å›¾ç‰‡&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;&lt;img &quot;</span> <span class="hljs-keyword">in</span> content:<br>        img_list = set(etree.HTML(content).xpath(<span class="hljs-string">&quot;//img/@data-original&quot;</span>))<br>        <span class="hljs-keyword">return</span> list(img_list)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> []<br></code></pre></td></tr></table></figure>

<p>å…ˆåˆ¤æ–­å›ç­”ä¸­æ˜¯å¦æœ‰ <code>img</code> æ ‡ç­¾ï¼Œå¦‚æœæ²¡æœ‰ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œé€šè¿‡ <code>data-original</code> å±æ€§è·å–åŸå§‹å¤§å°çš„å›¾ç‰‡é“¾æ¥ã€‚ä¹Ÿæ˜¯è¿”å›ä¸€ä¸ªåŒ…å«å›¾ç‰‡é“¾æ¥çš„åˆ—è¡¨ç±»å‹ã€‚</p>
<p>åœ¨å…¥åº“çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡ <code>parse_content</code> çš„è¿”å›åˆ¤æ–­æ˜¯å¦éœ€è¦å…¥åº“ï¼Œå¦‚æœæ˜¯ <code>[]</code> å°±è·³è¿‡ï¼Œå¦‚æœåˆ—è¡¨ä¸ä¸ºç©ºå°±å…¥åº“ã€‚è¿™æ ·åœ¨ä¹‹åå±•ç¤ºçš„æ—¶å€™ä¸ä¼šåªå±•ç¤ºä½œè€…ä¿¡æ¯ï¼Œå´æ²¡æœ‰å›ç­”çš„æƒ…å†µäº†ï¼ˆå…¶å®æ˜¯è¯¥ä½œè€…å›ç­”ä¸­æ²¡æœ‰å›¾ç‰‡ï¼‰ã€‚</p>
<h2 id="è°ƒç”¨çˆ¬è™«"><a href="#è°ƒç”¨çˆ¬è™«" class="headerlink" title="è°ƒç”¨çˆ¬è™«"></a>è°ƒç”¨çˆ¬è™«</h2><p>å½“æˆ‘ä»¬å®Œæˆä¸Šè¿°æ“ä½œï¼Œå°±å¯ä»¥å•ç‹¬å†™ä¸€ä¸ªæ–‡ä»¶ä½¿ç”¨å¤šçº¿ç¨‹è°ƒç”¨çˆ¬è™«äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor<br><br>qid_list = db.get_all_question()<br>crawler_list = [ZhihuSpider(qid).run <span class="hljs-keyword">for</span> qid <span class="hljs-keyword">in</span> qid_list]<br><br><span class="hljs-keyword">with</span> ThreadPoolExecutor(max_workers=<span class="hljs-number">4</span>) <span class="hljs-keyword">as</span> executor:<br>    future = [executor.submit(task) <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> crawler_list]<br>    <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> future:<br>        f.result()<br></code></pre></td></tr></table></figure>

<p><code>qid_list</code> æ¥è‡ªæŸ¥åº“è·å–æ‰€æœ‰çš„çŸ¥ä¹è´´å­ IDã€‚</p>
<p>ä½¿ç”¨ <code>concurrent.futures</code> åº“å¹¶è¡Œæ‰§è¡Œä»»åŠ¡ï¼Œåœ¨æˆ‘ä»¬çš„ä»£ç é‡Œä½¿ç”¨ <code>ThreadPoolExecutor</code>ï¼Œå®ƒä½¿ç”¨çº¿ç¨‹æ± æ¥å¼‚æ­¥æ‰§è¡Œè°ƒç”¨ã€‚</p>
<p><code>max_workers</code> æ§åˆ¶æœ€å¤šçº¿ç¨‹çš„ä½¿ç”¨ï¼Œæœ¬ä¾‹ä¸­ä½¿ç”¨æœ€å¤š4ä¸ªçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚</p>
<p>å…·ä½“æ–‡æ¡£è§ <a href="https://docs.python.org/zh-cn/3/library/concurrent.futures.html#threadpoolexecutor">ThreadPoolExecutor</a>ï¼Œæ˜¯å¯¹ <code>thread</code> åº“çš„å°è£…ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨çº¿ç¨‹æ—¶æ›´åŠ ç®€å•ã€‚</p>
<p>å®Œæ•´ä»£ç è§ <a href="https://github.com/alpha87/zhihuFish">github</a>ã€‚</p>
<p>æœ€åæ€»ç»“ä¸€ä¸‹æ•´ä½“æ€è·¯ï¼šæˆ‘ä»¬å…ˆæŠŠéœ€è¦æŠ“å–çš„ ID å­˜å…¥æ•°æ®åº“ï¼Œä½œä¸ºä»»åŠ¡æ± ï¼Œçˆ¬è™«è°ƒå–ä»»åŠ¡æ± ä¸­çš„ IDï¼Œå°†çˆ¬å–ç»“æœå†ä¿å­˜åˆ°æ•°æ®åº“ã€‚</p>
<p>ç­‰æˆ‘ä»¬å­¦ä¼šäº† Python çˆ¬è™«ï¼Œå†å­¦ Web å¼€å‘çš„æ—¶å€™ï¼Œè¿˜èƒ½å°†æˆ‘ä»¬æŠ“å–çš„ç»“æœå±•ç¤ºå‡ºæ¥ã€‚ä¸€ä¸å°å¿ƒåˆå­¦ä¹ äº† Python Web å¼€å‘ï¼Œå¤šå¥½ã€‚</p>
<h1 id="ç¦åˆ©"><a href="#ç¦åˆ©" class="headerlink" title="ç¦åˆ©"></a>ç¦åˆ©</h1><p>å½“æˆ‘ä»¬çˆ¬è™«å†™å¥½ï¼Œå…¥åº“ï¼Œå¹¶æˆåŠŸå±•ç¤ºå‡ºæ¥ï¼Œä¸çŸ¥ä¸è§‰å°±å®ç°äº†ä¸€ä¸ªå°ç¨‹åºé¡¹ç›®ï¼š<strong>å®…å®…ç”Ÿæ´»æ”¶è—å¤¹</strong>ã€‚</p>
<p><img src="https://user-images.githubusercontent.com/25655581/60482994-3c431e00-9cc6-11e9-9344-3c50b9dbef10.png" alt="å°ç¨‹åºé¦–é¡µå±•ç¤º"></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>è„šæœ¬</tag>
        <tag>é’“é±¼è´´</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Python æ“ä½œ Telegram å‘é€æ¶ˆæ¯</title>
    <url>/55.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/9zr38v7JpwfDASd.png"></p>
<p>ç”¨è¿‡ tg çš„æœ‹å‹ä¸€å®šè®¤åŒ tg æ˜¯å®‡å®™ç¬¬ä¸€é€šè®¯å·¥å…·ï¼Œæ²¡è®°é”™çš„è¯åº”è¯¥æ˜¯æˆ˜æ–—æ°‘æ—ä¿„ç½—æ–¯çš„ç¨‹åºå‘˜å¼€å‘çš„ã€‚</p>
<a id="more"></a>
<h1 id="ä»€ä¹ˆæ˜¯-telegram"><a href="#ä»€ä¹ˆæ˜¯-telegram" class="headerlink" title="ä»€ä¹ˆæ˜¯ telegram"></a>ä»€ä¹ˆæ˜¯ telegram</h1><blockquote>
<p>Telegram æ˜¯è·¨å¹³å°çš„å³æ—¶é€šä¿¡è½¯ä»¶ã€‚å…¶å®¢æˆ·ç«¯æ˜¯è‡ªç”±åŠå¼€æ”¾æºä»£ç è½¯ä»¶ï¼Œä½†æœåŠ¡å™¨æ˜¯ä¸“æœ‰è½¯ä»¶ã€‚ç”¨æˆ·å¯ä»¥ç›¸äº’äº¤æ¢åŠ å¯†ä¸è‡ªæ¯æ¶ˆæ¯ï¼Œå‘é€ç…§ç‰‡ã€å½±ç‰‡ç­‰æ‰€æœ‰ç±»å‹æ–‡ä»¶ã€‚ï¼ˆç»´åŸºç™¾ç§‘ï¼‰</p>
</blockquote>
<p><img src="https://i.loli.net/2020/02/02/q65wpScnZjbEolv.jpg" alt="Telegram" title=" "></p>
<p>å®˜æ–¹ç½‘ç«™ï¼š<a href="https://telegram.org/">https://telegram.org/</a></p>
<p>å¦‚æœæ‰“ä¸å¼€ï¼Œåº”è¯¥æ˜¯éœ€è¦ä»£ç†ã€‚æ’æ’­ä¸€åˆ™å°å¹¿å‘Šï¼š</p>
<p>ğŸ›«ï¸ æœºåœºæ¨èï¼š<a href="http://m8.pw/mddv">å¡è½¦æé€Ÿ</a> | <strong>ä¼˜æƒ ç ï¼škc_forever_5</strong></p>
<h1 id="åˆ›å»ºæœºå™¨äºº"><a href="#åˆ›å»ºæœºå™¨äºº" class="headerlink" title="åˆ›å»ºæœºå™¨äºº"></a>åˆ›å»ºæœºå™¨äºº</h1><p>é¦–å…ˆéœ€è¦æ·»åŠ  <a href="https://telegram.me/BotFather">@BotFather</a>ã€‚</p>
<p>å‘é€ <code>/start</code> æ ¹æ®æç¤ºç»§ç»­æ“ä½œã€‚</p>
<p><img src="https://i.loli.net/2020/02/02/CRr76xbFAz4v9pP.jpg" alt="åˆ›å»ºæœºå™¨äºº" title=" "></p>
<p>è¾“å…¥ <code>/newbot</code> åˆ›å»ºæœºå™¨äººï¼Œç„¶åæ˜¯æ˜µç§°ï¼Œç”¨æˆ·åï¼ˆå¿…é¡»ä»¥ Bot ç»“å°¾ï¼‰ã€‚</p>
<p>åˆ›å»ºæˆåŠŸä»¥åæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ª TOKENï¼Œç±»ä¼¼ <code>012345678:xxxxxxxxxxxxxxxxx-xxxxxxxxxx-xxxxxx</code>ã€‚</p>
<h1 id="ä½¿ç”¨-Python-å‘é€æ¶ˆæ¯"><a href="#ä½¿ç”¨-Python-å‘é€æ¶ˆæ¯" class="headerlink" title="ä½¿ç”¨ Python å‘é€æ¶ˆæ¯"></a>ä½¿ç”¨ Python å‘é€æ¶ˆæ¯</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>éœ€è¦ç”¨åˆ° <a href="https://github.com/python-telegram-bot/python-telegram-bot">python-telegram-bot</a> åº“ã€‚</p>
<h2 id="First-Blood"><a href="#First-Blood" class="headerlink" title="First Blood"></a>First Blood</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> telegram<br><br>chat_id = <span class="hljs-string">&quot;@xxxxx&quot;</span>  <span class="hljs-comment"># é¢‘é“åœ°å€</span><br>token = <span class="hljs-string">&quot;&quot;</span>  <span class="hljs-comment"># æœºå™¨äºº TOKEN</span><br>bot = telegram.Bot(token=token)<br>bot.send_message(chat_id=chat_id, text=<span class="hljs-string">&quot;æµ‹è¯•&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿ</p>
<h2 id="å‘é€å¸¦æ ‡é¢˜ç½‘å€é“¾æ¥"><a href="#å‘é€å¸¦æ ‡é¢˜ç½‘å€é“¾æ¥" class="headerlink" title="å‘é€å¸¦æ ‡é¢˜ç½‘å€é“¾æ¥"></a>å‘é€å¸¦æ ‡é¢˜ç½‘å€é“¾æ¥</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">bot.send_message(<br>    chat_id=chat_id,<br>    text=<span class="hljs-string">&quot;&lt;a href=&quot;</span>https://lijianxun.top/<span class="hljs-string">&quot;&gt;ç®€è®¯çš„ä¸ªäººåšå®¢&lt;/a&gt;&quot;</span>,<br>    parse_mode=telegram.ParseMode.HTML<br>)<br></code></pre></td></tr></table></figure>

<p>ParseMode æ”¯æŒ html å’Œ markdown ä¸¤ç§æ ¼å¼ã€‚</p>
<p>html æ ‡ç­¾æ”¯æŒåŠ ç²— <code>&lt;b&gt;&lt;/b&gt;</code>ï¼Œæ–œä½“ <code>&lt;i&gt;&lt;/i&gt;</code> ç­‰ã€‚</p>
<h2 id="å‘é€å›¾ç‰‡"><a href="#å‘é€å›¾ç‰‡" class="headerlink" title="å‘é€å›¾ç‰‡"></a>å‘é€å›¾ç‰‡</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">bot.send_photo(<br>    chat_id=chat_id,<br>    photo=<span class="hljs-string">&quot;https://i.loli.net/2019/09/19/PcQst46mwUaMEgV.png&quot;</span>,<br>    caption=<span class="hljs-string">&quot;éå¿…å¡«çš„å›¾ç‰‡æè¿°&quot;</span><br>)<br></code></pre></td></tr></table></figure>

<h2 id="å‘é€å¤šå¼ å›¾ç‰‡"><a href="#å‘é€å¤šå¼ å›¾ç‰‡" class="headerlink" title="å‘é€å¤šå¼ å›¾ç‰‡"></a>å‘é€å¤šå¼ å›¾ç‰‡</h2><p>å®Œæ•´ä»£ç </p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> telegram<br><span class="hljs-keyword">from</span> telegram <span class="hljs-keyword">import</span> InputMediaPhoto<br><br>photo_list = [<br>    <span class="hljs-string">&quot;https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png&quot;</span>,<br>    <span class="hljs-string">&quot;https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png&quot;</span>,<br>    <span class="hljs-string">&quot;https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png&quot;</span>,<br>    <span class="hljs-string">&quot;https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png&quot;</span>,<br>    <span class="hljs-string">&quot;https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png&quot;</span>,<br>    <span class="hljs-string">&quot;https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png&quot;</span><br>]<br><br>result = [InputMediaPhoto(media=p, caption=<span class="hljs-string">&quot;çŸ¥ä¹é’“é±¼è´´&quot;</span>)<br>          <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> photo_list]<br><br>bot.send_media_group(<br>    chat_id=chat_id,<br>    media=result<br>)<br></code></pre></td></tr></table></figure>

<p>ä¼ ç›¸å†Œçš„æ—¶å€™ <code>media</code> éœ€è¦ <code>InputMediaPhoto</code> ç±»å‹ã€‚</p>
<p>å…ˆè®°å½•è¿™ä¹ˆå¤šï¼Œä»¥åç”¨åˆ°å…¶ä»–ç±»å‹å†è®°å½•ã€‚</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Telegram</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Python å’Œå¤§æ¼ æ’ä»¶è¿›è¡Œæ–‡å­—è¯†åˆ«</title>
    <url>/56.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2015/04/03/18/56/font-705667__480.jpg"> å®¶é‡Œæœ‰ä¸€å°win7ç³»ç»Ÿçš„ç”µè„‘ï¼Œå¹³æ—¶å¯ä»¥ç”¨æ¥ç©ç©æ¸¸æˆæ¶ˆç£¨æ—¶é—´ã€‚ä½†æ˜¯æœ‰æ—¶å€™æœ‰ä¸€äº›é‡å¤çš„æ“ä½œå®åœ¨æ˜¯æ— è¶£ï¼Œæ‰€ä»¥æ‰“ç®—å†™ä¸ªè„šæœ¬ï¼Œè®©å…¶è‡ªåŠ¨åŒ–æ‰§è¡Œã€‚ æœ€ç»ˆçš„ç›®æ ‡å°±æ˜¯æŠŠæ¸¸æˆé‡Œä¸€äº›å¸¸ç”¨çš„æ“ä½œéƒ½é›†åˆåˆ°è„šæœ¬ä¸­å»ï¼Œä¸”æ— åºéšæœºæ‰§è¡Œï¼Œæ¨¡æ‹ŸçœŸäººæ“ä½œã€‚</p>
<a id="more"></a>
<h2 id="å¤§æ¼ æ’ä»¶ä»‹ç»"><a href="#å¤§æ¼ æ’ä»¶ä»‹ç»" class="headerlink" title="å¤§æ¼ æ’ä»¶ä»‹ç»"></a>å¤§æ¼ æ’ä»¶ä»‹ç»</h2><p>å› ä¸ºä½¿ç”¨çš„æ˜¯Windowsç³»ç»Ÿï¼Œæ‰€ä»¥å¥½å¤šå·¥ä½œä¹‹å‰å·²ç»æœ‰å¤§ä½¬å®Œæˆäº†ã€‚å‡ å¹´å‰ä½¿ç”¨è¿‡æŒ‰é”®ç²¾çµçš„åŒå­¦ä¸€å®šå¯¹å¤§æ¼ æ’ä»¶ä¸é™Œç”Ÿï¼Œå…¶åŠŸèƒ½ä¹‹å¼ºå¤§ï¼Œå¯ä»¥ç”¨æ¥å®Œæˆå¾ˆå¤šæ“ä½œã€‚ <img src="https://i.loli.net/2020/02/17/gQXydK4naZAjVPY.png" alt="å¤§æ¼ æ’ä»¶æ–‡æ¡£"> ä»æ–‡æ¡£å¯ä»¥çœ‹å‡ºï¼ŒåŠŸèƒ½å®åœ¨å¤ªå¤šäº†ï¼Œè¦†ç›–äº†æ–¹æ–¹é¢é¢ã€‚æˆ‘åŸºæœ¬ä½¿ç”¨åˆ°çš„å°±æ˜¯å›¾ç‰‡è¯†åˆ«ï¼Œæ–‡å­—è¯†åˆ«ï¼Œé”®é¼ æ“ä½œç­‰ï¼Œæœ€å¼ºå¤§çš„åŠŸèƒ½è«è¿‡äºåå°æ“ä½œï¼Œä¹Ÿå°±æ˜¯çª—å£æœ€å°åŒ–æ—¶ä¸å½±å“é¼ æ ‡é”®ç›˜çš„æ“ä½œã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæ¸¸æˆåœ¨åå°è‡ªåŠ¨æ‰§è¡Œï¼Œå‰å°ç»§ç»­åšå·¥ä½œï¼Œäº’ä¸å¹²æ‰°ã€‚ æˆ‘ç°åœ¨éœ€è¦åšçš„å°±æ˜¯å°†å¤§æ¼ æ’ä»¶ä½¿ç”¨pythonè€Œä¸æ˜¯æŒ‰é”®ç²¾çµè®©å…¶å·¥ä½œï¼Œå› ä¸ºæŒ‰é”®ç²¾çµè¿™ç±»è½¯ä»¶å¾ˆå®¹æ˜“è¢«æŸ¥å‡ºæ¥ã€‚</p>
<h2 id="æ–‡å­—è¯†åˆ«"><a href="#æ–‡å­—è¯†åˆ«" class="headerlink" title="æ–‡å­—è¯†åˆ«"></a>æ–‡å­—è¯†åˆ«</h2><p>å›¾åƒè½¬æ–‡å­—éœ€è¦ä¸‰ä¸ªæ­¥éª¤ã€‚</p>
<ol>
<li>æ‹¿åˆ°å›¾ç‰‡</li>
<li>äºŒå€¼åŒ–</li>
<li>ä½¿ç”¨å­—åº“è¿›è¡Œè¯†åˆ«</li>
</ol>
<p>å½“è¿™ä¸‰æ­¥å®Œæˆçš„æ—¶å€™ï¼Œæ–‡å­—é¡ºç†æˆç« å°±è¢«è¯†åˆ«å‡ºæ¥äº†ã€‚ ä½¿ç”¨å¤§æ¼ æ’ä»¶çš„å¥½å¤„æ˜¯æ¯æ¬¡è¯†åˆ«ä¸éœ€è¦å°†è¯†åˆ«çš„å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°ï¼Œè€Œæ˜¯ç»™å®šå±å¹•ä¸Šçš„èŒƒå›´å°±å¯ä»¥è¯†åˆ«äº†ã€‚ ç°åœ¨æˆ‘ä»¬æŒ‰æ­¥éª¤æ“ä½œä¸€æ³¢ã€‚</p>
<h3 id="æ‹¿åˆ°å›¾ç‰‡ï¼Œè·å–åè‰²åˆ—è¡¨"><a href="#æ‹¿åˆ°å›¾ç‰‡ï¼Œè·å–åè‰²åˆ—è¡¨" class="headerlink" title="æ‹¿åˆ°å›¾ç‰‡ï¼Œè·å–åè‰²åˆ—è¡¨"></a>æ‹¿åˆ°å›¾ç‰‡ï¼Œè·å–åè‰²åˆ—è¡¨</h3><p><img src="https://i.loli.net/2020/02/17/aPbjqkpzxrCZnM3.png" alt="2113"> æˆ‘ä»¬éœ€è¦è¯†åˆ«è¿™å¼ å›¾ç‰‡ä¸­çš„â€œ3â€ï¼Œâ€œ0â€ï¼Œâ€œ/â€ï¼Œâ€œ2â€ï¼Œâ€œ7â€ã€‚ ä½¿ç”¨å¤§æ¼ åè‰²è®¡ç®—å™¨è®¡ç®—åè‰²ã€‚ <img src="https://i.loli.net/2020/02/17/amZMzehNSLHdOR9.png" alt="1231"> å…·ä½“æ­¥éª¤æ˜¯ï¼š</p>
<ol>
<li>å…ˆæŠ“å›¾ï¼Œè·å–å›¾ç‰‡</li>
<li>è¯†åˆ«æ•°å­—ã€‚å°†é¼ æ ‡ç§»åˆ°éœ€è¦è¯†åˆ«çš„æ•°å­—çš„é¢œè‰²éƒ¨åˆ†ï¼ˆä¾‹å¦‚è¿™ä¸ªå›¾ç‰‡èƒŒæ™¯æ˜¯æ£•è‰²ï¼Œæ–‡å­—æ˜¯é»‘è‰²ï¼Œå°†é¼ æ ‡ç§»åˆ°é»‘è‰²éƒ¨åˆ†ï¼Œç¨åçš„äºŒå€¼åŒ–å°±æ˜¯å°†é»‘è‰²éƒ¨åˆ†çªå‡ºæ˜¾ç¤ºï¼‰ã€‚</li>
<li>ç‚¹å‡»â€œæ ¹æ®é¢œè‰²åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå’ŒRGBé¢œè‰²åå·®æ·»åŠ é¢œè‰²åˆ°é¢œè‰²åˆ—è¡¨â€ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆå¤šä¸ªé¢œè‰²ã€‚</li>
<li>ç‚¹å‡»è®¡ç®—åè‰²ã€‚</li>
</ol>
<p>äºŒå€¼åŒ–é¢„è§ˆåŒºåº”è¯¥å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°æˆ‘ä»¬éœ€è¦è¯†åˆ«çš„æ•°å­—äº†ã€‚ å…·ä½“é¡ºåºå¯ä»¥é…åˆç€è¿™å¼ å›¾ï¼š <img src="https://i.loli.net/2020/02/17/ES4b1GfATu5FLU3.png" alt="4311"> å¦‚æœä½ è§‰å¾—è¯†åˆ«åçš„æ–‡å­—è¿˜ä¸å¤Ÿæ¸…æ™°ï¼Œå¯ä»¥è‡ªå·±ä¿®æ”¹é¢œè‰²åˆ—è¡¨ã€‚ è¿™ä¸€æ­¥æ“ä½œæˆ‘ä»¬éœ€è¦æ‹¿åˆ°<strong>åè‰²åˆ—è¡¨</strong>ï¼š514C45-2B2926ã€‚è¿™ä¸ªåè‰²åˆ—è¡¨ä¹‹åç”¨å¤„éå¸¸å¤§ã€‚</p>
<h3 id="ä½¿ç”¨å¤§æ¼ ç»¼åˆå·¥å…·æ–°å»ºæˆ–ç¼–è¾‘å­—åº“"><a href="#ä½¿ç”¨å¤§æ¼ ç»¼åˆå·¥å…·æ–°å»ºæˆ–ç¼–è¾‘å­—åº“" class="headerlink" title="ä½¿ç”¨å¤§æ¼ ç»¼åˆå·¥å…·æ–°å»ºæˆ–ç¼–è¾‘å­—åº“"></a>ä½¿ç”¨å¤§æ¼ ç»¼åˆå·¥å…·æ–°å»ºæˆ–ç¼–è¾‘å­—åº“</h3><p>äºŒå€¼åŒ–æ˜¾ç¤ºçš„ç»“æœï¼Œç¨‹åºè¿˜æ˜¯ä¸è®¤è¯†â€œ3â€æˆ–â€œ0â€ï¼Œéœ€è¦æˆ‘ä»¬å‘Šè¯‰ç¨‹åºï¼Œâ€œ3â€è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„æ˜¯æ•°å­—<code>3</code>ï¼Œè¿™æ ·å½“æˆ‘ä»¬ä¹‹åè¯†åˆ«å­—ç¬¦ï¼Œç¨‹åºå†é‡åˆ°â€œ3â€æ ·å­çš„å­—ç¬¦å°±ä¼šè¿”å›<code>3</code>è¿™ä¸ªæ•°å­—ã€‚ æå–ç‚¹é˜µå¹¶å®šä¹‰æ–‡å­—ï¼Œå°†è¯†åˆ«åçš„ç»“æœä¸æˆ‘ä»¬æƒ³è¦çš„ç»“æœåšå¯¹åº”ï¼Œç„¶åæ·»åŠ åˆ°å­—åº“ã€‚ ç®€å•æè¿°æˆ‘ä»¬çš„æ“ä½œæ˜¯ï¼š</p>
<ol>
<li><ol>
<li>ä½¿ç”¨æµ®åŠ¨æŠ“å›¾åŠŸèƒ½ï¼Œåœ¨æ¡Œé¢ä¸Šæ‰¾åˆ°éœ€è¦è¯†åˆ«çš„èŒƒå›´</li>
<li>åœ¨ç¬¬ä¸€è¡ŒRGBï¼Œåè‰²è¾“å…¥åˆšæ‰çš„åè‰²åˆ—è¡¨</li>
<li>ç‚¹å‡»<strong>æå–ç‚¹é˜µï¼ˆå¤šä¸ªï¼‰</strong></li>
<li>æ‰“å¼€æˆ–æ–°å»ºå­—åº“ï¼ˆtxtæ–‡ä»¶ï¼‰</li>
<li>å®šä¹‰æ–‡å­—ï¼ˆç„¶åå›è½¦ï¼‰</li>
</ol>
</li>
</ol>
<p>é…åˆå›¾ç‰‡è§£é‡Šä¸€æ³¢ï¼š <img src="https://i.loli.net/2020/02/17/AsyN1oc6Uw53fVt.png" alt="31234"> éœ€è¦æ³¨æ„çš„æ˜¯åœ¨æå–ç‚¹é˜µçš„æ—¶å€™å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œç›´æ¥æŒ‰ç¡®è®¤å°±å¯ä»¥ã€‚ å¦‚æœé‡åˆ°ä¸€ä¸ªé¢„è§ˆç»“æœæ˜¾ç¤ºå¤šä¸ªå­—ç¬¦ï¼Œä¸¤ä¸ªå­—ç¬¦è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå­—ç¬¦çš„æƒ…å†µï¼Œå¯èƒ½æ˜¯åè‰²åˆ—è¡¨ä¸å¤Ÿä¸¥è°¨ï¼Œé‡æ–°åœ¨åˆ¤æ–­åè‰²å§ã€‚ é¢„è§ˆç»“æœæ˜¯â€œ0â€ï¼Œé‚£ä¹ˆå°±åœ¨<strong>å®šä¹‰æ–‡å­—</strong>ä¸€æ è¾“å…¥0ï¼Œå›è½¦ï¼Œè¿™æ ·å°±åšäº†å¯¹åº”ï¼Œå¹¶ä¿å­˜åˆ°å­—åº“ä¸­äº†ã€‚ é‡å¤ä»¥ä¸Šæ“ä½œï¼ŒæŠŠéœ€è¦è¯†åˆ«çš„å­—ç¬¦éƒ½åšå¯¹åº”ã€‚å½“ç„¶æˆ‘ä»‹ç»çš„æ˜¯å¯¹äºæ¸¸æˆä¸­ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œç³»ç»Ÿæ— æ³•è¯†åˆ«éœ€è¦è‡ªå·±åšå¯¹åº”ã€‚å¤§æ¼ æ’ä»¶æœ‰æä¾›ç³»ç»Ÿå­—ä½“çš„å­—åº“ï¼Œä¹Ÿæ¯”è¾ƒä¸°å¯Œï¼Œä¸ä¸€å®šå¿…é¡»è‡ªå·±é€ å­—åº“ã€‚</p>
<h2 id="é…åˆpythonè¿”å›è¯†åˆ«ç»“æœ"><a href="#é…åˆpythonè¿”å›è¯†åˆ«ç»“æœ" class="headerlink" title="é…åˆpythonè¿”å›è¯†åˆ«ç»“æœ"></a>é…åˆpythonè¿”å›è¯†åˆ«ç»“æœ</h2><p>å‰é¢åšäº†è¿™ä¹ˆå¤šå·¥ä½œï¼Œè¯´åˆ°åº•è¿˜æ˜¯ä¸ºäº†pythonåšå‡†å¤‡ã€‚</p>
<h3 id="ä½¿ç”¨32çš„python"><a href="#ä½¿ç”¨32çš„python" class="headerlink" title="ä½¿ç”¨32çš„python"></a>ä½¿ç”¨<strong>32</strong>çš„python</h3><p>å¦‚æœä½ çš„ç”µè„‘é‡Œå·²ç»æœ‰äº†pythonï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½éœ€è¦é‡è£…ã€‚å› ä¸ºè°ƒç”¨å¤§æ¼ æ’ä»¶åªèƒ½ä½¿ç”¨python <strong>32ä½</strong>çš„ï¼Œä¸é™åˆ¶python2æˆ–3ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯python3.7ç‰ˆæœ¬çš„32ä½ã€‚64ä½ä¼šæŠ¥é”™ã€‚</p>
<h3 id="å®‰è£…pywin32åº“"><a href="#å®‰è£…pywin32åº“" class="headerlink" title="å®‰è£…pywin32åº“"></a>å®‰è£…<code>pywin32</code>åº“</h3><p>å®‰è£…å¥½32ä½çš„pythonåï¼Œå®‰è£…<code>pywin32</code>åº“æ¥æ“ä½œå¤§æ¼ æ’ä»¶ã€‚ å‘½ä»¤è¡Œè¾“å…¥<code>pip install pywin32</code>ï¼Œç­‰å¾…å®‰è£…å®Œæˆã€‚</p>
<h3 id="æ³¨å†Œå¤§æ¼ æ’ä»¶"><a href="#æ³¨å†Œå¤§æ¼ æ’ä»¶" class="headerlink" title="æ³¨å†Œå¤§æ¼ æ’ä»¶"></a>æ³¨å†Œå¤§æ¼ æ’ä»¶</h3><p>ä¸‹è½½å¥½å¤§æ¼ æ’ä»¶å‹ç¼©åŒ…åï¼Œéœ€è¦æ³¨å†Œå¤§æ¼ æ’ä»¶ã€‚ åœ¨<code>dm.dll</code>æ–‡ä»¶çš„åŒç›®å½•ä¸­ï¼Œä½¿ç”¨ç®¡ç†å‘˜æƒé™åœ¨cmdé‡Œæ‰§è¡Œï¼š <code>regsvr32 dm.dll</code> å®Œæˆæ³¨å†Œã€‚</p>
<h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-keyword">import</span> win32com.client<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DmBase</span>(<span class="hljs-params">object</span>):</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br><br>        <span class="hljs-comment"># è°ƒç”¨å¤§æ¼ æ’ä»¶</span><br>        self.dm = win32com.client.Dispatch(<span class="hljs-string">&quot;dm.dmsoft&quot;</span>)<br><br>        <span class="hljs-comment"># è®¾å®šå­—åº“æ–‡ä»¶ï¼Œå»ºè®®åœ¨åˆå§‹åŒ–ä¸­è°ƒç”¨ï¼Œæ¯”è¾ƒè€—æ—¶</span><br>        self.dm.setDict(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;C:\\Users\\Li\\Desktop\\help\\data\\num.txt&quot;</span>)<br><br>        <span class="hljs-comment"># ä½¿ç”¨å­—åº“</span><br>        self.dm.useDict(<span class="hljs-number">0</span>)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ocr</span>(<span class="hljs-params">self, x1, y1, x2, y2, color_format, sim=<span class="hljs-number">0.9</span></span>):</span><br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">            æ–‡å­—è¯†åˆ«</span><br><span class="hljs-string"></span><br><span class="hljs-string">            - Args:</span><br><span class="hljs-string"></span><br><span class="hljs-string">                x1 (int): å·¦ä¸Šx</span><br><span class="hljs-string">                y1 (int): å·¦ä¸Šy</span><br><span class="hljs-string">                x2 (int): å³ä¸‹x</span><br><span class="hljs-string">                y2 (int): å³ä¸‹y</span><br><span class="hljs-string">                color_format (str): åè‰²åˆ—è¡¨</span><br><span class="hljs-string">                sim (float): ç›¸ä¼¼åº¦ï¼ŒèŒƒå›´ 0.1-1.0</span><br><span class="hljs-string"></span><br><span class="hljs-string">            - Return:</span><br><span class="hljs-string"></span><br><span class="hljs-string">                è¯†åˆ«çš„å­—ç¬¦ä¸²</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> self.dm.Ocr(x1, y1, x2, y2, color_format, sim)<br><br></code></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å®Œæˆäº†pythonè°ƒç”¨å¤§æ¼ æ’ä»¶è¯†åˆ«æ–‡å­—çš„æ“ä½œã€‚</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>å¤§æ¼ æ’ä»¶</tag>
        <tag>æ–‡å­—è¯†åˆ«</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Python è¿æ¥ mongoDB</title>
    <url>/58.html</url>
    <content><![CDATA[<p><img src="https://upload.wikimedia.org/wikipedia/commons/0/00/Mongodb.png"> ä¹‹å‰ä½¿ç”¨çš„MySQLæ˜¯å…³ç³»å‹æ•°æ®åº“ï¼ŒmongoDBæ˜¯éå…³ç³»å‹æ•°æ®åº“ï¼ˆNoSQLï¼‰ã€‚</p>
<a id="more"></a>
<h2 id="ä»‹ç»mongoDB"><a href="#ä»‹ç»mongoDB" class="headerlink" title="ä»‹ç»mongoDB"></a>ä»‹ç»mongoDB</h2><blockquote>
<p>MongoDBæ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ã€‚ç”±C++è¯­è¨€ç¼–å†™ã€‚æ—¨åœ¨ä¸ºWEBåº”ç”¨æä¾›å¯æ‰©å±•çš„é«˜æ€§èƒ½æ•°æ®å­˜å‚¨è§£å†³æ–¹æ¡ˆã€‚ä»‹äºå…³ç³»æ•°æ®åº“å’Œéå…³ç³»æ•°æ®åº“ä¹‹é—´çš„äº§å“ï¼Œæ˜¯éå…³ç³»æ•°æ®åº“å½“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œï¼Œæœ€åƒå…³ç³»æ•°æ®åº“çš„ã€‚æ”¯æŒçš„æ•°æ®ç»“æ„éå¸¸æ¾æ•£ï¼Œæ˜¯ç±»ä¼¼jsonçš„bsonæ ¼å¼ï¼Œå› æ­¤å¯ä»¥å­˜å‚¨æ¯”è¾ƒå¤æ‚çš„æ•°æ®ç±»å‹ã€‚Mongoæœ€å¤§çš„ç‰¹ç‚¹æ˜¯ä»–æ”¯æŒçš„æŸ¥è¯¢è¯­è¨€éå¸¸å¼ºå¤§ï¼Œå…¶è¯­æ³•æœ‰ç‚¹ç±»ä¼¼äºé¢å‘å¯¹è±¡çš„æŸ¥è¯¢è¯­è¨€ï¼Œå‡ ä¹å¯ä»¥å®ç°ç±»ä¼¼å…³ç³»æ•°æ®åº“å•è¡¨æŸ¥è¯¢çš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œè€Œä¸”è¿˜æ”¯æŒå¯¹æ•°æ®å»ºç«‹ç´¢å¼•ã€‚</p>
</blockquote>
<p>ä»¥ä¸Šä»‹ç»æ¥è‡ª<a href="http://baike.baidu.com/link?url=z8OHE7KbfYKiSxtk82Pj9Uvu22vcLHvnMmM5sgoEUPDCckS-tSku2oeknp3hOqgkQbx2UFvFs8sUXaVdaSt52q">ç™¾åº¦ç™¾ç§‘mongoDB</a>ã€‚:-)</p>
<h2 id="å®‰è£…pymongo"><a href="#å®‰è£…pymongo" class="headerlink" title="å®‰è£…pymongo"></a>å®‰è£…pymongo</h2><p>åœ¨ç»ˆç«¯è¾“å…¥ï¼š <code>pip install pymongo -i https://pypi.tuna.tsinghua.edu.cn/simple</code> ç­‰å¾…å®‰è£…å®Œæˆã€‚è¿™é‡Œæˆ‘ä½¿ç”¨äº†æ¸…åæºå›½å†…é•œåƒåŠ é€Ÿä¸‹è½½ï¼Œå®‰è£…å…¶ä»–ç¬¬ä¸‰æ–¹åº“ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</p>
<h2 id="åŸºæœ¬å‘½ä»¤"><a href="#åŸºæœ¬å‘½ä»¤" class="headerlink" title="åŸºæœ¬å‘½ä»¤"></a>åŸºæœ¬å‘½ä»¤</h2><p>ä½¿ç”¨mongoDBï¼Œè¿˜éœ€è¦äº†è§£ä¸€äº›åŸºæœ¬å‘½ä»¤ã€‚</p>
<h4 id="åˆ›å»ºæˆ–ä½¿ç”¨æ•°æ®åº“"><a href="#åˆ›å»ºæˆ–ä½¿ç”¨æ•°æ®åº“" class="headerlink" title="åˆ›å»ºæˆ–ä½¿ç”¨æ•°æ®åº“"></a>åˆ›å»ºæˆ–ä½¿ç”¨æ•°æ®åº“</h4><p><code>use dbname;</code></p>
<h4 id="æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯"><a href="#æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯:"></a>æŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯:</h4><p><code>show dbs;</code></p>
<h4 id="æŸ¥çœ‹æ•°æ®åº“ä¸­çš„é›†åˆï¼ˆä¹Ÿå°±æ˜¯å…³ç³»å‹æ•°æ®åº“çš„è¡¨ï¼‰"><a href="#æŸ¥çœ‹æ•°æ®åº“ä¸­çš„é›†åˆï¼ˆä¹Ÿå°±æ˜¯å…³ç³»å‹æ•°æ®åº“çš„è¡¨ï¼‰" class="headerlink" title="æŸ¥çœ‹æ•°æ®åº“ä¸­çš„é›†åˆï¼ˆä¹Ÿå°±æ˜¯å…³ç³»å‹æ•°æ®åº“çš„è¡¨ï¼‰:"></a>æŸ¥çœ‹æ•°æ®åº“ä¸­çš„é›†åˆï¼ˆä¹Ÿå°±æ˜¯å…³ç³»å‹æ•°æ®åº“çš„è¡¨ï¼‰:</h4><p><code>show collections;</code></p>
<h4 id="åˆ›å»ºæ•°æ®åº“ä¸­çš„é›†åˆï¼ˆè¡¨ï¼‰"><a href="#åˆ›å»ºæ•°æ®åº“ä¸­çš„é›†åˆï¼ˆè¡¨ï¼‰" class="headerlink" title="åˆ›å»ºæ•°æ®åº“ä¸­çš„é›†åˆï¼ˆè¡¨ï¼‰:"></a>åˆ›å»ºæ•°æ®åº“ä¸­çš„é›†åˆï¼ˆè¡¨ï¼‰:</h4><p><code>db.createCollection(name);</code></p>
<h4 id="åˆ é™¤æ•°æ®åº“ä¸­çš„é›†åˆï¼ˆcollectionnameæ˜¯è¦åˆ é™¤çš„é›†åˆï¼‰"><a href="#åˆ é™¤æ•°æ®åº“ä¸­çš„é›†åˆï¼ˆcollectionnameæ˜¯è¦åˆ é™¤çš„é›†åˆï¼‰" class="headerlink" title="åˆ é™¤æ•°æ®åº“ä¸­çš„é›†åˆï¼ˆcollectionnameæ˜¯è¦åˆ é™¤çš„é›†åˆï¼‰:"></a>åˆ é™¤æ•°æ®åº“ä¸­çš„é›†åˆï¼ˆcollectionnameæ˜¯è¦åˆ é™¤çš„é›†åˆï¼‰:</h4><p><code>db.collectionname.drop();</code></p>
<h4 id="åˆ é™¤æ•°æ®åº“ï¼Œå…ˆuseéœ€è¦åˆ é™¤çš„æ•°æ®åº“ï¼Œç„¶åè¾“å…¥ï¼š"><a href="#åˆ é™¤æ•°æ®åº“ï¼Œå…ˆuseéœ€è¦åˆ é™¤çš„æ•°æ®åº“ï¼Œç„¶åè¾“å…¥ï¼š" class="headerlink" title="åˆ é™¤æ•°æ®åº“ï¼Œå…ˆuseéœ€è¦åˆ é™¤çš„æ•°æ®åº“ï¼Œç„¶åè¾“å…¥ï¼š"></a>åˆ é™¤æ•°æ®åº“ï¼Œå…ˆuseéœ€è¦åˆ é™¤çš„æ•°æ®åº“ï¼Œç„¶åè¾“å…¥ï¼š</h4><p><code>db.dropDatabase();</code></p>
<h4 id="æŸ¥è¯¢æ‰€æœ‰è®°å½•ï¼Œé»˜è®¤æ¯é¡µæ˜¾ç¤º20æ¡æ•°æ®"><a href="#æŸ¥è¯¢æ‰€æœ‰è®°å½•ï¼Œé»˜è®¤æ¯é¡µæ˜¾ç¤º20æ¡æ•°æ®" class="headerlink" title="æŸ¥è¯¢æ‰€æœ‰è®°å½•ï¼Œé»˜è®¤æ¯é¡µæ˜¾ç¤º20æ¡æ•°æ®:"></a>æŸ¥è¯¢æ‰€æœ‰è®°å½•ï¼Œé»˜è®¤æ¯é¡µæ˜¾ç¤º20æ¡æ•°æ®:</h4><p><code>db.collectionname.find();</code></p>
<h4 id="è®¾ç½®æ¯é¡µæ˜¾ç¤ºæ•°æ®çš„æ•°é‡ï¼Œæ˜¾ç¤º100æ¡è®°å½•ã€‚æŸ¥çœ‹ä¸‹ä¸€é¡µé”®å…¥itå‘½ä»¤ï¼Œä¸ç”¨è¾“å…¥"><a href="#è®¾ç½®æ¯é¡µæ˜¾ç¤ºæ•°æ®çš„æ•°é‡ï¼Œæ˜¾ç¤º100æ¡è®°å½•ã€‚æŸ¥çœ‹ä¸‹ä¸€é¡µé”®å…¥itå‘½ä»¤ï¼Œä¸ç”¨è¾“å…¥" class="headerlink" title="è®¾ç½®æ¯é¡µæ˜¾ç¤ºæ•°æ®çš„æ•°é‡ï¼Œæ˜¾ç¤º100æ¡è®°å½•ã€‚æŸ¥çœ‹ä¸‹ä¸€é¡µé”®å…¥itå‘½ä»¤ï¼Œä¸ç”¨è¾“å…¥;"></a>è®¾ç½®æ¯é¡µæ˜¾ç¤ºæ•°æ®çš„æ•°é‡ï¼Œæ˜¾ç¤º100æ¡è®°å½•ã€‚æŸ¥çœ‹ä¸‹ä¸€é¡µé”®å…¥itå‘½ä»¤ï¼Œä¸ç”¨è¾“å…¥;</h4><p><code>DBQuery.shellBatchSize=100;</code></p>
<h4 id="å»é‡ï¼Œè¿‡æ»¤collectionnameä¸­nameçš„ç›¸åŒæ•°æ®"><a href="#å»é‡ï¼Œè¿‡æ»¤collectionnameä¸­nameçš„ç›¸åŒæ•°æ®" class="headerlink" title="å»é‡ï¼Œè¿‡æ»¤collectionnameä¸­nameçš„ç›¸åŒæ•°æ®:"></a>å»é‡ï¼Œè¿‡æ»¤collectionnameä¸­nameçš„ç›¸åŒæ•°æ®:</h4><p><code>db.collectionname.distinct(&#39;name&#39;);</code></p>
<h2 id="ä½¿ç”¨Python"><a href="#ä½¿ç”¨Python" class="headerlink" title="ä½¿ç”¨Python"></a>ä½¿ç”¨Python</h2><p>è¿æ¥mongoDBå’Œæ’å…¥æ•°æ®çš„ä»£ç æ¯”è¾ƒç®€å•:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pymongo<br><br><br>connection = pymongo.MongoClient(<span class="hljs-string">&#x27;127.0.0.1&#x27;</span>, <span class="hljs-number">27017</span>)<br>tdb = connection.alpha87<br>post = tdb.test<br>post.insert(&#123;<span class="hljs-string">&#x27;name&#x27;</span>:<span class="hljs-string">&quot;æç™½&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-string">&quot;30&quot;</span>, <span class="hljs-string">&quot;skill&quot;</span>:<span class="hljs-string">&quot;Python&quot;</span>&#125;)<br>print(<span class="hljs-string">&quot;æ“ä½œå®Œæˆ&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥ä¸€è¡Œä¸€è¡Œåˆ†æã€‚ å¯¼å…¥pymongoåº“ï¼š <code>import pymongo</code> è¿æ¥mongoDBï¼Œå› ä¸ºæ˜¯åœ¨æœ¬æœºæ“ä½œï¼Œæ‰€ä»¥åœ†æ‹¬å·ä¸­çš„ â€˜127.0.0.1â€™, 27017å¯å†™å¯ä¸å†™ã€‚ Â·connection = pymongo.MongoClient(â€˜127.0.0.1â€™, 27017)Â· å‘½åæ•°æ®åº“ä¸º alpha87: <code>tdb = connection.alpha87</code> åˆ›å»º test é›†åˆï¼Œä¹Ÿå°±æ˜¯è¡¨: <code>post = tdb.test</code> æ’å…¥æ•°æ®: <code>post.insert(&#123;&#39;name&#39;:&quot;æç™½&quot;, &quot;age&quot;:&quot;30&quot;, &quot;skill&quot;:&quot;Python&quot;&#125;)</code> è¿è¡Œä»¥åï¼Œå°±èƒ½åœ¨æ•°æ®åº“ä¸­æŸ¥çœ‹åˆ°ä¿å­˜å¥½çš„æ•°æ®äº†ã€‚ <strong>å› ä¸ºæ˜¯å­—å…¸æ ¼å¼ï¼Œæ‰€ä»¥æ•°æ®ä¿å­˜åçš„é¡ºåºå¯èƒ½å’Œæ’å…¥æ—¶ä¸åŒã€‚</strong></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>mongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ QuantumultX å®ç°å¡è½¦æé€Ÿè‡ªåŠ¨ç­¾åˆ°</title>
    <url>/61.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/7QzBokESytGDKvq.jpg"></p>
<p><a href="http://m8.pw/mddv">å¡è½¦æé€Ÿ</a>æ¯å¤©éƒ½æœ‰ç­¾åˆ°ï¼Œæœºæ¢°åŒ–çš„æ“ä½œæœ€å¥½è¿˜æ˜¯äº¤ç»™æœºå™¨å»æ‰§è¡Œã€‚</p>
<a id="more"></a>
<h1 id="ä½¿ç”¨å‰æ"><a href="#ä½¿ç”¨å‰æ" class="headerlink" title="ä½¿ç”¨å‰æ"></a>ä½¿ç”¨å‰æ</h1><ol>
<li>QuantumultXï¼ˆ1.0.5ç‰ˆæœ¬åŠä»¥ä¸Šï¼‰</li>
<li>å¡è½¦æé€Ÿè´¦æˆ·ï¼ˆå…¶ä»–æœºåœºå¹³å°åº”è¯¥ç±»ä¼¼ï¼‰</li>
</ol>
<h1 id="è„šæœ¬"><a href="#è„šæœ¬" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h1><h2 id="è·å¾—-Cookie"><a href="#è·å¾—-Cookie" class="headerlink" title="è·å¾— Cookie"></a>è·å¾— Cookie</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@supported </span>è®¾å¤‡ ID</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">let</span> headerCookie = $request.headers[<span class="hljs-string">&quot;Cookie&quot;</span>];<br><br><span class="hljs-keyword">if</span> (headerCookie) &#123;<br>  <span class="hljs-keyword">if</span> ($prefs.valueForKey(<span class="hljs-string">&quot;kcjsCookie&quot;</span>) != <span class="hljs-literal">undefined</span>) &#123;<br>    <span class="hljs-keyword">if</span> ($prefs.valueForKey(<span class="hljs-string">&quot;kcjsCookie&quot;</span>) != headerCookie) &#123;<br>      <span class="hljs-keyword">var</span> cookie = $prefs.setValueForKey(headerCookie, <span class="hljs-string">&quot;kcjsCookie&quot;</span>);<br>      <span class="hljs-keyword">if</span> (!cookie) &#123;<br>        $notify(<span class="hljs-string">&quot;æ›´æ–°å¡è½¦æé€ŸCookieå¤±è´¥ï¼&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        $notify(<span class="hljs-string">&quot;æ›´æ–°å¡è½¦æé€ŸCookieæˆåŠŸï¼&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>      &#125;<br>    &#125;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">let</span> cookie = $prefs.setValueForKey(headerCookie, <span class="hljs-string">&quot;kcjsCookie&quot;</span>);<br>    <span class="hljs-keyword">if</span> (!cookie) &#123;<br>      $notify(<span class="hljs-string">&quot;é¦–æ¬¡å†™å…¥å¡è½¦æé€ŸCookieå¤±è´¥ï¼&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      $notify(<span class="hljs-string">&quot;é¦–æ¬¡å†™å…¥å¡è½¦æé€ŸCookieæˆåŠŸï¼&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>  &#125;<br>&#125;<br>$done(&#123;&#125;);<br></code></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ç”¨æ¥è·å¾— Cookieã€‚å› ä¸ºæ ¹æ®ç»éªŒï¼Œè¿™ä¸ªå¹³å°çš„ Cookie æœ‰æ•ˆæœŸåªæœ‰ä¸ƒå¤©ã€‚æ¯å‘¨è·å–æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥é€šè¿‡è„šæœ¬å®ç°ã€‚</p>
<p>éœ€è¦åœ¨é…ç½®æ–‡ä»¶å¡«å…¥ä»¥ä¸‹éƒ¨åˆ†é…ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><code class="hljs yaml">[<span class="hljs-string">rewrite_local</span>]<br><span class="hljs-string">;</span> <span class="hljs-string">å¡è½¦æé€Ÿ</span> <span class="hljs-string">Cookies</span> <span class="hljs-string">è·å–</span><br><span class="hljs-string">^https?:\/\/www\.kcjisu\.casa\/user</span> <span class="hljs-string">url</span> <span class="hljs-string">script-request-header</span> <span class="hljs-string">kcjsCookie.js</span><br><br>[<span class="hljs-string">mitm</span>]<br><span class="hljs-string">www.kcjisu.casa</span><br></code></pre></td></tr></table></figure>

<h2 id="ç­¾åˆ°è„šæœ¬"><a href="#ç­¾åˆ°è„šæœ¬" class="headerlink" title="ç­¾åˆ°è„šæœ¬"></a>ç­¾åˆ°è„šæœ¬</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@supported </span>è®¾å¤‡ ID</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">let</span> Cookie = $prefs.valueForKey(<span class="hljs-string">&quot;kcjsCookie&quot;</span>);<br><br><span class="hljs-keyword">let</span> Req = &#123;<br>  url: <span class="hljs-string">&quot;https://www.kcjisu.casa/user/checkin&quot;</span>,<br>  method: <span class="hljs-string">&quot;POST&quot;</span>,<br>  headers: &#123;<br>    Cookie: Cookie,<br>    Origin: <span class="hljs-string">&quot;https://www.kcjisu.casa&quot;</span>,<br>    Referer: <span class="hljs-string">&quot;https://www.kcjisu.casa/user&quot;</span>,<br>    <span class="hljs-string">&quot;User-Agent&quot;</span>: <span class="hljs-string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36&quot;</span><br>  &#125;<br>&#125;;<br><br>$task.fetch(Req).then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-keyword">let</span> doc = <span class="hljs-built_in">JSON</span>.parse(response.body);<br>    <span class="hljs-keyword">if</span> (doc[<span class="hljs-string">&quot;ret&quot;</span>] == <span class="hljs-number">1</span>) &#123;<br>      $notify(<br>        <span class="hljs-string">&quot;å¡è½¦æé€Ÿ&quot;</span>,<br>        <span class="hljs-string">&quot;æˆåŠŸ&quot;</span>,<br>        <span class="hljs-string">`<span class="hljs-subst">$&#123;doc[<span class="hljs-string">&quot;msg&quot;</span>]&#125;</span>\nå·²ä½¿ç”¨æµé‡<span class="hljs-subst">$&#123;doc[<span class="hljs-string">&quot;trafficInfo&quot;</span>][<span class="hljs-string">&quot;lastUsedTraffic&quot;</span>]&#125;</span>\nå‰©ä½™æµé‡<span class="hljs-subst">$&#123;doc[<span class="hljs-string">&quot;trafficInfo&quot;</span>][<span class="hljs-string">&quot;unUsedTraffic&quot;</span>]&#125;</span>`</span><br>      );<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      $notify(<span class="hljs-string">&quot;å¡è½¦æé€Ÿ&quot;</span>, <span class="hljs-string">&quot;æˆåŠŸ&quot;</span>, doc[<span class="hljs-string">&quot;msg&quot;</span>]);<br>    &#125;<br>  &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>    $notify(<span class="hljs-string">&quot;å¡è½¦æé€Ÿ&quot;</span>, <span class="hljs-string">&quot;å¤±è´¥&quot;</span>, error);<br>  &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç çš„æ•ˆæœå°±æ˜¯æ¨¡æ‹Ÿæµè§ˆå™¨è¯·æ±‚ç­¾åˆ°æ¥å£ã€‚</p>
<p>é…ç½®å®šæ—¶ä»»åŠ¡ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><code class="hljs yaml">[<span class="hljs-string">task_local</span>]<br><span class="hljs-number">01</span> <span class="hljs-number">00</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span> <span class="hljs-string">kcjs.js</span><br></code></pre></td></tr></table></figure>

<p>æ„æ€æ˜¯æ¯æ—¥é›¶ç‚¹é›¶ä¸€åˆ†ç­¾åˆ°ã€‚</p>
<p>å¯èƒ½æ˜¯ QuantumultX çš„ bugï¼Œé›¶ç‚¹é›¶åˆ†æ‰§è¡Œè„šæœ¬ä¸ä¼šæœ‰é€šçŸ¥ï¼Œä½†æ˜¯ä»ä¼šç­¾åˆ°æˆåŠŸï¼Œæ‰€ä»¥æ¨è¿Ÿäº†ä¸€åˆ†é’Ÿã€‚</p>
<p><a href="https://github.com/alpha87/QuantumultX-Profiles/tree/master/kcjs">è„šæœ¬åœ°å€è§ githubã€‚</a></p>
<p>ä»¥ä¸Šå°±æ˜¯ä½¿ç”¨ QuantumultX ç­¾åˆ°å¡è½¦æé€Ÿçš„æ‰€æœ‰å†…å®¹ï¼Œå¿«å»è¯•è¯•å§ï¼</p>
<h2 id="ä¸ƒå¤©åçš„æµ‹è¯•ç»“æœ"><a href="#ä¸ƒå¤©åçš„æµ‹è¯•ç»“æœ" class="headerlink" title="ä¸ƒå¤©åçš„æµ‹è¯•ç»“æœ"></a>ä¸ƒå¤©åçš„æµ‹è¯•ç»“æœ</h2><p>å¦‚æœä¸ƒå¤©å†…æˆ–ä¸ƒå¤©è¿‡åï¼Œå¡è½¦æé€Ÿç”¨æˆ·åå°å¹¶æœªè‡ªåŠ¨é€€å‡ºç™»å½•ï¼Œéœ€è¦æ‰‹åŠ¨é€€å‡ºç™»å½•ï¼Œè¿™æ ·æ‰ä¼šç”Ÿæˆæ–°çš„ Cookieã€‚å¦‚æœä¸­é€”ç­¾åˆ°å¤±è´¥ï¼Œä¹Ÿå¯ä»¥é‡æ–°ç™»å½•ä»¥è·å–æœ€æ–° Cookieã€‚</p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>ç§‘å­¦ä¸Šç½‘</tag>
        <tag>è„šæœ¬</tag>
        <tag>QuantumultX</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ selenium+PhantomJS è¿›è¡Œç½‘ç»œçˆ¬è™«</title>
    <url>/63.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/01/18/08/25/social-media-1989152__480.jpg"> Seleniumæœ¬æ˜¯ä¸€ä¸ªç”¨äºWebåº”ç”¨ç¨‹åºæµ‹è¯•çš„å·¥å…·ã€‚Seleniumæµ‹è¯•ç›´æ¥è¿è¡Œåœ¨æµè§ˆå™¨ä¸­ï¼Œå°±åƒçœŸæ­£çš„ç”¨æˆ·åœ¨æ“ä½œä¸€æ ·ã€‚PhantomJSæ˜¯ä¸€ä¸ªåŸºäºWebKitçš„æœåŠ¡å™¨ç«¯ JavaScript APIã€‚å®ƒå…¨é¢æ”¯æŒwebè€Œä¸éœ€æµè§ˆå™¨æ”¯æŒã€‚ä½¿ç”¨seleniumå’ŒPhantomJSè¿™ä¸¤ä¸ªå·¥å…·æ¥çˆ¬è™«ï¼Œå¯ä»¥å®ç°å¾ˆå¤šåŠŸèƒ½ã€‚</p>
<a id="more"></a>
<h1 id="Seleniumå’ŒPhantomJS"><a href="#Seleniumå’ŒPhantomJS" class="headerlink" title="Seleniumå’ŒPhantomJS"></a>Seleniumå’ŒPhantomJS</h1><p>seleniumæ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç½‘ç»œæ•°æ®é‡‡é›†å·¥å…·ï¼Œæœ€åˆæ˜¯ä¸ºäº†ç½‘ç«™è‡ªåŠ¨åŒ–æµ‹è¯•è€Œå¼€å‘çš„ã€‚å®ƒå¯ä»¥è®©æµè§ˆå™¨è‡ªåŠ¨åŠ è½½é¡µé¢ï¼Œè·å–éœ€è¦çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥æˆªå±ï¼Œæˆ–åˆ¤æ–­ç½‘ç«™ä¸ŠæŸäº›åŠ¨ä½œæ˜¯å¦å‘ç”Ÿã€‚ PhantomJSæ˜¯ä¸€ä¸ªæ— å¤´æµè§ˆå™¨ï¼Œå®ƒä¸ä¼šå‘ç”¨æˆ·å±•ç¤ºç½‘é¡µçš„å›¾å½¢ç•Œé¢ã€‚ ç®€å•ç†è§£seleniumå°±æ˜¯å®Œæˆæ¨¡æ‹Ÿç”¨æˆ·æ‰€æœ‰æ“ä½œçš„å·¥å…·ï¼Œè€ŒPhantomJSåˆ™æ˜¯ä¸€ä¸ªæ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œå¯ä¾›seleniumå®ç°å„ç§æ“ä½œçš„æµè§ˆå™¨ã€‚</p>
<h1 id="ä»£ç éƒ¨åˆ†"><a href="#ä»£ç éƒ¨åˆ†" class="headerlink" title="ä»£ç éƒ¨åˆ†"></a>ä»£ç éƒ¨åˆ†</h1><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><br>browser = webdriver.PhantomJS(executable_path=<span class="hljs-string">&quot;C:\phantomjs.exe&quot;</span>)<br>browser.implicitly_wait(<span class="hljs-number">30</span>)<br>browser.get(<span class="hljs-string">&quot;http://210.31.122.109&quot;</span>)<br><br>browser.find_element_by_name(<span class="hljs-string">&quot;txtUserName&quot;</span>).clear()<br>browser.find_element_by_name(<span class="hljs-string">&quot;txtUserName&quot;</span>).send_keys(<span class="hljs-string">&quot;201303010121&quot;</span>)<br>browser.find_element_by_name(<span class="hljs-string">&quot;TextBox2&quot;</span>).clear()<br>browser.find_element_by_name(<span class="hljs-string">&quot;TextBox2&quot;</span>).send_keys(<span class="hljs-string">&quot;password&quot;</span>)<br><br>browser.save_screenshot(str(<span class="hljs-string">&quot;ç™»å½•ç•Œé¢.jpg&quot;</span>))<br>browser.find_element_by_name(<span class="hljs-string">&quot;txtSecretCode&quot;</span>).send_keys(input(<span class="hljs-string">&quot;è¾“å…¥éªŒè¯ç \n&gt;&gt;&gt; &quot;</span>))<br>browser.find_element_by_class_name(<span class="hljs-string">&quot;btn_dl&quot;</span>).click()<br>print(browser.page_source)<br>browser.close()<br></code></pre></td></tr></table></figure>

<h2 id="åˆ†æä»£ç "><a href="#åˆ†æä»£ç " class="headerlink" title="åˆ†æä»£ç "></a>åˆ†æä»£ç </h2><p>```from selenium import webdriver <pre><code class=""><br />ç”¨æ¥å¯¼å…¥seleniumåº“ã€‚ ```browser = webdriver.PhantomJS(executable_path="C:\phantomjs.exe") ç”¨æ¥æŒ‡æ˜PhantomJSå¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ã€‚ ```browser.implicitly_wait(30) <pre><code class=""><br />æ˜¯éšå¼ç­‰å¾…30ç§’ã€‚ä¸€æ—¦è®¾å®šï¼Œbrowserå¯¹è±¡å®ä¾‹çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„éšå¼è°ƒç”¨ä¹Ÿå°±è®¾å®šå¥½äº†ã€‚ ```browser.get("<a href="http://210.31.122.189&quot;/">http://210.31.122.189&quot;</a>) æ‰“å¼€æŒ‡å®šç½‘å€ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">browser.find_element_by_name(<span class="hljs-string">&quot;txtUserName&quot;</span>).clear()<br>browser.find_element_by_name(<span class="hljs-string">&quot;txtUserName&quot;</span>).send_keys(<span class="hljs-string">&quot;201303010121&quot;</span>)<br>browser.find_element_by_name(<span class="hljs-string">&quot;TextBox2&quot;</span>).clear()<br>browser.find_element_by_name(<span class="hljs-string">&quot;TextBox2&quot;</span>).send_keys(<span class="hljs-string">&quot;password&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>è¿™å››è¡Œä»£ç åˆ†åˆ«å¯¹åº”çš„æ˜¯ï¼š 1.æ¸…é™¤ç”¨æˆ·åä¸­åŸæ¥çš„ä¿¡æ¯ã€‚ 2.é”®å…¥å­¦å·ã€‚ 3.æ¸…é™¤å¯†ç ä¸­åŸæ¥çš„ä¿¡æ¯ã€‚ 4.é”®å…¥å¯†ç ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">browser.save_screenshot(str(<span class="hljs-string">&quot;ç™»å½•ç•Œé¢.jpg&quot;</span>))<br>browser.find_element_by_name(<span class="hljs-string">&quot;txtSecretCode&quot;</span>).send_keys(input(<span class="hljs-string">&quot;è¾“å…¥éªŒè¯ç \n&gt;&gt;&gt; &quot;</span>))<br>browser.find_element_by_class_name(<span class="hljs-string">&quot;btn_dl&quot;</span>).click()<br>print(browser.page_source)<br></code></pre></td></tr></table></figure>

<p>è¿™å››è¡Œä»£ç åˆ†åˆ«å®ç°çš„åŠŸèƒ½æ˜¯ï¼š 1.æŠŠç™»å½•é¡µé¢æˆªå›¾ï¼Œä¿å­˜åˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹ã€‚ï¼ˆä¿å­˜ç™»å½•é¡µé¢çš„æˆªå›¾æ˜¯ä¸ºäº†å¯ä»¥æŸ¥çœ‹å½“å‰ç½‘é¡µçš„éªŒè¯ç ã€‚ï¼‰ 2.é”®å…¥éªŒè¯ç ã€‚ 3.ç‚¹å‡»ç™»å½•ã€‚ 4.æ‰“å°ç™»å½•ä»¥åé¡µé¢çš„æºç ã€‚ ```browser.close() <pre><code class=""><br />ç”¨æ¥å…³é—­æ“ä½œã€‚ [![ç”¨æˆ·ç™»å½•ç•Œé¢æºç ](<a href="http://olzlqlgy5.bkt.clouddn.com/%E6%95%99%E5%8A%A1%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%E6%BA%90%E7%A0%81.jpg)/](http://olzlqlgy5.bkt.clouddn.com/%E6%95%99%E5%8A%A1%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%E6%BA%90%E7%A0%81.jpg)">http://olzlqlgy5.bkt.clouddn.com/%E6%95%99%E5%8A%A1%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%E6%BA%90%E7%A0%81.jpg)\](http://olzlqlgy5.bkt.clouddn.com/%E6%95%99%E5%8A%A1%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%E6%BA%90%E7%A0%81.jpg)</a> # seleniumç”¨æ³•æ‹“å±• ## å…ƒç´ å®šä½ Seleniumæä¾›äº†ä¸‹é¢çš„æ–¹æ³•è¿›è¡Œå…ƒç´ å®šä½ï¼š find_element_by_id find_element_by_name find_element_by_xpath find_element_by_link_text find_element_by_partial_link_text find_element_by_tag_name find_element_by_class_name find_element_by_css_selector å¯»æ‰¾å¤šä¸ªå…ƒç´ ï¼ˆä¸‹åˆ—æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼‰ï¼š find_elements_by_id find_elements_by_name find_elements_by_xpath find_elements_by_link_text find_elements_by_partial_link_text find_elements_by_tag_name find_elements_by_class_name find_elements_by_css_selector ä¾‹å¦‚ï¼š ```<html> <body> <form id="loginForm"> <input name="username" type="text" /> <input name="password" type="password" /> <input name="continue" type="submit" value="Login" /> </form> </body> <html> å¯ä»¥è¿™æ ·å®šä½è¡¨å•å…ƒç´ formï¼š ```login_form = driver.find_element_by_id('loginForm') <pre><code class=""><br />## å¼‚æ­¥åŠ è½½ > ç°åœ¨å¾ˆå¤šWebåº”ç”¨éƒ½åœ¨ä½¿ç”¨AJAXæŠ€æœ¯ã€‚æµè§ˆå™¨è½½å…¥ä¸€ä¸ªé¡µé¢æ—¶ï¼Œé¡µé¢å†…çš„å…ƒç´ å¯èƒ½æ˜¯åœ¨ä¸åŒçš„æ—¶é—´è½½å…¥çš„ï¼Œ è¿™ä¼šåŠ å¤§å®šä½å…ƒç´ çš„å›°éš¾ç¨‹åº¦ï¼Œå› ä¸ºå…ƒç´ ä¸åœ¨DOMé‡Œï¼Œä¼šæŠ›å‡º ElementNotVisibleException å¼‚å¸¸ï¼Œ ä½¿ç”¨ waitsï¼Œæˆ‘ä»¬å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ### æ˜¾å¼ç­‰å¾… æ˜¾å¼çš„ waits ç­‰å¾…ä¸€ä¸ªç¡®å®šçš„æ¡ä»¶è§¦å‘ç„¶åæ‰è¿›è¡Œæ›´æ·±ä¸€æ­¥çš„æ‰§è¡Œã€‚ æœ€ç³Ÿç³•çš„çš„åšæ³•æ˜¯ time.sleep()ï¼Œè¿™æŒ‡å®šçš„æ¡ä»¶æ˜¯ç­‰å¾…ä¸€ä¸ªæŒ‡å®šçš„æ—¶é—´æ®µã€‚ è¿™é‡Œæä¾›ä¸€äº›ä¾¿åˆ©çš„æ–¹æ³•è®©ä½ ç¼–å†™çš„ä»£ç åªç­‰å¾…éœ€è¦çš„æ—¶é—´ï¼ŒWebDriverWait ç»“åˆExpectedCondition æ˜¯ä¸€ç§å®ç°çš„æ–¹æ³•ï¼š ```python from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC driver = webdriver.Firefox() driver.get("<a href="http://somedomain/url/_that/_delay/_loading&quot;">http://somedomain/url\_that\_delay\_loading&quot;</a>) try: element = WebDriverWait(driver,10).until( EC.presence_of_element_located((By.ID,"myDynamicElement")) ) finally: driver.quit() è¿™æ®µä»£ç ä¼šç­‰å¾…10ç§’ï¼Œå¦‚æœ10ç§’å†…æ‰¾åˆ°å…ƒç´ åˆ™ç«‹å³è¿”å›ï¼Œå¦åˆ™ä¼šæŠ›å‡º TimeoutException å¼‚å¸¸ï¼Œ WebDriverWaité»˜è®¤æ¯500æ¯«ç§’è°ƒç”¨ä¸€ä¸‹ ExpectedCondition<code>ç›´åˆ°å®ƒè¿”å›æˆåŠŸä¸ºæ­¢ã€‚</code>ExpectedCondition ç±»å‹æ˜¯å¸ƒå°”çš„ï¼ŒæˆåŠŸçš„è¿”å›å€¼å°±æ˜¯true,å…¶ä»–ç±»å‹çš„ ExpectedCondition æˆåŠŸçš„è¿”å›å€¼å°±æ˜¯ not nullã€‚</p>
<h4 id="Expected-Conditions"><a href="#Expected-Conditions" class="headerlink" title="Expected Conditions"></a>Expected Conditions</h4><p>è‡ªåŠ¨åŒ–ç½‘é¡µæ“ä½œæ—¶ï¼Œæœ‰è®¸å¤šé¢‘ç¹ä½¿ç”¨åˆ°çš„é€šç”¨æ¡ä»¶ã€‚ä¸‹é¢åˆ—å‡ºçš„æ˜¯æ¯ä¸€ä¸ªæ¡ä»¶çš„å®ç°ã€‚ Selenium + Python æä¾›äº†è®¸å¤šæ–¹ä¾¿çš„æ–¹æ³•ï¼Œå› æ­¤ä½ ä¸éœ€è¦è‡ªå·±ç¼–å†™ expected_condition çš„ç±»ï¼Œ æˆ–è€…åˆ›å»ºä½ è‡ªå·±çš„é€šç”¨åŒ…ã€‚ <strong>title_is</strong> <strong>title_contains</strong> <strong>presence_of_element_located</strong> <strong>visibility_of_element_located</strong> <strong>visibility_of</strong> <strong>presence_of_all_elements_located</strong> <strong>text_to_be_present_in_element</strong> <strong>text_to_be_present_in_element_value</strong> <strong>frame_to_be_available_and_switch_to_it</strong> <strong>invisibility_of_element_located</strong> <strong>element_to_be_clickable it</strong> <strong>is Displayed and Enabled.</strong> <strong>staleness_of</strong> <strong>element_to_be_selected</strong> <strong>element_located_to_be_selected</strong> <strong>element_selection_state_to_be</strong> <strong>element_located_selection_state_to_be</strong> <strong>alert_is_present</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC<br>wait = WebDriverWait(driver,<span class="hljs-number">10</span>)<br>element = wait.until(EC.element_to_be_clickable((By.ID,<span class="hljs-string">&#x27;someid&#x27;</span>)))<br></code></pre></td></tr></table></figure>

<p>expected_conditions æ¨¡å—åŒ…å«äº†ä¸€ç³»åˆ—é¢„å®šä¹‰çš„æ¡ä»¶æ¥å’ŒWebDriverWaitä½¿ç”¨ã€‚</p>
<h3 id="éšå¼ç­‰å¾…"><a href="#éšå¼ç­‰å¾…" class="headerlink" title="éšå¼ç­‰å¾…"></a>éšå¼ç­‰å¾…</h3><p>å½“æˆ‘ä»¬è¦æ‰¾ä¸€ä¸ªæˆ–è€…ä¸€äº›ä¸èƒ½ç«‹å³å¯ç”¨çš„å…ƒç´ çš„æ—¶å€™ï¼Œéšå¼ waits ä¼šå‘Šè¯‰WebDriverè½®è¯¢DOMæŒ‡å®šçš„æ¬¡æ•°ï¼Œé»˜è®¤è®¾ç½®æ˜¯0æ¬¡ã€‚ ä¸€æ—¦è®¾å®šï¼ŒWebDriverå¯¹è±¡å®ä¾‹çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„éšå¼è°ƒç”¨ä¹Ÿå°±è®¾å®šå¥½äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><br>driver = webdriver.Firefox()<br>driver.implicitly_wait(<span class="hljs-number">10</span>) <br>driver.get(<span class="hljs-string">&quot;http://somedomain/url_that_delays_loading&quot;</span>)<br>myDynamicElement = driver.find_element_by_id(<span class="hljs-string">&#x27;myDynamicElement&#x27;</span>)<br></code></pre></td></tr></table></figure>

<h2 id="å…¶ä»–ç”¨æ³•"><a href="#å…¶ä»–ç”¨æ³•" class="headerlink" title="å…¶ä»–ç”¨æ³•"></a>å…¶ä»–ç”¨æ³•</h2><p>è¿™éƒ¨åˆ†æ˜¯æˆ‘çœ‹å…¶ä»–æ•™ç¨‹æ€»ç»“çš„ä¸€äº›é›¶ç¢ç”¨æ³•ã€‚ 1.æµè§ˆå™¨æœ€å¤§åŒ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">browser.maximize_window()<br></code></pre></td></tr></table></figure>

<p>2.æŸ¥çœ‹é¡µé¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">browser.page_sources<br></code></pre></td></tr></table></figure>

<p>3.è®¾ç½®æµè§ˆå™¨å®½å’Œé«˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">browser.set_window_size(480,800)<br></code></pre></td></tr></table></figure>

<p>4.æ“ä½œå¯¹è±¡å¸¸ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">click() #ç‚¹å‡»å¯¹è±¡<br>send_keys() #åœ¨å¯¹è±¡ä¸Šæ¨¡æ‹Ÿè¾“å…¥<br>text #è·å–å…ƒç´ çš„æ–‡æœ¬ä¿¡æ¯<br>submit() #ç”¨äºæäº¤è¡¨å•ï¼ŒæŸäº›æƒ…å†µä¸‹å’Œclick()ç”¨æ³•ç›¸åŒ<br></code></pre></td></tr></table></figure>

<p>5.æˆªå›¾ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">browser.save_screenshot<br></code></pre></td></tr></table></figure>

<p>6.ç”¨é“¾æ¥æ–‡æœ¬å®šä½è¶…é“¾æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">#æºç éƒ¨åˆ†<br>&lt;a href&#x3D;&quot;continue.html&quot;&gt;Continue&lt;&#x2F;a&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">#å®šä½<br>continue_link &#x3D; browser.find_element_by_link_text(&#39;Continue&#39;)<br></code></pre></td></tr></table></figure>

<p>7.ä½¿ç”¨cookiesï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">cookies &#x3D; &#123;<br>  &quot;name&quot;:&quot;foo&quot;<br>  &quot;value&quot;:&quot;bar&quot;<br>&#125;<br>browser.add_cookie(cookies)<br># And now output all the available cookies for the current URL<br>driver.get_cookies()<br></code></pre></td></tr></table></figure>

<p>8.å‰è¿›å’Œåé€€é¡µé¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">browser.forward() #å‰è¿›<br>browser.back() #åé€€<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>PhantomJS</tag>
        <tag>selenium</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ virtualenv å’Œ virtualenvwrapper æ­å»º Python è™šæ‹Ÿç¯å¢ƒ</title>
    <url>/64.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2014/05/27/23/32/matrix-356024__480.jpg"> ä½¿ç”¨pythonè¯­è¨€ç¼–ç¨‹çš„è¿‡ç¨‹ä¸­ï¼Œéš¾å…ä¼šåœ¨ç³»ç»Ÿé‡Œå®‰è£…å¤šä¸ªpythonç‰ˆæœ¬ã€‚å¯èƒ½æ ¹æ®å¼€å‘é¡¹ç›®çš„éœ€è¦ï¼ŒåŒä¸€åº“ä¼šä½¿ç”¨åˆ°ä¸åŒç‰ˆæœ¬ï¼Œä¸åŒåº“ä¹‹é—´ç‰ˆæœ¬ä¸ä¸€è‡´å‡ºç°å†²çªç­‰æƒ…å†µã€‚è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨virtualenvç®¡ç†è™šæ‹Ÿç¯å¢ƒã€‚</p>
<a id="more"></a>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>å®‰è£…virtualenvå’Œvirtualenvwrapperï¼Œä¸¤è€…é…åˆä¼šæ›´æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨pythonè™šæ‹Ÿç¯å¢ƒã€‚ <code>pip install virtualenv virtualenvwrapper</code> å®‰è£…å¥½ä»¥åéœ€è¦ç®€å•çš„é…ç½®ã€‚</p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>åœ¨ä½ çš„shellé…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹ä¸¤è¡Œï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><code class="hljs shell">export WORKON_HOME=$HOME/.virtualenvs<br>source /usr/local/bin/virtualenvwrapper.sh<br></code></pre></td></tr></table></figure>

<p>ä¾‹å¦‚æˆ‘ä½¿ç”¨çš„æ˜¯zshï¼Œé‚£ä¹ˆåœ¨<code>~/.zshrc</code>æ–‡ä»¶ä¸­åŠ å…¥è¿™ä¸¤è¡Œã€‚ æ›´æ–°é…ç½®æ–‡ä»¶ï¼š <code>source ~/.zshrc</code></p>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>ç®€å•ç½—åˆ—ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œå¦‚æœéœ€è¦æŸ¥çœ‹å…¨éƒ¨å‘½ä»¤æˆ–äº†è§£ä¸€äº›å‘½ä»¤å¯æ¥çš„å‚æ•°ï¼Œè¯·æŸ¥çœ‹<a href="https://virtualenvwrapper.readthedocs.io/en/latest/index.html">virtualenvwrapper Doc</a> <strong>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</strong> <code>mkvirtualenv pyvenv</code> åœ¨WORKON_HOMEä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>pyvenv</code>çš„è™šæ‹Ÿç¯å¢ƒã€‚ <strong>æ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒçš„è¯¦ç»†ä¿¡æ¯</strong> <code>showvirtualenv pyvenv</code> <strong>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</strong> <code>rmvirtualenv pyvenv</code> <strong>åˆ—å‡ºæˆ–ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ</strong> è¾“å…¥<code>workon</code>ä¼šæ‰“å°å¯ç”¨çš„è™šæ‹Ÿç¯å¢ƒï¼Œåœ¨å…¶ååŠ ä¸Šè™šæ‹Ÿç¯å¢ƒåç§°åˆ™è¿›å…¥è¯¥è™šæ‹Ÿç¯å¢ƒã€‚ <strong>ç¦»å¼€è™šæ‹Ÿç¯å¢ƒ</strong> <code>deactivate</code></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>è™šæ‹Ÿç¯å¢ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ä¸‰ç§è¯­è¨€å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—</title>
    <url>/49.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2019/02/11/17/57/fibonacci-3990275__480.jpg"> ä½¿ç”¨ <code>Python</code>ï¼Œ<code>Lua</code> å’Œ <code>JavaScript</code> å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚</p>
<a id="more"></a>
<h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><p>æ ¹æ®å®šä¹‰æˆ‘ä»¬å¯ä»¥å†™å‡ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span>(<span class="hljs-params">n</span>):</span><br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">elif</span> n == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> f(n<span class="hljs-number">-1</span>) + f(n<span class="hljs-number">-2</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    a = f(<span class="hljs-number">0</span>)<br>    b = f(<span class="hljs-number">1</span>)<br>    c = f(<span class="hljs-number">10</span>)<br>    print(a)<br>    print(b)<br>    print(c)<br></code></pre></td></tr></table></figure>

<p>ä¼˜åŒ–è¿‡çš„æ–æ³¢é‚£å¥‘æ•°åˆ—:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">k = &#123;<br>    <span class="hljs-number">0</span>: <span class="hljs-number">0</span>,<br>    <span class="hljs-number">1</span>: <span class="hljs-number">1</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span>(<span class="hljs-params">n</span>):</span><br>    <span class="hljs-keyword">if</span> n <span class="hljs-keyword">in</span> k.keys():<br>        <span class="hljs-keyword">return</span> k[n]<br>    <span class="hljs-keyword">else</span>:<br>        k[n] = f(n<span class="hljs-number">-1</span>) + f(n<span class="hljs-number">-2</span>)<br>        <span class="hljs-keyword">return</span> k[n]<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-keyword">import</span> time<br><br>    start = time.time()<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">99</span>):<br>        a = f(i)<br>        print(a)<br>    print(time.time() - start)<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨å­—å…¸ç¼“å­˜ä¹‹å‰å·²ç»è®¡ç®—è¿‡çš„æ–æ³¢é‚£å¥‘æ•°ï¼Œè®¡ç®—é€Ÿåº¦å¤§å¹…æå‡ã€‚</p>
<h1 id="Lua"><a href="#Lua" class="headerlink" title="Lua"></a>Lua</h1><figure class="highlight lua"><table><tr><td class="code"><pre><code class="hljs lua"><span class="hljs-keyword">local</span> a<br><span class="hljs-keyword">local</span> b<br><span class="hljs-keyword">local</span> c<br><span class="hljs-keyword">local</span> f<br><br><br>f = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(n)</span></span><br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) <span class="hljs-keyword">then</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">elseif</span> (n == <span class="hljs-number">1</span>) <span class="hljs-keyword">then</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> f(n<span class="hljs-number">-1</span>) + f(n<span class="hljs-number">-2</span>)<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br><br><br>a = f(<span class="hljs-number">0</span>)<br>b = f(<span class="hljs-number">1</span>)<br>c = f(<span class="hljs-number">6</span>)<br><span class="hljs-built_in">print</span>(a, b, c)<br></code></pre></td></tr></table></figure>

<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">n</span>) </span>&#123;<br>    <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n === <span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> f(n - <span class="hljs-number">1</span>) + f(n - <span class="hljs-number">2</span>)<br>    &#125;<br>&#125;<br><br><span class="hljs-built_in">console</span>.log(f(<span class="hljs-number">10</span>))<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>Lua</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨æ ‘è“æ´¾é…åˆ AdguardHome å±è”½å±€åŸŸç½‘å†…å¹¿å‘Š</title>
    <url>/50.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2018/09/14/06/50/raspberry-pi-3676379__480.jpg"> AdGuardç®—æ˜¯æ¯”è¾ƒå¼ºå¤§çš„å¹¿å‘Šæ‹¦æˆªå·¥å…·äº†ã€‚çˆ±å¥‡è‰ºï¼Œè…¾è®¯è§†é¢‘ç­‰ä¸»æµè§†é¢‘ç½‘ç«™çš„å¹¿å‘Šéƒ½å¯ä»¥è¢«æ‹¦æˆªï¼Œè€Œä¸”æ˜¯æ‰“å¼€è§†é¢‘åç›´æ¥è·³è¿‡å¹¿å‘Šï¼Œä¸åƒå…¶ä»–æ’ä»¶è¿˜éœ€è¦ç­‰å¾…ã€‚å±è”½è§†é¢‘å¹¿å‘Šåªæ˜¯å…¶åŠŸèƒ½çš„ä¸€éƒ¨åˆ†ï¼Œè¿˜èƒ½ä¿æŠ¤éšç§ï¼Œå±è”½é’“é±¼ç½‘ç«™ç­‰ç­‰ã€‚</p>
<a id="more"></a>
<p>ä½¿ç”¨æ ‘è“æ´¾å±è”½å¹¿å‘Šä½¿ç”¨çš„æ˜¯AdGuardçš„å¼€æºé¡¹ç›®AdGuard Homeã€‚å¦‚æœå®¶é‡Œæœ‰æ­£åœ¨åƒç°çš„æ ‘è“æ´¾ï¼Œå¯ä»¥æ‹¿æ¥è¯•è¯•ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š <code>wget https://github.com/AdguardTeam/AdGuardHome/releases/download/v0.92-hotfix1/AdGuardHome_v0.92-hotfix1_linux_arm.tar.gz</code> ä¸‹è½½å®Œæˆåè§£å‹ï¼š <code>tar zxvf AdGuardHome_v0.92-hotfix1_linux_arm.tar.gz</code> è¿è¡Œï¼š <code>./AdGuardHome -s install &amp;&amp; AdGuardHome -s start</code> æ¥å¯åŠ¨æœåŠ¡ã€‚ å¦‚æœæ²¡æœ‰æŠ¥é”™ç»§ç»­è¾“å…¥ <code>host doubleclick.net 127.0.0.1</code> æ¥æµ‹è¯•æœåŠ¡æ˜¯å¦ç”Ÿæ•ˆã€‚æ­£å¸¸æƒ…å†µä¼šè¿”å›ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">Using domain server:<br>Name: 127.0.0.1<br>Address: 127.0.0.1<span class="hljs-comment">#53</span><br>Aliases:<br><br>Host doubleclick.net not found: 3(NXDOMAIN)<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å®Œæˆäº†å®‰è£…ã€‚</p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>æ‰“å¼€<code>http://192.168.x.xxx:3000/</code>ï¼Œè®°å¾—æ›´æ¢ä¸ºæ ‘è“æ´¾çš„ipåœ°å€ï¼Œå°±èƒ½å¯¹AdGuard Homeé…ç½®äº†ã€‚</p>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>å®˜æ–¹wikiä¸­ä¹Ÿæœ‰ä»‹ç»ï¼Œä»¥ä¸‹å†…å®¹åŸºæœ¬å°±æ˜¯ç¿»è¯‘è¿‡æ¥çš„ç‰ˆæœ¬ã€‚</p>
<h3 id="è·¯ç”±å™¨"><a href="#è·¯ç”±å™¨" class="headerlink" title="è·¯ç”±å™¨"></a>è·¯ç”±å™¨</h3><p>æ­¤è®¾ç½®å°†è‡ªåŠ¨è¦†ç›–è¿æ¥åˆ°å®¶åº­è·¯ç”±å™¨çš„æ‰€æœ‰è®¾å¤‡ï¼Œæ‚¨æ— éœ€æ‰‹åŠ¨é…ç½®æ¯ä¸ªè®¾å¤‡ã€‚ æ‰“å¼€è·¯ç”±å™¨çš„é¦–é€‰é¡¹ã€‚é€šå¸¸ï¼Œæ‚¨å¯ä»¥é€šè¿‡URLï¼ˆä¾‹å¦‚<code>http://192.168.0.1/</code>æˆ–<code>http://192.168.1.1/</code>ï¼‰ä»æµè§ˆå™¨è®¿é—®å®ƒã€‚ç³»ç»Ÿå¯èƒ½ä¼šè¦æ±‚æ‚¨è¾“å…¥å¯†ç ã€‚å¦‚æœæ‚¨ä¸è®°å¾—å®ƒï¼Œæ‚¨é€šå¸¸å¯ä»¥é€šè¿‡æŒ‰è·¯ç”±å™¨æœ¬èº«ä¸Šçš„æŒ‰é’®æ¥é‡ç½®å¯†ç ã€‚æŸäº›è·¯ç”±å™¨éœ€è¦ç‰¹å®šçš„åº”ç”¨ç¨‹åºï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹åº”è¯¥å·²ç»å®‰è£…åœ¨æ‚¨çš„è®¡ç®—æœº/ç”µè¯ä¸Šã€‚ æ‰¾åˆ°DHCP / DNSè®¾ç½®ã€‚æŸ¥æ‰¾å­—æ®µæ—è¾¹çš„â€œDNSâ€å­—æ¯ï¼Œè¯¥å­—æ¯å…è®¸ä¸¤ç»„æˆ–ä¸‰ç»„æ•°å­—ï¼Œæ¯ç»„æ•°å­—åˆ†ä¸ºå››ç»„ï¼Œæ¯ç»„ä¸‰åˆ°ä¸‰ä½ã€‚ åœ¨é‚£é‡Œè¾“å…¥æ‚¨çš„AdGuard HomeæœåŠ¡å™¨åœ°å€ã€‚</p>
<h3 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h3><p>åœ¨Androidèœå•ä¸»å±å¹•ä¸­ï¼Œç‚¹æŒ‰â€œè®¾ç½®â€ï¼Œç‚¹æŒ‰èœå•ä¸Šçš„Wi-Fiã€‚è¿™å°†æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨ç½‘ç»œçš„åˆ—è¡¨ï¼ˆæ— æ³•ä¸ºç§»åŠ¨è¿æ¥è®¾ç½®è‡ªå®šä¹‰DNSï¼‰ã€‚é•¿æŒ‰æ‚¨è¿æ¥çš„ç½‘ç»œï¼Œç„¶åç‚¹æŒ‰â€œä¿®æ”¹ç½‘ç»œâ€ã€‚ åœ¨æŸäº›è®¾å¤‡ä¸Šï¼Œæ‚¨å¯èƒ½éœ€è¦é€‰ä¸­â€œé«˜çº§â€å¤é€‰æ¡†ä»¥æŸ¥çœ‹æ›´å¤šè®¾ç½®ã€‚è¦è°ƒæ•´Android DNSè®¾ç½®ï¼Œæ‚¨éœ€è¦å°†IPè®¾ç½®ä»â€œDHCPâ€åˆ‡æ¢ä¸ºâ€œé™æ€â€ã€‚ å°†â€œDNS 1â€å’Œâ€œDNS 2â€å€¼æ›´æ”¹ä¸ºæ‚¨çš„AdGuard Homeåœ°å€ã€‚</p>
<h3 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h3><p>åœ¨ä¸»å±å¹•ä¸­ï¼Œç‚¹æŒ‰â€œè®¾ç½®â€ï¼Œåœ¨å·¦ä¾§èœå•ä¸­é€‰æ‹©â€œWi-Fiâ€ï¼ˆæ— æ³•ä¸ºç§»åŠ¨ç½‘ç»œé…ç½®DNSï¼‰ã€‚ç‚¹å‡»å½“å‰æ´»åŠ¨ç½‘ç»œçš„åç§°ã€‚ åœ¨â€œDNSâ€å­—æ®µä¸­è¾“å…¥æ‚¨çš„AdGuard Homeåœ°å€ã€‚</p>
<h3 id="è‹¹æœç³»ç»Ÿ"><a href="#è‹¹æœç³»ç»Ÿ" class="headerlink" title="è‹¹æœç³»ç»Ÿ"></a>è‹¹æœç³»ç»Ÿ</h3><p>å•å‡»Appleå›¾æ ‡ï¼Œç„¶åè½¬åˆ°â€œç³»ç»Ÿåå¥½è®¾ç½®â€ã€‚ ç‚¹å‡»â€œç½‘ç»œâ€ã€‚ é€‰æ‹©åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªè¿æ¥ï¼Œç„¶åå•å‡»â€œé«˜çº§â€ã€‚ é€‰æ‹©â€œDNSâ€æ ‡ç­¾ï¼Œç„¶åæ·»åŠ AdGuard Homeåœ°å€ã€‚</p>
<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>é€šè¿‡â€œå¼€å§‹â€èœå•æˆ–Windowsæœç´¢æ‰“å¼€æ§åˆ¶é¢æ¿ï¼Œè½¬åˆ°â€œç½‘ç»œå’ŒInternetâ€ç±»åˆ«ï¼Œç„¶åè½¬åˆ°â€œç½‘ç»œå’Œå…±äº«ä¸­å¿ƒâ€ã€‚ åœ¨å±å¹•å·¦ä¾§æ‰¾åˆ°â€œæ›´æ”¹é€‚é…å™¨è®¾ç½®â€å¹¶å•å‡»å®ƒï¼Œé€‰æ‹©æ‚¨çš„æ´»åŠ¨è¿æ¥ï¼Œå³é”®å•å‡»å®ƒå¹¶é€‰æ‹©â€œå±æ€§â€ã€‚ åœ¨åˆ—è¡¨ä¸­æ‰¾åˆ°â€œInternetåè®®ç‰ˆæœ¬4ï¼ˆTCP / IPï¼‰â€ï¼Œé€‰æ‹©å®ƒï¼Œç„¶åå†æ¬¡å•å‡»â€œå±æ€§â€ã€‚ é€‰æ‹©â€œä½¿ç”¨ä»¥ä¸‹DNSæœåŠ¡å™¨åœ°å€â€å¹¶åœ¨é‚£é‡Œè¾“å…¥æ‚¨çš„AdGuard Homeåœ°å€ã€‚ è¿™æ ·å°±å¤§åŠŸå‘Šæˆäº†ã€‚ <img src="https://cdn.adguard.com/public/Adguard/Blog/AGHome/dashboard.jpg" alt="æ¥è‡ªå®˜ç½‘çš„æˆªå›¾"></p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>å±è”½å¹¿å‘Š</tag>
        <tag>æ ‘è“æ´¾</tag>
        <tag>Adguard</tag>
      </tags>
  </entry>
  <entry>
    <title>åšä¸€ä¸ªé­”åŠ›ç›’è§†é¢‘ä¸‹è½½å™¨â€”â€”å«GUI</title>
    <url>/85.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2015/02/24/02/05/website-647013__480.jpg"> æ˜¨å¤©æŠ½ç©ºåšäº†ä¸€ä¸ªé­”åŠ›ç›’è§†é¢‘ä¸‹è½½å™¨ã€‚å¯ä»¥å®ç°çš„åŠŸèƒ½æœ‰éšæœºæœç´¢è§†é¢‘ä¸‹è½½ï¼Œå’Œä¸€ä¸ªç®€å•çš„ç•Œé¢ã€‚</p>
<a id="more"></a>
<h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><p>æ˜¨å¤©åœ¨åšå®¢ä¸Šæ”¾äº†ä¸€ä¸ªé­”åŠ›ç›’çš„è§†é¢‘ï¼Œé¡ºæ‰‹æŸ¥çœ‹äº†è§†é¢‘ç½‘å€çš„æºç ï¼Œçªç„¶è§‰å¾—ï¼Œæ©ï¼Œåº”è¯¥åšç‚¹ä»€ä¹ˆï¼Œç„¶åè¿™ä¸ªå°ç¨‹åºå°±è¯ç”Ÿäº†ã€‚ githubåœ°å€ï¼š<a href="https://github.com/alpha87/molihedownload.git">https://github.com/alpha87/molihedownload.git</a> çˆ¬å–åˆ°è§†é¢‘çš„ä¿¡æ¯ï¼Œç„¶åæ˜¾ç¤ºåœ¨ç”¨æˆ·ç•Œé¢ä¸Šã€‚ å…ˆæ¥ä¸€å¼ æ•ˆæœå›¾ï¼š <a href="http://olzlqlgy5.bkt.clouddn.com/%E9%AD%94%E5%8A%9B%E7%9B%92GUI.jpg"><img src="http://olzlqlgy5.bkt.clouddn.com/%E9%AD%94%E5%8A%9B%E7%9B%92GUI.jpg" alt="ç•Œé¢"></a> å…¶å®å¾ˆç®€å•ï¼ŒåŠ¨æ‰‹è¯•ä¸€ä¸‹å§ã€‚:-)</p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><p>å…ˆæŠŠä»£ç è´´ä¸Šæ¥ï¼Œç„¶åä¸€ä¸€ä»‹ç»ã€‚</p>
<h2 id="çˆ¬è™«ä»£ç "><a href="#çˆ¬è™«ä»£ç " class="headerlink" title="çˆ¬è™«ä»£ç "></a>çˆ¬è™«ä»£ç </h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><br><span class="hljs-keyword">from</span> urllib.request <span class="hljs-keyword">import</span> urlopen<br><span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> etree<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getVideo</span>():</span><br>    page = int(random.uniform(<span class="hljs-number">1</span>,<span class="hljs-number">99999</span>))<br>    video_url = <span class="hljs-string">&quot;http://magicapi.vmovier.com/magicapiv2/video/shareview?id=&#123;&#125;&quot;</span>.format(page)<br>    print(<span class="hljs-string">&quot;è§†é¢‘IDï¼š\n&quot;</span>,page)<br>    html = urlopen(video_url).read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>    url_xpath = etree.HTML(html)<br>    <span class="hljs-comment">#æ ‡é¢˜</span><br>    title = url_xpath.xpath(<span class="hljs-string">&quot;//*[@id=&#x27;share-tag&#x27;]/@sharetitle&quot;</span>)[<span class="hljs-number">0</span>]<br>    print(<span class="hljs-string">&quot;è§†é¢‘ï¼š \n&quot;</span>,title)<br>    <span class="hljs-comment"># ç®€ä»‹</span><br>    blurb = url_xpath.xpath(<span class="hljs-string">&quot;//*[@id=&#x27;share-tag&#x27;]/@sharedefaultdes&quot;</span>)[<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">if</span> blurb == <span class="hljs-string">&quot;??&quot;</span>:<br>        print(<span class="hljs-string">&quot;ç®€ä»‹ï¼š \n æš‚æ— &quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        print(<span class="hljs-string">&quot;ç®€ä»‹ï¼š \n&quot;</span>, blurb)<br>    <span class="hljs-comment"># æ ‡ç­¾</span><br>    label = url_xpath.xpath(<span class="hljs-string">&quot;//*[@class=&#x27;num&#x27;]/text()&quot;</span>)[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">if</span> label == <span class="hljs-string">&quot;##&quot;</span>:<br>        print(<span class="hljs-string">&quot;æ ‡ç­¾ï¼š \n æœªåˆ†ç±»&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        print(<span class="hljs-string">&quot;æ ‡ç­¾ï¼š \n&quot;</span>, label)<br>    <span class="hljs-comment"># åˆ†äº«</span><br>    share = url_xpath.xpath(<span class="hljs-string">&quot;//*[@class=&#x27;num&#x27;]/text()&quot;</span>)[<span class="hljs-number">1</span>]<br>    print(<span class="hljs-string">&quot;åˆ†äº«ï¼š \n&quot;</span>, share)<br>    <span class="hljs-comment">#é“¾æ¥</span><br>    url = url_xpath.xpath(<span class="hljs-string">&quot;//*[@controls=&#x27;controls&#x27;]/@src&quot;</span>)[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">if</span> url == <span class="hljs-string">&quot;&quot;</span>:<br>        print(<span class="hljs-string">&quot;é“¾æ¥ï¼š \n&quot;</span>,<span class="hljs-string">&quot;è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå‡è§†é¢‘. T^T\n&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        print(<span class="hljs-string">&quot;é“¾æ¥ï¼š \n&quot;</span>,url)<br>    <span class="hljs-keyword">return</span> title,url<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">downloadVideo</span>(<span class="hljs-params">title,url</span>):</span><br>    <span class="hljs-keyword">with</span> open(str(title)+<span class="hljs-string">&quot;.mp4&quot;</span>,<span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> video:<br>        <span class="hljs-keyword">try</span>:<br>            videos = urlopen(url).read()<br>            video.write(videos)<br>            print(<span class="hljs-string">&quot;æ­£åœ¨ä¸‹è½½è§†é¢‘...\n&quot;</span>)<br>            print(<span class="hljs-string">&quot;ä¸‹è½½å®Œæˆï¼&quot;</span>)<br>            print(<span class="hljs-string">&quot;=&quot;</span> * <span class="hljs-number">50</span>)<br>        <span class="hljs-keyword">except</span>:<br>            print(<span class="hljs-string">&quot;è§†é¢‘æœªä¸‹è½½!&quot;</span>)<br>            video.close()<br>            os.remove(str(title)+<span class="hljs-string">&quot;.mp4&quot;</span>)<br>            print(<span class="hljs-string">&quot;=&quot;</span> * <span class="hljs-number">50</span>)<br>            <span class="hljs-keyword">pass</span><br><br>i = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> i &lt;<span class="hljs-number">3</span>:<br>    a,b = getVideo()<br>    downloadVideo(a,b)<br>    i+=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç æœ‰å¾ˆå¤šä¸å®Œå–„çš„åœ°æ–¹ï¼Œæ•´ä½“æ€è·¯å°±æ˜¯çˆ¬å–åˆ°ç½‘é¡µä¿¡æ¯åï¼Œè‡ªåŠ¨ä¿å­˜ï¼Œç„¶åå¾ªç¯3æ¬¡å‡½æ•°ã€‚æ¨¡æ‹Ÿé­”åŠ›ç›’APPï¼Œè¿è¡Œåè‡ªåŠ¨ä¸‹è½½3ä¸ªè§†é¢‘ã€‚ä¸è¿‡ä¸‹è½½é€Ÿåº¦å–å†³äºç½‘é€Ÿï¼Œè¿è¡Œçš„æ—¶å€™ä¸è¦ä»¥ä¸ºå¡ä½äº†ã€‚</p>
<h2 id="GUIç•Œé¢ä»£ç "><a href="#GUIç•Œé¢ä»£ç " class="headerlink" title="GUIç•Œé¢ä»£ç "></a>GUIç•Œé¢ä»£ç </h2><p>è¿™æ®µä»£ç ç®€å•çš„ä»‹ç»äº†Tkinterçš„ä½¿ç”¨ï¼Œè¯¦ç»†è¿˜å¾—å»çœ‹å®˜æ–¹æ•™ç¨‹ã€‚è´´ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><br><span class="hljs-keyword">from</span> tkinter.scrolledtext <span class="hljs-keyword">import</span> ScrolledText<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><br>root = Tk()<br>root.title(<span class="hljs-string">&quot;é­”åŠ›ç›’è§†é¢‘ä¸‹è½½å™¨&quot;</span>)<br>root.geometry()<br>text = ScrolledText(root,font=(<span class="hljs-string">&quot;å¾®è½¯é›…é»‘&quot;</span>,<span class="hljs-number">9</span>))<br>text.grid()<br>button = Button(root,text=<span class="hljs-string">&#x27;ä¸‹è½½è§†é¢‘&#x27;</span>,font=(<span class="hljs-string">&quot;å¾®è½¯é›…é»‘&quot;</span>,<span class="hljs-number">12</span>),command=start)<br>button.grid()<br>var1 = StringVar()<br>label = Label(root,font=(<span class="hljs-string">&quot;å¾®è½¯é›…é»‘&quot;</span>,<span class="hljs-number">10</span>),fg=<span class="hljs-string">&#x27;red&#x27;</span>,textvariable=var1)<br>label.grid()<br>var1.set(<span class="hljs-string">&quot;å‡†å¤‡å°±ç»ª&quot;</span>)<br>root.mainloop()<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·å°±ç®€å•çš„åšå‡ºäº†ä¸€ä¸ªæ¡†æ¶äº†ï¼Œä½†æ˜¯è¿˜æ²¡ä»€ä¹ˆç”¨ï¼Œæœ€é‡è¦çš„å°±æ˜¯ä¸‹ä¸€æ­¥ï¼ŒæŠŠè¿™ä¸¤æ®µä»£ç ç»“åˆèµ·æ¥ã€‚</p>
<h1 id="é­”åŠ›ç›’è§†é¢‘ä¸‹è½½å™¨"><a href="#é­”åŠ›ç›’è§†é¢‘ä¸‹è½½å™¨" class="headerlink" title="é­”åŠ›ç›’è§†é¢‘ä¸‹è½½å™¨"></a>é­”åŠ›ç›’è§†é¢‘ä¸‹è½½å™¨</h1><p>å®Œæ•´ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><br><span class="hljs-keyword">from</span> tkinter.scrolledtext <span class="hljs-keyword">import</span> ScrolledText<br><span class="hljs-keyword">from</span> urllib.request <span class="hljs-keyword">import</span> urlopen<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> ttk<br><span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> etree<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">import</span> threading<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">downloadVideo</span>():</span><br>    <span class="hljs-keyword">try</span>:<br>        page = int(random.uniform(<span class="hljs-number">1</span>, <span class="hljs-number">9999</span>))<br>        video_url = <span class="hljs-string">&quot;http://magicapi.vmovier.com/magicapiv2/video/shareview?id=&#123;&#125;&quot;</span>.format(page)<br>        print(<span class="hljs-string">&quot;è§†é¢‘IDï¼š\n&quot;</span>, page)<br>        html = urlopen(video_url).read().decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>        url_xpath = etree.HTML(html)<br>        title = url_xpath.xpath(<span class="hljs-string">&quot;//*[@id=&#x27;share-tag&#x27;]/@sharetitle&quot;</span>)[<span class="hljs-number">0</span>];print(<span class="hljs-string">&quot;è§†é¢‘ï¼š \n&quot;</span>, title)<br>        blurb = url_xpath.xpath(<span class="hljs-string">&quot;//*[@id=&#x27;share-tag&#x27;]/@sharedefaultdes&quot;</span>)[<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">if</span> blurb == <span class="hljs-string">&quot;??&quot;</span> <span class="hljs-keyword">or</span> blurb == <span class="hljs-string">&quot;&quot;</span>:<br>            print(<span class="hljs-string">&quot;ç®€ä»‹ï¼š \n æš‚æ— &quot;</span>)<br>            blurb = str(<span class="hljs-string">&quot;æš‚æ— &quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            print(<span class="hljs-string">&quot;ç®€ä»‹ï¼š \n&quot;</span>, blurb)<br>        label = url_xpath.xpath(<span class="hljs-string">&quot;//*[@class=&#x27;num&#x27;]/text()&quot;</span>)[<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">if</span> label == <span class="hljs-string">&quot;##&quot;</span>:<br>            print(<span class="hljs-string">&quot;æ ‡ç­¾ï¼š \n æœªåˆ†ç±»&quot;</span>)<br>            label = str(<span class="hljs-string">&quot;æœªåˆ†ç±»&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            print(<span class="hljs-string">&quot;æ ‡ç­¾ï¼š \n&quot;</span>, label)<br>        share = url_xpath.xpath(<span class="hljs-string">&quot;//*[@class=&#x27;num&#x27;]/text()&quot;</span>)[<span class="hljs-number">1</span>]<br>        print(<span class="hljs-string">&quot;åˆ†äº«ï¼š \n&quot;</span>, share)<br>        url = url_xpath.xpath(<span class="hljs-string">&quot;//*[@controls=&#x27;controls&#x27;]/@src&quot;</span>)[<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">if</span> url == <span class="hljs-string">&quot;&quot;</span>:<br>            print(<span class="hljs-string">&quot;é“¾æ¥ï¼š \n&quot;</span>, <span class="hljs-string">&quot;è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå‡è§†é¢‘. T^T\n&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            print(<span class="hljs-string">&quot;é“¾æ¥ï¼š \n&quot;</span>, url)<br>        text.insert(END,<br>                    <span class="hljs-string">&quot;è§†é¢‘IDï¼š&quot;</span> + str(page) + <span class="hljs-string">&quot;\n&quot;</span> +<br>                    <span class="hljs-string">&quot;è§†é¢‘ï¼š&quot;</span> + str(title) + <span class="hljs-string">&quot;\n&quot;</span> +<br>                    <span class="hljs-string">&quot;ç®€ä»‹ï¼š&quot;</span> + str(blurb) + <span class="hljs-string">&quot;\n&quot;</span> +<br>                    <span class="hljs-string">&quot;æ ‡ç­¾ï¼š&quot;</span> + str(label) + <span class="hljs-string">&quot;\n&quot;</span> +<br>                    <span class="hljs-string">&quot;åˆ†äº«äººæ•°ï¼š&quot;</span> + str(share) + <span class="hljs-string">&quot;\n&quot;</span> +<br>                    <span class="hljs-string">&quot;é“¾æ¥ï¼š&quot;</span> + str(url) + <span class="hljs-string">&quot;\n\n&quot;</span>)<br>        button.state([<span class="hljs-string">&#x27;disabled&#x27;</span>])<br>        <span class="hljs-keyword">with</span> open(str(title)+<span class="hljs-string">&quot;.mp4&quot;</span>,<span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> video:<br>            var1.set(<span class="hljs-string">&quot;æ­£åœ¨ä¸‹è½½ï¼Œè¯·ç¨å...  ä¸‹è½½é€Ÿåº¦å–å†³äºç½‘é€Ÿ&quot;</span>)<br>            <span class="hljs-keyword">try</span>:<br>                print(<span class="hljs-string">&quot;æ­£åœ¨ä¸‹è½½è§†é¢‘...\n&quot;</span>)<br>                videos = urlopen(url).read()<br>                video.write(videos)<br>                var1.set(<span class="hljs-string">&quot;è§†é¢‘ä¸‹è½½å®Œæˆ&quot;</span>)<br>                button.state([<span class="hljs-string">&#x27;!disabled&#x27;</span>])<br>                print(<span class="hljs-string">&quot;ä¸‹è½½å®Œæˆï¼&quot;</span>)<br>                print(<span class="hljs-string">&quot;=&quot;</span> * <span class="hljs-number">50</span>)<br>            <span class="hljs-keyword">except</span>:<br>                video.close()<br>                os.remove(str(title)+<span class="hljs-string">&quot;.mp4&quot;</span>)<br>                var1.set(<span class="hljs-string">&quot;è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå‡è§†é¢‘. T^T&quot;</span>)<br>                button.state([<span class="hljs-string">&#x27;!disabled&#x27;</span>])<br>                print(<span class="hljs-string">&quot;è§†é¢‘æœªä¸‹è½½!&quot;</span>)<br>                print(<span class="hljs-string">&quot;=&quot;</span> * <span class="hljs-number">50</span>)<br>                <span class="hljs-keyword">pass</span><br>    <span class="hljs-keyword">except</span> BaseException <span class="hljs-keyword">as</span> e:<br>        print(e)<br>        var1.set(<span class="hljs-string">&quot;è¯·æ£€æŸ¥ç½‘ç»œï¼&quot;</span>)<br>        text.insert(END,str(<span class="hljs-string">&quot;æš‚æ— å†…å®¹ï¼Œè¯·ç¨åå†è¯•ã€‚\né”™è¯¯ä»£ç ï¼š&quot;</span>+str(e)))<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start</span>():</span><br>    th = threading.Thread(target=downloadVideo)<br>    th.start()<br><br>root = Tk()<br>root.title(<span class="hljs-string">&quot;é­”åŠ›ç›’è§†é¢‘ä¸‹è½½å™¨&quot;</span>)<br>root.geometry()<br>text = ScrolledText(root,font=(<span class="hljs-string">&quot;å¾®è½¯é›…é»‘&quot;</span>,<span class="hljs-number">8</span>))<br>text.grid()<br>var1 = StringVar()<br>button = ttk.Button(root,text=<span class="hljs-string">&#x27;ä¸‹è½½è§†é¢‘&#x27;</span>,command=start)<br>button.grid()<br>label = Label(root,font=(<span class="hljs-string">&quot;å¾®è½¯é›…é»‘&quot;</span>,<span class="hljs-number">10</span>),fg=<span class="hljs-string">&#x27;red&#x27;</span>,textvariable=var1)<br>label.grid()<br>var1.set(<span class="hljs-string">&quot;å‡†å¤‡å°±ç»ª&quot;</span>)<br>root.mainloop()<br></code></pre></td></tr></table></figure>

<p><strong>è¯¦ç»†çš„ä»‹ç»ä¸‹è¿™æ®µä»£ç ï¼š</strong></p>
<h2 id="åº“çš„ä½¿ç”¨"><a href="#åº“çš„ä½¿ç”¨" class="headerlink" title="åº“çš„ä½¿ç”¨"></a>åº“çš„ä½¿ç”¨</h2><p>æŠ“å–ç½‘é¡µï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> urllib.request <span class="hljs-keyword">import</span> urlopen<br><span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> etree<br></code></pre></td></tr></table></figure>

<p><code>urllib</code>ç”¨æ¥è§£æç½‘é¡µï¼Œ<code>etree</code>ç”¨æ¥ä½¿ç”¨xpathå®šä½ã€‚ GUIç•Œé¢ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter.scrolledtext <span class="hljs-keyword">import</span> ScrolledText<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> ttk<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br></code></pre></td></tr></table></figure>

<p><code>ScrolledText</code>æ˜¯æ–‡æœ¬æ»šåŠ¨æ¡ï¼Œ<code>ttk</code>ç”¨æ¥å¯¼å…¥æŒ‰é’®ã€‚ å…¶ä»–éœ€è¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">import threading<br>import random<br>import os<br></code></pre></td></tr></table></figure>

<p>åœ¨æœ¬æ®µä»£ç ä¸­åˆ†åˆ«å®ç°å¤šçº¿ç¨‹è¿è¡Œï¼Œéšæœºé€‰å–è§†é¢‘IDå’Œåˆ é™¤é”™è¯¯æ–‡ä»¶ã€‚</p>
<h2 id="åŠŸèƒ½ä»‹ç»"><a href="#åŠŸèƒ½ä»‹ç»" class="headerlink" title="åŠŸèƒ½ä»‹ç»"></a>åŠŸèƒ½ä»‹ç»</h2><p>1.æ–­ç½‘çš„æƒ…å†µä¸‹ä¼šæ˜¾ç¤ºç½‘ç»œè¿æ¥é”™è¯¯ï¼Œå¹¶å±•ç¤ºé”™è¯¯ä»£ç ã€‚ 2.ä¸‹è½½è¿‡ç¨‹ä¸­æŒ‰é’®è¢«ç¦ç”¨ï¼Œä¸”æ˜¾ç¤ºâ€œæ­£åœ¨ä¸‹è½½ï¼Œè¯·ç¨åâ€¦ ä¸‹è½½é€Ÿåº¦å–å†³äºç½‘é€Ÿâ€ï¼Œä¸‹è½½å®Œæˆåå¯ç»§ç»­ä¸‹è½½ã€‚ 4.æ­£å¸¸æƒ…å†µä¸‹ä¼šæ˜¾ç¤ºè§†é¢‘IDï¼Œè§†é¢‘æ ‡é¢˜ï¼Œç®€ä»‹ï¼Œæ ‡ç­¾ï¼Œåˆ†äº«äººæ•°å’Œè§†é¢‘é“¾æ¥ã€‚ 3.è‹¥äº§ç”Ÿçš„éšæœºè§†é¢‘IDå‡ºé”™ï¼Œä¼šæŠ¥é”™å¹¶è‡ªåŠ¨åˆ é™¤é”™è¯¯æ–‡ä»¶ã€‚ <a href="http://olzlqlgy5.bkt.clouddn.com/%E4%B8%8B%E8%BD%BD%E5%AE%8C%E6%88%90.jpg"><img src="http://olzlqlgy5.bkt.clouddn.com/%E4%B8%8B%E8%BD%BD%E5%AE%8C%E6%88%90.jpg" alt="img"></a> è¦æ³¨æ„ä¿å­˜è§†é¢‘çš„åœ°å€å°±æ˜¯è¿™ä¸ªpyæ–‡ä»¶æ‰€åœ¨çš„åŒä¸€åœ°å€å“¦ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>è„šæœ¬</tag>
      </tags>
  </entry>
  <entry>
    <title>å†’æ³¡æ’åº</title>
    <url>/40.html</url>
    <content><![CDATA[<p><img src="https://upload.wikimedia.org/wikipedia/commons/3/37/Bubble_sort_animation.gif"></p>
<h1 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h1><p>ä»¥ä¸‹ä»‹ç»æ¥è‡ª<a href="https://zh.wikipedia.org/wiki/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F">ç»´åŸºç™¾ç§‘</a>ã€‚</p>
<blockquote>
<p>å†’æ³¡æ’åºï¼ˆè‹±è¯­ï¼šBubble Sortï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢ã€Œæµ®ã€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚</p>
</blockquote>
<a id="more"></a>
<blockquote>
<p>å†’æ³¡æ’åºæ¼”ç®—æ³•çš„è¿ä½œå¦‚ä¸‹ï¼š</p>
<ol>
<li>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚</li>
<li>å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚è¿™æ­¥åšå®Œåï¼Œæœ€åçš„å…ƒç´ ä¼šæ˜¯æœ€å¤§çš„æ•°ã€‚</li>
<li>é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªã€‚</li>
<li>æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚</li>
</ol>
</blockquote>
<p>å¯èƒ½åŠ¨å›¾æ›´ç›´è§‚ä¸€äº›ã€‚ <img src="https://ws4.sinaimg.cn/large/006tKfTcly1g07kob37eig30my075wqv.gif" alt="å†’æ³¡æ’åº"></p>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>ç”¨pythonå®ç°å†’æ³¡æ’åº</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">Desc:</span><br><span class="hljs-string"></span><br><span class="hljs-string">    å†’æ³¡æ’åº</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bubble_sort</span>(<span class="hljs-params">_list</span>):</span><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    - Args:</span><br><span class="hljs-string"></span><br><span class="hljs-string">        _list (list): æœ‰åºæˆ–æ— åºåˆ—è¡¨</span><br><span class="hljs-string"></span><br><span class="hljs-string">    - Return:</span><br><span class="hljs-string"></span><br><span class="hljs-string">        æœ‰åºåˆ—è¡¨</span><br><span class="hljs-string"></span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-comment"># å…ˆè·å–åˆ—è¡¨çš„é•¿åº¦</span><br>    n = len(_list)<br><br>    <span class="hljs-comment"># è·å–åˆ—è¡¨çš„æœ€åä¸€ä½ç´¢å¼•</span><br>    _idx = n - <span class="hljs-number">1</span><br><br>    <span class="hljs-comment"># é€šè¿‡numçš„å˜åŒ–æ¥åˆ¤æ–­æ˜¯å¦å·²ç»æ˜¯æœ‰åºæ•°ç»„</span><br>    <span class="hljs-comment"># å¦‚æœç¬¬ä¸€æ¬¡å†…ä¾§å¾ªç¯ånumæ²¡æœ‰æ”¹å˜ï¼Œè¯´æ˜æ˜¯æœ‰åºï¼Œç›´æ¥è·³å‡ºå¾ªç¯</span><br>    num = <span class="hljs-number">0</span><br><br>    <span class="hljs-comment"># æ ¹æ®å†’æ³¡æ’åºåŸç†ï¼Œä»å¤–ä¾§å¼€å§‹éå†</span><br>    <span class="hljs-keyword">for</span> out_idx <span class="hljs-keyword">in</span> range(_idx):<br><br>        <span class="hljs-comment"># å†…ä¾§éå†ï¼Œå‡å»å¤–ä¾§ç´¢å¼•æ˜¯é¿å…å†æ¬¡å¾ªç¯åˆ°å·²ç»æ’å¥½é¡ºåºçš„å…ƒç´ </span><br>        <span class="hljs-keyword">for</span> in_idx <span class="hljs-keyword">in</span> range(_idx - out_idx):<br><br>            <span class="hljs-keyword">if</span> _list[in_idx] &gt; _list[in_idx + <span class="hljs-number">1</span>]:<br><br>                <span class="hljs-comment"># å¦‚æœå·¦è¾¹å¤§äºå³è¾¹ï¼Œåˆ™è°ƒæ¢é¡ºåº</span><br>                _list[in_idx], _list[in_idx + <span class="hljs-number">1</span>] = _list[in_idx + <span class="hljs-number">1</span>], _list[in_idx]<br><br>                <span class="hljs-comment"># è®°å½•ä¸€æ¬¡æ’åº</span><br>                num += <span class="hljs-number">1</span><br><br>            <span class="hljs-comment"># å†…ä¾§å¾ªç¯åæ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œè¯´æ˜åˆ—è¡¨æœ‰åº</span><br>            <span class="hljs-keyword">if</span> num == <span class="hljs-number">0</span>:<br><br>                <span class="hljs-keyword">break</span><br><br>    <span class="hljs-keyword">return</span> _list<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    _list = [<span class="hljs-number">58</span>, <span class="hljs-number">27</span>, <span class="hljs-number">99</span>, <span class="hljs-number">74</span>, <span class="hljs-number">64</span>, <span class="hljs-number">21</span>, <span class="hljs-number">14</span>, <span class="hljs-number">55</span>, <span class="hljs-number">30</span>]<br>    print(<span class="hljs-string">&quot;åŸåˆ—è¡¨ä¸ºï¼š%s&quot;</span> % _list)<br>    bubble_sort(_list)<br>    print(<span class="hljs-string">&quot;æ–°åˆ—è¡¨ä¸ºï¼š%s&quot;</span> % _list)<br><br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆå­¦Reactï¼ˆä¸€ï¼‰</title>
    <url>/26.html</url>
    <content><![CDATA[<p><img src="https://reactjs.org/logo-og.png" alt="react"> çææ¥çæå»ï¼Œæ„Ÿè§‰å‰ç«¯è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼ŒæŠ½ä¸€æ®µæ—¶é—´æ—¶é—´å­¦ä¹ å­¦ä¹ Reactï¼Œæ„Ÿå—ä¸€ä¸‹å‰ç«¯çš„é­…åŠ›ã€‚ä¹Ÿå†™å‡ ç¯‡æ–‡ç« è®°å½•å­¦ä¹ è¿‡ç¨‹ï¼ˆè¦ä¸ç„¶è¿‡å‡ å¤©è„‘è¢‹ä¸€ç‰‡ç©ºç™½ï¼Œä»€ä¹ˆéƒ½ä¸è®°å¾—ï¼‰ã€‚ è¿™æ˜¯å­¦ä¹ Reactçš„ç¬¬ä¸€å¤©ï¼Œä¸»è¦ä»¥æ­å»ºç¯å¢ƒå’Œå†™ä¸€ä¸ªå°çš„æµ‹è¯•demoä¸ºä¸»ã€‚demoæƒ³éƒ½ä¸ç”¨æƒ³ï¼Œé‚£å¿…é¡»æ˜¯<code>Hello, World!</code>ã€‚</p>
<a id="more"></a>
<h2 id="å®‰è£…Create-React-Appå·¥å…·"><a href="#å®‰è£…Create-React-Appå·¥å…·" class="headerlink" title="å®‰è£…Create React Appå·¥å…·"></a>å®‰è£…Create React Appå·¥å…·</h2><p>é¦–å…ˆéœ€è¦å®‰è£…<a href="https://github.com/facebook/create-react-app">Create React App</a>ï¼Œæœ‰äº†è¿™ä¸ªå·¥å…·ï¼Œæˆ‘ä»¬å°±èƒ½è½»æ¾åˆ›å»ºreacté¡¹ç›®ã€‚ ä½†æ˜¯è¿™ä¸ªå·¥å…·éœ€è¦å®‰è£…nodeï¼ŒMacä¸‹ä½¿ç”¨brewå®‰è£…ã€‚ <code>brew install node</code> nodeå®‰è£…å®Œæˆåå°±å¯ä»¥ä½¿ç”¨npmå®‰è£…Create React Appå·¥å…·äº†ã€‚ <code>npm install -g create-react-app</code></p>
<h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><p>åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼Œæ‰§è¡Œ <code>create-react-app my_project</code> è€å¿ƒç­‰å¾…é¡¹ç›®çš„å®‰è£…ã€‚ é¡¹ç›®å®‰è£…å®Œæˆåï¼Œç›®å½•æ ‘åŸºæœ¬æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">.<br>â”œâ”€â”€ package-lock.json<br>â”œâ”€â”€ package.json<br>â”œâ”€â”€ public<br>â”‚Â Â  â”œâ”€â”€ favicon.ico<br>â”‚Â Â  â”œâ”€â”€ index.html<br>â”‚Â Â  â””â”€â”€ manifest.json<br>â””â”€â”€ src<br>    â”œâ”€â”€ App.css<br>    â”œâ”€â”€ App.js<br>    â”œâ”€â”€ App.test.js<br>    â”œâ”€â”€ Welcome.js<br>    â”œâ”€â”€ index.css<br>    â”œâ”€â”€ index.js<br>    â”œâ”€â”€ logo.svg<br>    â””â”€â”€ serviceWorker.js<br></code></pre></td></tr></table></figure>

<p>æ‰§è¡Œ <code>npm start</code> åœ¨æœ¬åœ°çš„3000ç«¯å£æˆåŠŸå¯åŠ¨äº†reacté¡¹ç›®ï¼Œçœ‹åˆ°çš„æ˜¯reactçš„æ¬¢è¿é¡µé¢ã€‚</p>
<h2 id="ç¬¬ä¸€ä¸ªdemo"><a href="#ç¬¬ä¸€ä¸ªdemo" class="headerlink" title="ç¬¬ä¸€ä¸ªdemo"></a>ç¬¬ä¸€ä¸ªdemo</h2><p>é…ç½®å¥½å¼€å‘ç¯å¢ƒåï¼Œæˆ‘ä»¬éœ€è¦å†™ä¸€ä¸ªå°demoæµ‹è¯•ä¸€æ³¢ã€‚ åœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>Welcome.js</code>æ–‡ä»¶ï¼Œç”¨æ¥å†™æˆ‘ä»¬çš„ç¬¬ä¸€æ®µä»£ç ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">import</span> React, &#123;Component&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Welcome</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br>  render() &#123;<br>    <span class="hljs-keyword">return</span> (<br>      &lt;h1&gt;Hello, world!&lt;/h1&gt;<br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Welcome;<br></code></pre></td></tr></table></figure>

<p>å†™å¥½åä¿å­˜ã€‚ä¿®æ”¹<code>index.js</code>æ–‡ä»¶ï¼Œå¯¼å…¥æˆ‘ä»¬æ–°å†™å¥½çš„demoï¼š <code>import Welcome from &#39;./Welcome&#39;;</code> ç„¶åå°† <code>ReactDOM.render(&lt;App /&gt;, document.getElementById(&#39;root&#39;));</code> æ”¹ä¸º <code>ReactDOM.render(&lt;Welcome /&gt;, document.getElementById(&#39;root&#39;));</code> è¿™ä¸€æ­¥æ“ä½œæ˜¯å°†Reactå…ƒç´ æ¸²æŸ“åˆ°DOMèŠ‚ç‚¹ï¼Œé€šè¿‡æŠŠå®ƒä»¬ä¼ é€’ç»™<code>ReactDOM.render()</code>çš„æ–¹æ³•æ¥å°†å…¶æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚ å›åˆ°ç»ˆç«¯ï¼Œå†æ¬¡ä½¿ç”¨<code>npm start</code>å¯åŠ¨é¡¹ç›®ï¼Œreactçš„æ¬¢è¿é¡µé¢å°±æ”¹æˆæˆ‘ä»¬å†™å¥½çš„<code>Hello, World!</code>äº†ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>React</tag>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆå­¦Reactï¼ˆä¸‰ï¼‰</title>
    <url>/24.html</url>
    <content><![CDATA[<p><img src="https://reactjs.org/logo-og.png" alt="react"> è¿™ä¸€éƒ¨åˆ†ä¸»è¦è®²è¡¨å•ï¼Œä»¥åŠç›¸å…³çš„å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶ã€‚</p>
<a id="more"></a>
<p>æ ¹æ®æ–‡æ¡£ç»™å‡ºçš„ä¾‹å­ï¼Œæˆ‘ä»¬éœ€è¦å®ç°è¯¥åŠŸèƒ½ï¼šåœ¨è¾“å…¥åå­—åï¼Œå¼¹å‡ºå¯¹è¯æ¡†ã€‚</p>
<h2 id="ä½¿ç”¨å—æ§ç»„ä»¶å®ç°è¡¨å•åŸºæœ¬æ“ä½œ"><a href="#ä½¿ç”¨å—æ§ç»„ä»¶å®ç°è¡¨å•åŸºæœ¬æ“ä½œ" class="headerlink" title="ä½¿ç”¨å—æ§ç»„ä»¶å®ç°è¡¨å•åŸºæœ¬æ“ä½œ"></a>ä½¿ç”¨å—æ§ç»„ä»¶å®ç°è¡¨å•åŸºæœ¬æ“ä½œ</h2><p>å…ˆæ„é€ å‡ºåŸºæœ¬éƒ¨åˆ†ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> React, &#123;Component&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetYourName</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    <span class="hljs-keyword">constructor</span> (props) &#123;<br>        <span class="hljs-built_in">super</span>(props);<br>        <span class="hljs-built_in">this</span>.state = &#123;<br>            value: <span class="hljs-string">&quot;&quot;</span><br>        &#125;;<br>    &#125;<br><br>    render () &#123;<br>        <span class="hljs-keyword">return</span> (<br>            &lt;form&gt;<br>                &lt;label&gt;å§“åï¼š&lt;/label&gt;<br>                &lt;input type=<span class="hljs-string">&quot;text&quot;</span> value=&#123;<span class="hljs-built_in">this</span>.state.value&#125;/&gt;<br>                &lt;button type=<span class="hljs-string">&quot;submit&quot;</span>&gt;æäº¤&lt;/button&gt;<br>            &lt;/form&gt;<br>        )<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¼šå‘ç°è¿™æ®µä»£ç ç”Ÿæˆçš„è¡¨å•ï¼Œè¾“å…¥æ¡†å¹¶ä¸èƒ½æ ¹æ®æˆ‘ä»¬çš„è¾“å…¥å‘ç”Ÿæ”¹å˜ï¼Œå› ä¸ºè¾“å…¥æ¡†çš„<code>value</code>æ˜¯å—<code>this.state.value</code>æ§åˆ¶çš„ã€‚å…¶å€¼ç”±Reactæ§åˆ¶çš„è¾“å…¥è¡¨å•å…ƒç´ ç§°ä¸ºâ€œ<strong>å—æ§ç»„ä»¶</strong>â€ã€‚æˆ‘ä»¬æƒ³è¦æ”¹å˜<code>value</code>è¿˜å’Œä¹‹å‰çš„æ“ä½œä¸€æ ·ï¼Œéœ€è¦ä½¿ç”¨<code>this.setState()</code>æ–¹æ³•ã€‚ æˆ‘ä»¬éœ€è¦åœ¨<code>input</code>æ ‡ç­¾ç»‘å®š<code>onChange</code>æ–¹æ³•ï¼Œåœ¨ç›‘å¬è¾“å…¥æ¡†æ”¹å˜çš„åŒæ—¶æ”¹å˜<code>this.state.vlaue</code>çš„å€¼ã€‚å¦‚æœåœ¨æäº¤æ—¶å¼¹å‡ºè¾“å…¥çš„å­—ç¬¦ï¼Œæˆ‘ä»¬éœ€è¦ä¸º<code>form</code>è¡¨å•ç»‘å®š<code>onSubmit</code>æ–¹æ³•ï¼Œåœ¨è¡¨å•æäº¤çš„æ—¶å€™å®Œæˆç›¸åº”çš„æ“ä½œã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetYourName</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    <span class="hljs-keyword">constructor</span>(props) &#123;<br>        <span class="hljs-built_in">super</span>(props);<br>        <span class="hljs-built_in">this</span>.state = &#123;<br>            value: <span class="hljs-string">&quot;&quot;</span><br>        &#125;;<br>    &#125;<br><br>    render() &#123;<br>        <span class="hljs-keyword">return</span> (<br>            &lt;form onSubmit=&#123;<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;alert(<span class="hljs-string">&quot;ä½ å¥½ï¼Œ&quot;</span> + <span class="hljs-built_in">this</span>.state.value); event.preventDefault()&#125;&#125;&gt;<br>                &lt;label&gt;å§“åï¼š&lt;/label&gt;<br>                &lt;input<br>                    type=<span class="hljs-string">&quot;text&quot;</span><br>                    value=&#123;<span class="hljs-built_in">this</span>.state.value&#125;<br>                    onChange=&#123;<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> <span class="hljs-built_in">this</span>.setState(&#123; <span class="hljs-attr">value</span>: event.target.value &#125;)&#125;<br>                /&gt;<br>                &lt;button type=<span class="hljs-string">&quot;submit&quot;</span>&gt;æäº¤&lt;/button&gt;<br>            &lt;/form&gt;<br>        )<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä½¿ç”¨å—æ§ç»„ä»¶çš„æ–¹å¼å®ç°äº†è¡¨å•çš„åŸºæœ¬äº¤äº’ï¼š <img src="https://ws4.sinaimg.cn/large/006tKfTcly1g0juw3f72uj31i40dqtaw.jpg"> è¡¨å•æ“ä½œæœ‰å¤šç§ï¼Œå¤§åŒå°å¼‚ï¼Œå…·ä½“æ“ä½œå¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£<a href="https://www.reactjscn.com/docs/forms.html">è¡¨å•éƒ¨åˆ†</a>ã€‚</p>
<h2 id="å¤šä¸ªè¾“å…¥å¦‚ä½•è§£å†³"><a href="#å¤šä¸ªè¾“å…¥å¦‚ä½•è§£å†³" class="headerlink" title="å¤šä¸ªè¾“å…¥å¦‚ä½•è§£å†³"></a>å¤šä¸ªè¾“å…¥å¦‚ä½•è§£å†³</h2><p>åœ¨ç½‘é¡µä¸­ï¼Œéš¾å…ä¼šé‡åˆ°å¤šä¸ªè¾“å…¥æ¡†çš„æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°è¾“å…¥æ¡†çš„<code>name</code>å±æ€§ã€‚å¯ä»¥é€šè¿‡ç»™æ¯ä¸ªå…ƒç´ æ·»åŠ ä¸€ä¸ªnameå±æ€§ï¼Œæ¥è®©å¤„ç†å‡½æ•°æ ¹æ® event.target.nameçš„å€¼æ¥é€‰æ‹©åšä»€ä¹ˆã€‚ å½“æˆ‘åœ¨çœ‹æ–‡æ¡£æ—¶ï¼Œçœ‹åˆ°è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘çš„å¤„ç†åŠæ³•æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetYourName</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    <span class="hljs-keyword">constructor</span>(props) &#123;<br>        <span class="hljs-built_in">super</span>(props);<br>        <span class="hljs-built_in">this</span>.state = &#123;<br>            guestName: <span class="hljs-string">&quot;&quot;</span>,<br>            gender: <span class="hljs-string">&quot;male&quot;</span><br>        &#125;;<br>    &#125;<br><br>    render() &#123;<br>        <span class="hljs-keyword">return</span> (<br>            &lt;form onSubmit=&#123;<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123; alert(<span class="hljs-string">`ä½ å¥½ï¼Œ<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.state.guestName&#125;</span>ï¼\næ€§åˆ«ï¼š<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.state.gender&#125;</span>`</span>);&#125;&#125;&gt;<br>                &lt;label&gt;å§“åï¼š&lt;/label&gt;<br>                &lt;input<br>                    type=<span class="hljs-string">&quot;text&quot;</span><br>                    value=&#123;<span class="hljs-built_in">this</span>.state.value&#125;<br>                    onChange=&#123;<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> <span class="hljs-built_in">this</span>.setState(&#123; <span class="hljs-attr">guestName</span>: event.target.value &#125;)&#125;<br>                /&gt;<br>                &lt;br/&gt;<br>                &lt;label&gt;æ€§åˆ«&lt;/label&gt;<br>                &lt;select value=&#123;<span class="hljs-built_in">this</span>.state.gender&#125; onChange=&#123;<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> <span class="hljs-built_in">this</span>.setState(&#123; <span class="hljs-attr">gender</span>: event.target.value &#125;)&#125;&gt;<br>                    &lt;option value=<span class="hljs-string">&quot;male&quot;</span>&gt;ç”·&lt;/option&gt;<br>                    &lt;option value=<span class="hljs-string">&quot;female&quot;</span>&gt;å¥³&lt;/option&gt;<br>                &lt;/select&gt;<br>                &lt;button type=<span class="hljs-string">&quot;submit&quot;</span>&gt;æäº¤&lt;/button&gt;<br>            &lt;/form&gt;<br>        )<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å‘ç°å’Œæ–‡æ¡£çš„è§£å†³åŠæ³•æ˜¯æœ‰åŒºåˆ«çš„ï¼Œæˆ‘åœ¨å†™è¿™éƒ¨åˆ†çš„æ—¶å€™ï¼Œæ¯ä¸ªéœ€è¦æ”¹å˜çš„å€¼åˆ†åˆ«å†™äº†<code>setState</code>æ–¹æ³•ã€‚å®˜æ–¹æ–‡æ¡£æ˜¯å†™äº†ä¸€ä¸ªå…¬å…±çš„æ–¹æ³•ï¼Œç”¨æ¥å¤„ç†éœ€è¦æ”¹å˜çš„å€¼ã€‚ åŒæ ·å®ç°äº†åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨æœ‰æ›´å¤šè¡¨å•çš„æ—¶å€™ï¼Œæˆ‘çš„æ–¹æ³•æ˜æ˜¾ä¸åˆé€‚ï¼Œè€Œä¸”åœ¨åæœŸç»´æŠ¤èµ·æ¥ï¼Œæ€»ä¸èƒ½ä¸€ä¸ªè¡¨å•ä¸€ä¸ªè¡¨å•çš„ä¿®æ”¹å§ã€‚æ‰€ä»¥å­¦ä¹ ä¸€ä¸‹å®˜æ–¹çš„å¤„ç†æ–¹å¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetYourName</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    <span class="hljs-keyword">constructor</span>(props) &#123;<br>        <span class="hljs-built_in">super</span>(props);<br>        <span class="hljs-built_in">this</span>.state = &#123;<br>            guestName: <span class="hljs-string">&quot;&quot;</span>,<br>            gender: <span class="hljs-string">&quot;male&quot;</span><br>        &#125;;<br><br>        <span class="hljs-built_in">this</span>.handleInputChange = <span class="hljs-built_in">this</span>.handleInputChange.bind(<span class="hljs-built_in">this</span>);<br>    &#125;<br><br>    handleInputChange(event) &#123;<br><br>        <span class="hljs-keyword">const</span> target = event.target;<br><br>        <span class="hljs-built_in">this</span>.setState(&#123;<br>            [target.name]: target.value<br>        &#125;)<br><br>    &#125;<br><br>    render() &#123;<br>        <span class="hljs-keyword">return</span> (<br>            &lt;form onSubmit=&#123;<span class="hljs-function">() =&gt;</span> &#123; alert(<span class="hljs-string">`ä½ å¥½ï¼Œ<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.state.guestName&#125;</span>ï¼\næ€§åˆ«ï¼š<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.state.gender&#125;</span>`</span>); &#125;&#125;&gt;<br>                &lt;label&gt;å§“åï¼š&lt;/label&gt;<br>                &lt;input<br>                    name=<span class="hljs-string">&quot;guestName&quot;</span><br>                    type=<span class="hljs-string">&quot;text&quot;</span><br>                    value=&#123;<span class="hljs-built_in">this</span>.state.value&#125;<br>                    onChange=&#123;<span class="hljs-built_in">this</span>.handleInputChange&#125;<br>                /&gt;<br>                &lt;br /&gt;<br>                &lt;label&gt;æ€§åˆ«&lt;/label&gt;<br>                &lt;select <br>                    name=<span class="hljs-string">&quot;gender&quot;</span><br>                    type=<span class="hljs-string">&quot;select&quot;</span><br>                    value=&#123;<span class="hljs-built_in">this</span>.state.gender&#125;<br>                    onChange=&#123;<span class="hljs-built_in">this</span>.handleInputChange&#125;<br>                &gt;<br>                    &lt;option value=<span class="hljs-string">&quot;male&quot;</span>&gt;ç”·&lt;/option&gt;<br>                    &lt;option value=<span class="hljs-string">&quot;female&quot;</span>&gt;å¥³&lt;/option&gt;<br>                &lt;/select&gt;<br>                &lt;button type=<span class="hljs-string">&quot;submit&quot;</span>&gt;æäº¤&lt;/button&gt;<br>            &lt;/form&gt;<br>        )<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å…¶å®æˆ‘è¿™ä¸ªä¾‹å­éå¸¸ä¸å…¸å‹ï¼Œå› ä¸ºè¾“å…¥æ¡†å’Œé€‰æ‹©æ¡†å–å€¼æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œä½“ç°ä¸å‡ºæ¥ç‰¹æ®Šæ€§ï¼Œå¯ä»¥ç›´æ¥çœ‹å®˜æ–¹çš„ä¾‹å­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å®˜æ–¹ä¾‹å­</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Reservation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  <span class="hljs-keyword">constructor</span>(props) &#123;<br>    <span class="hljs-built_in">super</span>(props);<br>    <span class="hljs-built_in">this</span>.state = &#123;<br>      isGoing: <span class="hljs-literal">true</span>,<br>      numberOfGuests: <span class="hljs-number">2</span><br>    &#125;;<br><br>    <span class="hljs-built_in">this</span>.handleInputChange = <span class="hljs-built_in">this</span>.handleInputChange.bind(<span class="hljs-built_in">this</span>);<br>  &#125;<br><br>  handleInputChange(event) &#123;<br>    <span class="hljs-keyword">const</span> target = event.target;<br>    <span class="hljs-keyword">const</span> value = target.type === <span class="hljs-string">&#x27;checkbox&#x27;</span> ? target.checked : target.value;<br>    <span class="hljs-keyword">const</span> name = target.name;<br><br>    <span class="hljs-built_in">this</span>.setState(&#123;<br>      [name]: value<br>    &#125;);<br>  &#125;<br><br>  render() &#123;<br>    <span class="hljs-keyword">return</span> (<br>      &lt;form&gt;<br>        &lt;label&gt;<br>          Is going:<br>          &lt;input<br>            name=<span class="hljs-string">&quot;isGoing&quot;</span><br>            type=<span class="hljs-string">&quot;checkbox&quot;</span><br>            checked=&#123;<span class="hljs-built_in">this</span>.state.isGoing&#125;<br>            onChange=&#123;<span class="hljs-built_in">this</span>.handleInputChange&#125; /&gt;<br>        &lt;/label&gt;<br>        &lt;br /&gt;<br>        &lt;label&gt;<br>          <span class="hljs-built_in">Number</span> <span class="hljs-keyword">of</span> guests:<br>          &lt;input<br>            name=<span class="hljs-string">&quot;numberOfGuests&quot;</span><br>            type=<span class="hljs-string">&quot;number&quot;</span><br>            value=&#123;<span class="hljs-built_in">this</span>.state.numberOfGuests&#125;<br>            onChange=&#123;<span class="hljs-built_in">this</span>.handleInputChange&#125; /&gt;<br>        &lt;/label&gt;<br>      &lt;/form&gt;<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ ¹æ®æ–‡æ¡£ï¼Œè¿™ä¸€éƒ¨åˆ†å±äºES6çš„æ–°ç”¨æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript">handleInputChange(event) &#123;<br><br>    <span class="hljs-keyword">const</span> target = event.target;<br><br>    <span class="hljs-built_in">this</span>.setState(&#123;<br>        [target.name]: target.value<br>    &#125;)<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>å¾ˆå¥½ç†è§£ï¼Œç®€å•ä¸¾ä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> name=<span class="hljs-string">&quot;Name&quot;</span><br><span class="hljs-keyword">const</span> gender=<span class="hljs-string">&quot;Gender&quot;</span><br><span class="hljs-keyword">const</span> info = &#123;<br>    [name]: <span class="hljs-string">&quot;LiLei&quot;</span>,<br>    [gender]: <span class="hljs-string">&quot;male&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>å…¶å®ç­‰äºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> info = &#123;<br>    Name: <span class="hljs-string">&quot;LiLei&quot;</span>,<br>    Gender: <span class="hljs-string">&quot;male&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>æˆ‘è®¤ä¸ºè¿™æ ·å†™æ›´å…·æœ‰çµæ´»æ€§ã€‚</p>
<h2 id="éå—æ§ç»„ä»¶"><a href="#éå—æ§ç»„ä»¶" class="headerlink" title="éå—æ§ç»„ä»¶"></a>éå—æ§ç»„ä»¶</h2><blockquote>
<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨ å—æ§ç»„ä»¶ æ¥å®ç°è¡¨å•ã€‚ åœ¨å—æ§ç»„ä»¶ä¸­ï¼Œè¡¨å•æ•°æ®ç”± React ç»„ä»¶å¤„ç†ã€‚å¦‚æœè®©è¡¨å•æ•°æ®ç”± DOM å¤„ç†æ—¶ï¼Œæ›¿ä»£æ–¹æ¡ˆä¸ºä½¿ç”¨éå—æ§ç»„ä»¶ã€‚ è¦ç¼–å†™ä¸€ä¸ªéå—æ§ç»„ä»¶ï¼Œè€Œéä¸ºæ¯ä¸ªçŠ¶æ€æ›´æ–°ç¼–å†™äº‹ä»¶å¤„ç†ç¨‹åºï¼Œä½ å¯ä»¥ ä½¿ç”¨ ref ä» DOM è·å–è¡¨å•å€¼ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetYourName</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    render() &#123;<br>        <span class="hljs-keyword">return</span> (<br>            &lt;form onSubmit=&#123;<span class="hljs-function">() =&gt;</span> &#123; alert(<span class="hljs-string">`ä½ å¥½ï¼Œ<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.target.value&#125;</span>ï¼`</span>); &#125;&#125;&gt;<br>                &lt;label&gt;å§“åï¼š&lt;/label&gt;<br>                &lt;input<br>                    type=<span class="hljs-string">&quot;text&quot;</span><br>                    ref=&#123;<span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> <span class="hljs-built_in">this</span>.target = name&#125;<br>                /&gt;<br>                &lt;button type=<span class="hljs-string">&quot;submit&quot;</span>&gt;æäº¤&lt;/button&gt;<br>            &lt;/form&gt;<br>        )<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†<a href="https://www.reactjscn.com/docs/uncontrolled-components.html">å®˜æ–¹æ–‡æ¡£</a>å†™çš„å¾ˆæ¸…æ¥šï¼Œæ¯”è¾ƒå¥½ç†è§£ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>React</tag>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆå­¦Reactï¼ˆäºŒï¼‰</title>
    <url>/22.html</url>
    <content><![CDATA[<p><img src="https://reactjs.org/logo-og.png" alt="react"> å­¦ä¹ reactå°±ä¸å¾—ä¸ææ<a href="https://react.docschina.org/docs/introducing-jsx.html">JSX</a>ã€‚</p>
<a id="more"></a>
<h2 id="ä»€ä¹ˆæ˜¯JSX"><a href="#ä»€ä¹ˆæ˜¯JSX" class="headerlink" title="ä»€ä¹ˆæ˜¯JSX"></a>ä»€ä¹ˆæ˜¯JSX</h2><p>å¯¹äºæˆ‘è¿™ä¸ªJavaScriptå’ŒreactåŒæ—¶å­¦ä¹ çš„å¤–è¡Œæ¥çœ‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">const</span> element = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, world!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;<br></code></pre></td></tr></table></figure>

<p>è¿™è¡Œä»£ç å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯è®¤çœŸä¸€çœ‹ï¼Œè¿™æ˜æ˜¾å°±æ˜¯jså’Œhtmlçš„ç»“åˆä½“å˜›ã€‚ç›´æ¥è¿è¡Œæ˜¯ä¼šæŠ¥è¯­æ³•é”™è¯¯çš„ã€‚ è¿™ç§å¥‡æ€ªçš„å†™æ³•å®˜æ–¹ç§°å…¶ä¸º<strong>JSX</strong>ã€‚</p>
<blockquote>
<p>JSX æ˜¯ä¸€ç§ JavaScript çš„è¯­æ³•æ‰©å±•ã€‚ æˆ‘ä»¬æ¨èåœ¨ React ä¸­ä½¿ç”¨ JSX æ¥æè¿°ç”¨æˆ·ç•Œé¢ã€‚JSX ä¹çœ‹èµ·æ¥å¯èƒ½æ¯”è¾ƒåƒæ˜¯æ¨¡ç‰ˆè¯­è¨€ï¼Œä½†äº‹å®ä¸Šå®ƒå®Œå…¨æ˜¯åœ¨ JavaScript å†…éƒ¨å®ç°çš„ã€‚</p>
</blockquote>
<p>JSXå®é™…ä¸Šæ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œæ˜¯å°†<code>React.createElement()</code>ç®€åŒ–çš„è¯­æ³•ç³–ã€‚ æ–‡æ¡£ä¸­ä¹Ÿä»‹ç»é“ï¼š</p>
<blockquote>
<p>Babel è½¬è¯‘å™¨ä¼šæŠŠ JSX è½¬æ¢æˆä¸€ä¸ªåä¸º React.createElement() çš„æ–¹æ³•è°ƒç”¨ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">const</span> element = (<br>  &lt;h1 className=<span class="hljs-string">&quot;greeting&quot;</span>&gt;<br>    Hello, world!<br>  &lt;/h1&gt;<br>);<br></code></pre></td></tr></table></figure>

<p>å’Œ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">const</span> element = React.createElement(<br>  <span class="hljs-string">&#x27;h1&#x27;</span>,<br>  &#123;<span class="hljs-attr">className</span>: <span class="hljs-string">&#x27;greeting&#x27;</span>&#125;,<br>  <span class="hljs-string">&#x27;Hello, world!&#x27;</span><br>);<br></code></pre></td></tr></table></figure>

<p>æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚ æˆ‘è®¤ä¸ºåˆå­¦å¹¶æ²¡å¿…è¦ç†è§£é‚£ä¹ˆæ·±åˆ»ï¼Œç°åœ¨å¯ä»¥ç®€å•çš„è®¤ä¸ºJSXå°±æ˜¯ä¸€ç§å¯ä»¥åœ¨htmlæ ‡ç­¾é‡Œï¼Œå¯ä»¥ä½¿ç”¨<code>&#123;</code>å’Œ<code>&#125;</code>æ¥æ„é€ è¡¨è¾¾å¼çš„ä¸€ç§è¯­æ³•ç³–ã€‚æ–¹ä¾¿æˆ‘ä»¬ä¸“å¿ƒæ„é€ htmlé¡µé¢ï¼Œè€Œéå°†æ³¨æ„åŠ›é›†ä¸­åœ¨å¦‚ä½•ä½¿ç”¨<code>React.createElement</code>æ–¹æ³•ä¸Šã€‚ ç®€å•è®°å¿†ä¸Šæ®µè¯å°±æ˜¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">const</span> element = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>1 + 1 = &#123; 1 + 1 &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;<br></code></pre></td></tr></table></figure>

<h2 id="å…ƒç´ æ¸²æŸ“"><a href="#å…ƒç´ æ¸²æŸ“" class="headerlink" title="å…ƒç´ æ¸²æŸ“"></a>å…ƒç´ æ¸²æŸ“</h2><p>æ ¹æ®æ–‡æ¡£çš„å­¦ä¹ é¡ºåºï¼Œæ¥ä¸‹æ¥éœ€è¦å­¦ä¹ å…ƒç´ æ¸²æŸ“ï¼Œä¹Ÿå°±å¼€å§‹äº†æ„å»ºé¡µé¢ã€‚ å†™ä¸€ä¸ªå’Œæ—¶é—´ç›¸å…³çš„demoã€‚ æ–°å»ºæ–‡ä»¶<code>DigitalTime.js</code> å†™å…¥å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DigitalTime</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    render() &#123;<br>        <span class="hljs-keyword">return</span> (<br>            &lt;h1&gt;<br>                ç°åœ¨æ˜¯&#123;<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toLocaleTimeString()&#125;<br>            &lt;/h1&gt;<br>        );<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> DigitalTime;<br></code></pre></td></tr></table></figure>

<p>ç„¶ååœ¨<code>index.js</code>æ–‡ä»¶ä¸­å¼•å…¥ä½¿ç”¨ã€‚å¯åŠ¨æœåŠ¡åï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°é¡µé¢ä¸Šæ˜¾ç¤º<code>ç°åœ¨æ˜¯ä¸‹åˆ9:19:51</code>ï¼Œä½†æ˜¯è¿™ä¸ªé¡µé¢åªæ˜¯ç”Ÿæˆäº†æ­¤åˆ»çš„æ—¶é—´ç‚¹ï¼Œé¡µé¢ä¸Šçš„å­—ç¬¦å¹¶ä¸ä¼šéšç€æ—¶é—´è‡ªåŠ¨æ”¹å˜ã€‚</p>
<blockquote>
<p>React å…ƒç´ éƒ½æ˜¯ <strong>immutable</strong> ä¸å¯å˜çš„ã€‚å½“å…ƒç´ è¢«åˆ›å»ºä¹‹åï¼Œä½ æ˜¯æ— æ³•æ”¹å˜å…¶å†…å®¹æˆ–å±æ€§çš„ã€‚ä¸€ä¸ªå…ƒç´ å°±å¥½åƒæ˜¯åŠ¨ç”»é‡Œçš„ä¸€å¸§ï¼Œå®ƒä»£è¡¨åº”ç”¨ç•Œé¢åœ¨æŸä¸€æ—¶é—´ç‚¹çš„æ ·å­ã€‚</p>
</blockquote>
<p>ä½†æ˜¯æˆ‘ä»¬éœ€è¦è®©æ—¶é—´åŠ¨èµ·æ¥ã€‚ å†™æˆå‡½æ•°çš„å½¢å¼ï¼ˆå®˜æ–¹æ–‡æ¡£æœ‰ä»‹ç»ï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tick</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">const</span> element = (<br>    &lt;div&gt;<br>      &lt;h1&gt;Hello, world!&lt;/h1&gt;<br>      &lt;h2&gt;It is &#123;<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toLocaleTimeString()&#125;.&lt;/h2&gt;<br>    &lt;/div&gt;<br>  );<br><br>  <span class="hljs-comment">// è¿™é‡Œç›´æ¥æ¸²æŸ“</span><br>  ReactDOM.render(element, <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;root&#x27;</span>));<br>&#125;<br><br><span class="hljs-built_in">setInterval</span>(tick, <span class="hljs-number">1000</span>);<br></code></pre></td></tr></table></figure>

<p>è™½ç„¶å®ç°äº†ç›®æ ‡ï¼Œä½†æ˜¯è¿™ç§å†™æ³•å¹¶ä¸å¥½ã€‚æˆ‘ä»¬éœ€è¦å°†æ—¶é—´æ”¹ä¸ºåŠ¨æ€å±•ç¤ºï¼Œä½†æ˜¯ä¸Šè¿°æ–¹æ³•å´æ˜¯ä»¥æ›´æ–°<code>ReactDOM.render()</code>æ–¹æ³•æ¥åŠ¨æ€å±•ç¤ºæ—¶é—´ï¼Œè¿™å¹¶ä¸æ˜¯æœ€ä½³å®è·µã€‚ æ‰€ä»¥å®˜æ–¹æä¾›äº†ç¬¬äºŒç§å†™æ³•ï¼Œ<a href="https://react.docschina.org/docs/state-and-lifecycle.html#%E5%B0%86%E5%87%BD%E6%95%B0%E8%BD%AC%E6%8D%A2%E4%B8%BA%E7%B1%BB">å°†å‡½æ•°è½¬æˆç±»</a>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DigitalTime</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    <span class="hljs-keyword">constructor</span>(props) &#123;<br>        <span class="hljs-built_in">super</span>(props)<br>        <span class="hljs-built_in">this</span>.state = &#123;<br>            date: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// æŒ‚è½½</span><br>    componentDidMount() &#123;<br>        <span class="hljs-built_in">this</span>.clock = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">this</span>.setState(&#123;<span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()&#125;), <span class="hljs-number">1000</span>)<br>    &#125;<br><br>    <span class="hljs-comment">// å¸è½½</span><br>    componentWillUnmount() &#123;<br>        <span class="hljs-built_in">clearInterval</span>(<span class="hljs-built_in">this</span>.clock)<br>    &#125;<br><br>    render() &#123;<br>        <span class="hljs-keyword">return</span> (<br>            &lt;h1&gt;<br>                ç°åœ¨æ˜¯&#123;<span class="hljs-built_in">this</span>.state.date.toLocaleTimeString()&#125;<br>            &lt;/h1&gt;<br>        );<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> DigitalTime;<br></code></pre></td></tr></table></figure>

<p>å†…å®¹æœ‰ç‚¹å¤šï¼Œè¿™å—æˆ‘ä¹Ÿçœ‹äº†åŠå¤©ã€‚è¿™é‡Œæ¶‰åŠåˆ°äº†reactç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€‚ å…ˆè¯´<code>constructor()</code>æ–¹æ³•ã€‚constructor()æ˜¯ç±»æ„é€ æ–¹æ³•ï¼Œ ç”¨æ¥åˆå§‹åŒ–<code>this.state</code>ã€‚æ„Ÿè§‰ç±»ä¼¼pythonç±»çš„<code>__init__()</code>æ–¹æ³•ã€‚ <code>super()</code>å’Œpythonä¸­çš„æ„ä¹‰ç±»ä¼¼ï¼Œå­ç±»åœ¨æ„é€ <code>__init__()</code>æ–¹æ³•æ—¶è¦æ˜¾å¼ç»§æ‰¿ã€‚ <code>state</code>ç®€å•æ¥è¯´å°±æ˜¯è®°å½•çŠ¶æ€ï¼Œåœ¨æ —å­ä¸­æˆ‘ä»¬è®°å½•dateçš„çŠ¶æ€ã€‚</p>
<h2 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h2><p>å‡½æ•°å®šä¹‰çš„ç»„ä»¶å’Œç±»å®šä¹‰çš„ç»„ä»¶æ˜¯å¯ä»¥ç›¸äº’æ”¹å†™çš„ã€‚ ä¾‹å¦‚å®˜æ–¹æä¾›çš„ä¾‹å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Welcome</span>(<span class="hljs-params">props</span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥æ”¹å†™ä¸ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Welcome</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>    render() &#123;<br>        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, &#123;this.props.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"><a href="#ç”Ÿå‘½å‘¨æœŸæ–¹æ³•" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"></a>ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</h2><p><img src="https://upload-images.jianshu.io/upload_images/4118241-d979d05af0b7d4db.png" alt="reactç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"> æŒ‚è½½ç»„ä»¶å’Œå¸è½½ç»„ä»¶éƒ½å¾ˆé‡è¦ï¼Œå½“åº”ç”¨ç¨‹åºä¸­æœ‰è®¸å¤šç»„ä»¶æ—¶ï¼Œé‡Šæ”¾èµ„æºå¾ˆé‡è¦ã€‚ <code>componentDidMount()</code>æ–¹æ³•çš„ä½œç”¨æ˜¯å®‰è£…ç»„ä»¶åç«‹å³è°ƒç”¨ã€‚ æˆ‘ç†è§£çš„å°±æ˜¯æ¸²æŸ“åç«‹å³æ‰§è¡Œè¯¥æ–¹æ³•ã€‚è¯¥æ–¹æ³•é‡Œå®šä¹‰äº†ä¸€ä¸ª<code>clock</code>æ–¹æ³•ï¼Œç”¨æ¥æ›´æ–°æ—¶é—´ã€‚ æ›´æ–°æ—¶é—´ä½¿ç”¨<code>setInterval()</code>æ–¹æ³•ï¼Œä½¿ç”¨æ–¹æ³•æ˜¯ï¼š</p>
<blockquote>
<p>function setInterval(callback: (â€¦args: any[]) =&gt; void, ms: number, â€¦args: any[]): NodeJS.Timeout (+1 overload)</p>
</blockquote>
<p>å¯ä»¥ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯æ—¶é—´é—´éš”ã€‚ ä½¿ç”¨<code>this.setState()</code>æ–¹æ³•æ¯ä¸€ç§’é’Ÿä¿®æ”¹<code>state</code>çŠ¶æ€é‡Œçš„å€¼ã€‚ è¿™æ ·å°±å®Œæˆäº†æ—¶é—´çš„åŠ¨æ€å±•ç¤ºã€‚ ä½¿ç”¨<code>setInterval()</code>æ—¶ç”¨åˆ°äº†ç®­å¤´å‡½æ•°ï¼Œè™½ç„¶çŸ¥é“æ˜ç™½ä»€ä¹ˆæ„æ€ï¼Œä½†æ˜¯ç†è§£ä¸äº†ä¸ºä»€ä¹ˆä¸èƒ½ç”¨<code>function() &#123;&#125;</code>æ¥ä»£æ›¿ã€‚ æŸ¥äº†ä¸€äº›èµ„æ–™(<a href="https://juejin.im/post/5aa1eb056fb9a028b77a66fd">JSä¸­çš„ç®­å¤´å‡½æ•°ä¸this</a>)å‘ç°ï¼Œè¿˜æ˜¯å¯¹ç®­å¤´å‡½æ•°ä¸äº†è§£ã€‚ æœ‰ä¾‹å­è®²åˆ°åœ¨<code>setInterval()</code>æ–¹æ³•é‡Œä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œç®­å¤´å‡½æ•°ä¸­<code>this</code>é»˜è®¤ä½¿ç”¨çš„æ˜¯å¤–å±‚çš„<code>this</code>ï¼Œä¹Ÿå°±æ˜¯æŒ‡å®šå¤–ä¾§çš„ç±»ã€‚ è¿™æ ·å°±å¯ä»¥ä½¿ç”¨<code>this.setState()</code>æ–¹æ³•æ›´æ–°<code>state</code>çš„å±æ€§ã€‚ å¦‚æœå®åœ¨ä¸æƒ³ç”¨ç®­å¤´å‡½æ•°ï¼Œé‚£å°±éœ€è¦<code>function</code>ç»‘å®š<code>this</code>ã€‚å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript">componentDidMount() &#123;<br>        <span class="hljs-comment">// this.clock = setInterval(() =&gt; this.setState(&#123;date: new Date()&#125;), 1000)</span><br>        <span class="hljs-built_in">this</span>.clock = <span class="hljs-built_in">setInterval</span>(<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123; <span class="hljs-built_in">this</span>.setState(&#123;<span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()&#125;) &#125;.bind(<span class="hljs-built_in">this</span>), <span class="hljs-number">1000</span><br>        )<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼ˆå½“ç„¶è¿™ä¸ªè§£å†³åŠæ³•æ˜¯é—®å°ä¼™ä¼´è§£ç­”çš„ï¼‰ã€‚ å½“ç„¶è¿˜å¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DigitalTime</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    <span class="hljs-keyword">constructor</span>(props) &#123;<br>        <span class="hljs-built_in">super</span>(props)<br>        <span class="hljs-built_in">this</span>.state = &#123;<br>            date: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()<br>        &#125;<br><br>        <span class="hljs-comment">// è¿™é‡Œç»‘å®š</span><br>        <span class="hljs-built_in">this</span>.updateTime = <span class="hljs-built_in">this</span>.updateTime.bind(<span class="hljs-built_in">this</span>)<br>    &#125;<br><br>    updateTime() &#123;<br>        <span class="hljs-built_in">this</span>.setState(&#123;<span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()&#125;)<br>    &#125;<br><br>    <span class="hljs-comment">// æŒ‚è½½</span><br>    componentDidMount() &#123;<br>        <span class="hljs-comment">// this.clock = setInterval(() =&gt; this.setState(&#123;date: new Date()&#125;), 1000)</span><br>        <span class="hljs-comment">// this.clock = setInterval(</span><br>        <span class="hljs-comment">//     function() &#123; this.setState(&#123;date: new Date()&#125;) &#125;.bind(this), 1000</span><br>        <span class="hljs-comment">// )</span><br>        <span class="hljs-built_in">this</span>.clock = <span class="hljs-built_in">setInterval</span>(<span class="hljs-built_in">this</span>.updateTime, <span class="hljs-number">1000</span>)<br>    &#125;<br><br>    <span class="hljs-comment">// å¸è½½</span><br>    componentWillUnmount() &#123;<br>        <span class="hljs-built_in">clearInterval</span>(<span class="hljs-built_in">this</span>.clock)<br>    &#125;<br><br>    render() &#123;<br>        <span class="hljs-keyword">return</span> (<br>            &lt;h1&gt;<br>                ç°åœ¨æ˜¯&#123;<span class="hljs-built_in">this</span>.state.date.toLocaleTimeString()&#125;<br>            &lt;/h1&gt;<br>        );<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> DigitalTime;<br></code></pre></td></tr></table></figure>

<p>æœ‰å…³å‡½æ•°ç»‘å®šè¿™å—<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind">å®˜æ–¹ä¹Ÿæœ‰ä¾‹å­</a>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">var</span> <span class="hljs-built_in">module</span> = &#123;<br>  x: <span class="hljs-number">42</span>,<br>  getX: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.x;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> unboundGetX = <span class="hljs-built_in">module</span>.getX;<br><span class="hljs-built_in">console</span>.log(unboundGetX()); <span class="hljs-comment">// The function gets invoked at the global scope</span><br><span class="hljs-comment">// expected output: undefined</span><br><br><span class="hljs-keyword">var</span> boundGetX = unboundGetX.bind(<span class="hljs-built_in">module</span>);<br><span class="hljs-built_in">console</span>.log(boundGetX());<br><span class="hljs-comment">// expected output: 42</span><br><br></code></pre></td></tr></table></figure>

<p>æ¯”è¾ƒå¥½ç†è§£ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>React</tag>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆå­¦Reactï¼ˆå››ï¼‰</title>
    <url>/25.html</url>
    <content><![CDATA[<p><img src="https://reactjs.org/logo-og.png" alt="react"> æˆ‘ä»¬åœ¨æ„å»ºç½‘é¡µçš„æ—¶å€™ï¼Œè‚¯å®šä¸åªæœ‰ä¸€ä¸ªç»„ä»¶ã€‚å½“åŒæ—¶å­˜åœ¨å¤šä¸ªç»„ä»¶ï¼Œä¸”å¤šä¸ªç»„ä»¶éœ€è¦å…±ç”¨ä¸€äº›æ•°æ®æ—¶ï¼Œå°±äº§ç”Ÿäº†<strong>çŠ¶æ€æå‡</strong>çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯å¤šä¸ªç»„ä»¶å…±ç”¨ä¸€ä¸ªçŠ¶æ€ï¼ˆæ•°æ®ï¼‰ã€‚ä¹‹æ‰€ä»¥ç§°ä¹‹ä¸ºæå‡ï¼Œå¯èƒ½å°±æ˜¯å­ç»„ä»¶çš„æ•°æ®è¢«æå‡åˆ°äº†çˆ¶ç»„ä»¶ã€‚</p>
<a id="more"></a>
<p>åœ¨çœ‹å®˜æ–¹æ–‡æ¡£çš„æ—¶å€™ï¼Œå‘ç°å…¶ç»•äº†ä¸€ä¸ªå¤§åœˆå­ã€‚ æ–‡æ¡£ä¸­çš„demoæ˜¯å…ˆæ„é€ ä¸€ä¸ªæ‘„æ°æ¸©åº¦åˆ¤æ–­æ°´æ˜¯å¦èƒ½çƒ§å¼€ï¼ˆä¸€ä¸ªæ ‡å‡†å¤§æ°”å‹ä¸‹ï¼‰ã€‚åˆä½¿ç”¨åæ°åº¦æ¥åˆ¤æ–­æ°´çš„æ²¸ç‚¹ï¼Œç„¶åå°†è¿™ä¸¤è€…ç›¸ç»“åˆï¼Œåœ¨è¾“å…¥æ‘„æ°åº¦çš„æ—¶å€™åŒæ­¥å±•ç¤ºåæ°åº¦ï¼Œåä¹‹äº¦ç„¶ã€‚å› ä¸ºæ‘„æ°åº¦å’Œåæ°åº¦éƒ½éœ€è¦æ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œæ­¤æ—¶æ‰ç”¨åˆ°äº†çŠ¶æ€æå‡çš„æ¦‚å¿µã€‚ ä¸è¿‡æ–‡æ¡£ä¸€æ­¥ä¸€æ­¥è®²çš„éå¸¸ä»”ç»†ï¼Œä¿è¯æ¯ä¸ªäººéƒ½èƒ½çœ‹æ‡‚ã€‚</p>
<h2 id="ä»£ç éƒ¨åˆ†"><a href="#ä»£ç éƒ¨åˆ†" class="headerlink" title="ä»£ç éƒ¨åˆ†"></a>ä»£ç éƒ¨åˆ†</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><br><span class="hljs-keyword">const</span> scaleNames = &#123;<br>    c: <span class="hljs-string">&#x27;æ‘„æ°&#x27;</span>,<br>    f: <span class="hljs-string">&#x27;åæ°&#x27;</span><br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BoilingVerdict</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    render() &#123;<br>        <span class="hljs-keyword">const</span> celsius = <span class="hljs-built_in">this</span>.props.celsius;<br>        <span class="hljs-keyword">if</span> (celsius &gt;= <span class="hljs-number">100</span>) &#123;<br>            <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ°´ä¼šçƒ§å¼€<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ°´ä¸ä¼šçƒ§å¼€<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>);<br>        &#125;<br>    &#125;<br><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toCelsius</span>(<span class="hljs-params">fahrenheit</span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> (fahrenheit - <span class="hljs-number">32</span>) * <span class="hljs-number">5</span> / <span class="hljs-number">9</span>;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toFahrenheit</span>(<span class="hljs-params">celsius</span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> (celsius * <span class="hljs-number">9</span> / <span class="hljs-number">5</span>) + <span class="hljs-number">32</span>;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tryConvert</span>(<span class="hljs-params">temperature, convert</span>) </span>&#123;<br>    <span class="hljs-keyword">const</span> input = <span class="hljs-built_in">parseFloat</span>(temperature);<br><br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Number</span>.isNaN(input)) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">const</span> output = convert(input);<br>    <span class="hljs-keyword">const</span> rounded = <span class="hljs-built_in">Math</span>.round(output * <span class="hljs-number">1000</span>) / <span class="hljs-number">1000</span>;<br><br>    <span class="hljs-keyword">return</span> rounded.toString();<br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Temperature</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    <span class="hljs-keyword">constructor</span>(props) &#123;<br>        <span class="hljs-built_in">super</span>(props);<br>        <span class="hljs-built_in">this</span>.handleChange = <span class="hljs-built_in">this</span>.handleChange.bind(<span class="hljs-built_in">this</span>);<br>    &#125;<br><br>    handleChange(e) &#123;<br>        <span class="hljs-built_in">this</span>.props.onTemperatureChange(e.target.value);<br>    &#125;<br><br>    render() &#123;<br><br>        <span class="hljs-keyword">const</span> temperature = <span class="hljs-built_in">this</span>.props.temperaturer;<br>        <span class="hljs-keyword">const</span> scale = <span class="hljs-built_in">this</span>.props.scale;<br><br>        <span class="hljs-keyword">return</span> (<br>            &lt;div&gt;<br>                &lt;form&gt;<br>                    &lt;fieldset&gt;<br>                        &lt;legend&gt;<br>                            &lt;h1&gt;è¾“å…¥&#123;scaleNames[scale]&#125;æ¸©åº¦&lt;/h1&gt;<br>                        &lt;/legend&gt;<br><br>                        &lt;b&gt;&#123;scaleNames[scale]&#125;åº¦: &lt;/b&gt;<br><br>                        &lt;input<br>                            value=&#123;temperature&#125;<br>                            onChange=&#123;<span class="hljs-built_in">this</span>.handleChange&#125;<br>                        /&gt;<br><br>                    &lt;/fieldset&gt;<br>                &lt;/form&gt;<br>            &lt;/div&gt;<br>        );<br>    &#125;<br>&#125;<br><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;<br><br>    <span class="hljs-keyword">constructor</span>(props) &#123;<br>        <span class="hljs-built_in">super</span>(props);<br>        <span class="hljs-built_in">this</span>.handleCelsiusChange = <span class="hljs-built_in">this</span>.handleCelsiusChange.bind(<span class="hljs-built_in">this</span>);<br>        <span class="hljs-built_in">this</span>.handleFahrenheitChange = <span class="hljs-built_in">this</span>.handleFahrenheitChange.bind(<span class="hljs-built_in">this</span>);<br>        <span class="hljs-built_in">this</span>.state = &#123;<br>            temperature: <span class="hljs-string">&#x27;&#x27;</span>,<br>            scale: <span class="hljs-string">&#x27;&#x27;</span><br>        &#125;;<br>    &#125;<br><br>    handleCelsiusChange(temperaturer) &#123;<br>        <span class="hljs-built_in">this</span>.setState(&#123; <span class="hljs-attr">scale</span>: <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-attr">temperature</span>: temperaturer &#125;);<br>    &#125;<br><br>    handleFahrenheitChange(temperaturer) &#123;<br>        <span class="hljs-built_in">this</span>.setState(&#123; <span class="hljs-attr">scale</span>: <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-attr">temperature</span>: temperaturer &#125;);<br>    &#125;<br><br>    render() &#123;<br><br>        <span class="hljs-keyword">const</span> scale = <span class="hljs-built_in">this</span>.state.scale;<br>        <span class="hljs-keyword">const</span> temperature = <span class="hljs-built_in">this</span>.state.temperature;<br><br>        <span class="hljs-keyword">const</span> celsius = scale === <span class="hljs-string">&#x27;f&#x27;</span> ? tryConvert(temperature, toCelsius) : temperature;<br>        <span class="hljs-keyword">const</span> fahrenheit = scale === <span class="hljs-string">&#x27;c&#x27;</span> ? tryConvert(temperature, toFahrenheit) : temperature;<br><br>        <span class="hljs-keyword">return</span> (<br>            &lt;div&gt;<br>                &lt;Temperature<br>                    scale=<span class="hljs-string">&quot;c&quot;</span><br>                    temperaturer=&#123;celsius&#125;<br>                    onTemperatureChange=&#123;<span class="hljs-built_in">this</span>.handleCelsiusChange&#125; /&gt;<br><br>                &lt;Temperature<br>                    scale=<span class="hljs-string">&quot;f&quot;</span><br>                    temperaturer=&#123;fahrenheit&#125;<br>                    onTemperatureChange=&#123;<span class="hljs-built_in">this</span>.handleFahrenheitChange&#125; /&gt;<br><br>                &lt;BoilingVerdict celsius=&#123;<span class="hljs-built_in">parseFloat</span>(celsius)&#125; /&gt;<br>            &lt;/div&gt;<br>        );<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="æ¢³ç†"><a href="#æ¢³ç†" class="headerlink" title="æ¢³ç†"></a>æ¢³ç†</h2><p>æˆ‘ä»¬ä½¿ç”¨<code>Calculator</code>ç»„ä»¶å…±äº«ç”¨æˆ·çš„è¾“å…¥ï¼ˆçŠ¶æ€æå‡ï¼‰ï¼Œ<code>Temperature</code>ç»„ä»¶ç”¨æ¥å¤ç”¨è¾“å…¥æ¡†ã€‚ä¸åŒè¾“å…¥æ¡†çš„<code>scale</code>ä¸åŒï¼Œç”¨æ¥å¯¹åº”ä¸åŒçš„åç§°ï¼Œè¾“å…¥æ¡†ä¸åŒçš„è¡¨å¤´æ˜¯æ ¹æ®<code>scale</code>ç”±<code>scaleNames</code>è½¬æ¢çš„ã€‚å…¶ä»–éƒ¨åˆ†å°±æ›´å¥½ç†è§£äº†ï¼Œä½¿ç”¨<code>setState</code>æ–¹æ³•ä¿®æ”¹<code>state</code>çš„å€¼ï¼Œæ‘„æ°åº¦å’Œåæ°åº¦çš„è½¬æ¢ç­‰ç­‰ã€‚</p>
<h2 id="Reactå¼€å‘è€…å·¥å…·"><a href="#Reactå¼€å‘è€…å·¥å…·" class="headerlink" title="Reactå¼€å‘è€…å·¥å…·"></a>Reactå¼€å‘è€…å·¥å…·</h2><p>å®˜æ–¹è¿˜æä¾›äº†<a href="https://github.com/facebook/react-devtools">React å¼€å‘è€…å·¥å…·</a>ã€‚ ä½¿ç”¨æ•ˆæœåŸºæœ¬å°±æ˜¯è¿™ä¸ªæ ·å­çš„ï¼Œå¯ä»¥æ¸…æ™°çœ‹å‡ºreactç»„ä»¶æ ‘ï¼š <img src="https://ws4.sinaimg.cn/large/006tKfTcly1g0ne5xr8byj31c00u0dpp.jpg"></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>React</tag>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ©ç”¨ Python å‘é‚®ä»¶</title>
    <url>/39.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2018/03/22/02/37/email-3249062__480.png"> åœ¨æœç´¢pythonæ•™ç¨‹çš„æ—¶å€™ï¼Œç¢°å·§é‡åˆ°äº†ã€Œ åˆ©ç”¨ python å‘é€ç”µå­é‚®ä»¶ ã€çš„æ•™ç¨‹ï¼Œè§‰å¾—å¾ˆå®ç”¨ä¹Ÿæ¯”è¾ƒæœ‰æ„æ€ï¼Œæ‰€ä»¥å°±èŠ±äº†ç‚¹æ—¶é—´å­¦ä¹ å‘é€é‚®ä»¶çš„è„šæœ¬æ˜¯æ€æ ·å®ç°çš„ã€‚ æˆ‘ä¸»è¦æ˜¯åˆ©ç”¨SMTPï¼ˆç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼‰æ¥å®ç°é‚®ä»¶çš„å‘é€ã€‚</p>
<a id="more"></a>
<p>é¦–å…ˆè¦å®‰è£…SMTPå’Œemailçš„åº“ è¿è¡Œcmdï¼Œè¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">pip install secure-smtplib email<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·æˆ‘ä»¬æ‰€éœ€çš„åº“å°±å®‰è£…å¥½äº†ã€‚ ç½‘ä¸Šå¤§éƒ¨åˆ†çš„æ•™ç¨‹ï¼Œè¯´ä»€ä¹ˆå¥½å‘¢ï¼Œæœ‰äº›æ—¶å€™æˆ‘çœŸçš„å¾ˆå¥‡æ€ªï¼Œä»–ä»¬åœ¨å†™å®Œæ•™ç¨‹ä»¥åä¼šä¸ä¼šå†æŒ‰ç€è‡ªå·±çš„æ•™ç¨‹è¿è¡Œä¸€éï¼Œå› ä¸ºæˆ‘ä¸€æ­¥ä¸€æ­¥æŒ‰ç€æ•™ç¨‹åšä¸‹æ¥ï¼Œè¿˜æ˜¯ä¼šæç¤ºæˆ‘å„ç§é”™è¯¯ï¼ŒçŒä¸åŠé˜²ã€‚ä¸è¿‡è¿™ä¸ªæ•™ç¨‹é‡åˆ°çš„é”™è¯¯ï¼Œæœ€ç»ˆè¿˜æ˜¯è§£å†³äº†ï¼Œå› ä¸ºè§£å†³åŠæ³•æ˜¯åœ¨æ‰‹æœºä¸Šæœåˆ°çš„ï¼Œé‚£ä»½æ•™ç¨‹æ‰¾ä¸åˆ°ï¼Œç½‘ç«™å°±è´´ä¸ä¸Šæ¥äº†ã€‚è¿›å…¥æ­£é¢˜ï¼Œè´´ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#coding: utf-8</span><br><br><span class="hljs-keyword">import</span> smtplib<br><span class="hljs-keyword">from</span> email.mime.text <span class="hljs-keyword">import</span> MIMEText<br><span class="hljs-keyword">from</span> email.header <span class="hljs-keyword">import</span> Header<br><br><br>sender = raw_input(<span class="hljs-string">&quot;Please enter a sender email address:&quot;</span>)  <span class="hljs-comment"># å‘ä»¶äººé‚®ç®±åœ°å€</span><br>password = raw_input(<span class="hljs-string">&quot;keywords:&quot;</span>)  <span class="hljs-comment"># å¯†ç </span><br>receiver = raw_input(<span class="hljs-string">&quot;Please enter a receiver address:&quot;</span>)  <span class="hljs-comment"># æ”¶ä»¶äººé‚®ç®±åœ°å€</span><br>subject = raw_input(<span class="hljs-string">&quot;Title:&quot;</span>)  <span class="hljs-comment"># é‚®ä»¶æ ‡é¢˜</span><br>words = raw_input(<span class="hljs-string">&quot;Text:&quot;</span>)  <span class="hljs-comment"># é‚®ä»¶æ­£æ–‡</span><br>smtpserver = <span class="hljs-string">&#x27;smtp.163.com&#x27;</span><br>msg = MIMEText(words, <span class="hljs-string">&#x27;plain&#x27;</span>, <span class="hljs-string">&#x27;utf-8&#x27;</span>)  <span class="hljs-comment"># ä¸­æ–‡éœ€å‚æ•° utf-8ï¼Œå•å­—èŠ‚å­—ç¬¦ä¸éœ€è¦</span><br>msg[<span class="hljs-string">&#x27;Subject&#x27;</span>] = Header(subject, <span class="hljs-string">&#x27;utf-8&#x27;</span>)  <span class="hljs-comment"># é‚®ä»¶æ ‡é¢˜</span><br>msg[<span class="hljs-string">&#x27;from&#x27;</span>] = sender  <span class="hljs-comment"># å‘ä¿¡äººåœ°å€</span><br>msg[<span class="hljs-string">&#x27;to&#x27;</span>] = receiver  <span class="hljs-comment"># æ”¶ä¿¡äººåœ°å€</span><br>smtp = smtplib.SMTP()<br>smtp.connect(<span class="hljs-string">&#x27;smtp.163.com&#x27;</span>)<br>smtp.login(sender, password)<br>smtp.sendmail(sender, receiver, msg.as_string())  <span class="hljs-comment"># è¿™è¡Œä»£ç è§£å†³çš„ä¸‹æ–¹554çš„é”™è¯¯</span><br>smtp.quit()<br><span class="hljs-keyword">print</span> <span class="hljs-string">&quot;é‚®ä»¶å‘é€æˆåŠŸ!&quot;</span><br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªè„šæœ¬æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å¯ä»¥å‘é€æˆåŠŸï¼Œç½‘ä¸Šæœ‰äº›æ•™ç¨‹è¿è¡Œä¼šæç¤ºé”™è¯¯ï¼š</p>
<blockquote>
<p><code>554 DT:SPM</code> å‘é€çš„é‚®ä»¶å†…å®¹åŒ…å«äº†æœªè¢«è®¸å¯çš„ä¿¡æ¯ï¼Œæˆ–è¢«ç³»ç»Ÿè¯†åˆ«ä¸ºåƒåœ¾é‚®ä»¶ã€‚è¯·æ£€æŸ¥æ˜¯å¦æœ‰ç”¨æˆ·å‘é€ç—…æ¯’æˆ–è€…åƒåœ¾é‚®ä»¶ï¼›</p>
</blockquote>
<p>åœ¨ä¸Šè¾¹ä»£ç æ ‡æ³¨äº†ï¼Œæˆ‘æ‰¾åˆ°çš„è§£å†³åŠæ³•ä¸»è¦å’Œé‚£è¡Œä»£ç æœ‰å…³ç³»ï¼Œä¸ºä»€ä¹ˆæˆ‘è¿˜æ²¡æœ‰å¼„æ˜ç™½ã€‚è¿™æ®µä»£ç è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹æ˜¯é‚®ä»¶çš„æ ‡é¢˜åªèƒ½ä¸ºè‹±æ–‡ï¼Œå¦‚æœæ¢æˆä¸­æ–‡çš„è¯ä¼šæç¤ºç¼–ç é”™è¯¯ï¼š <code>UnicodeDecodeError: â€˜utf8â€™ codec canâ€™t decode byte 0xb1 in position 0: invalid start byte</code> <strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯163é‚®ç®±ï¼Œéœ€è¦è®¾ç½®å®¢æˆ·ç«¯æˆæƒå¯†ç ã€‚</strong> <img src="http://upload-images.jianshu.io/upload_images/3880264-ecfd60f843c96414.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"> åœ¨â€œè®¾ç½®â€é‡Œæ‰¾åˆ°â€œå®¢æˆ·ç«¯æˆæƒå¯†ç â€ï¼Œå¼€å¯å¹¶è¾“å…¥ä½ è¦è®¾ç½®çš„å¯†ç ï¼Œåœ¨pythonä»£ç ä¸­ç”¨åˆ°çš„å¯†ç å°±æ˜¯ä½ è®¾ç½®çš„â€œå®¢æˆ·ç«¯æˆæƒå¯†ç â€ã€‚ æµ‹è¯•æ•ˆæœï¼š <img src="http://upload-images.jianshu.io/upload_images/3880264-97c5164eeb752013.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>è„šæœ¬</tag>
      </tags>
  </entry>
  <entry>
    <title>å›¾ç‰‡é˜²ç›—é“¾å¦‚ä½•å¼•ç”¨</title>
    <url>/66.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/LI89SawqOdif5on.jpg"> ä¹‹å‰åšå®…å®…ç”Ÿæ´»æ”¶è—å¤¹å°ç¨‹åºçš„æ—¶å€™ï¼Œç¢°å·§é¿å…äº†è¿™ä¸ªé—®é¢˜ã€‚ä¼°è®¡æ˜¯çŸ¥ä¹æŠŠå¾®ä¿¡å°ç¨‹åºçš„ç›¸å…³å‚æ•°åˆ’å…¥äº†ç™½åå•ã€‚ ä½†æ˜¯ä¸ªäººåœ¨åˆ¶ä½œç½‘ç«™çš„æ—¶å€™ï¼Œä¸€å®šä¼šé‡åˆ°ä¸ªåˆ«å›¾ç‰‡ï¼Œç”¨æˆ·å¤´åƒ <code>403</code> çš„é—®é¢˜ï¼Œåªéœ€è¦åœ¨ html é‡ŒåŠ å…¥ä¸€è¡Œä»£ç å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<a id="more"></a>
<p>åœ¨ <code>head</code> æ ‡ç­¾å†…åŠ å…¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;meta name&#x3D;&quot;referrer&quot; content&#x3D;&quot;no-referrer&quot; &#x2F;&gt;<br></code></pre></td></tr></table></figure>

<p>å³å¯è§£å†³æ­¤é—®é¢˜ï¼Œå¿«å»è¯•è¯•å§ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>é˜²ç›—é“¾</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº LNMP æ­å»º Wordpress åšå®¢</title>
    <url>/34.html</url>
    <content><![CDATA[<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/WordPress.svg/698px-WordPress.svg.png"> åŸè°…æˆ‘æœ€ç»ˆè¿˜æ˜¯æŠŠåšå®¢ä» hexo ç§»åˆ°äº† wordpressã€‚ä¹‹å‰æ­å»º wordpress ä½¿ç”¨ Apacheï¼Œä½†æ˜¯å·²ç»ä¹ æƒ¯äº† nginxï¼Œæ‰€ä»¥è®°å½•ä¸€æ³¢è¿™æ¬¡æ­å»ºç½‘ç«™çš„è¿‡ç¨‹ã€‚</p>
<h1 id="å®‰è£…-LNMP"><a href="#å®‰è£…-LNMP" class="headerlink" title="å®‰è£… LNMP"></a>å®‰è£… LNMP</h1><p>æœåŠ¡å™¨ç‰ˆæœ¬æ˜¯ Ubuntu 16.04.6 LTSã€‚ é¦–å…ˆæˆ‘ä»¬éœ€è¦è¿è¡Œå‘½ä»¤ <code>apt-get update</code> æ›´æ–°è½¯ä»¶æºåˆ—è¡¨ã€‚ ç„¶åä¸€å£æ°”å®‰è£…å®Œ nginxï¼Œmysqlï¼ŒPHPã€‚ <code>apt-get install -y nginx mysql-server php-fpm php-mysql</code> å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºè¾“å…¥æ•°æ®åº“çš„å¯†ç ï¼Œä¹‹åç­‰å¾…å®‰è£…å®Œæˆã€‚ æŸ¥çœ‹ nginx ç‰ˆæœ¬:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">âœ  ~ nginx -v<br>nginx version: nginx/1.10.3 (Ubuntu)<br></code></pre></td></tr></table></figure>

<h1 id="é…ç½®-nginx-å¹¶å®ç°-https-è®¿é—®"><a href="#é…ç½®-nginx-å¹¶å®ç°-https-è®¿é—®" class="headerlink" title="é…ç½® nginx å¹¶å®ç° https è®¿é—®"></a>é…ç½® nginx å¹¶å®ç° https è®¿é—®</h1><p>å…ˆåœ¨åŸŸåæä¾›å•†è´­ä¹°å…è´¹è¯ä¹¦ï¼Œç„¶åä¸‹è½½ nginx æœåŠ¡å™¨ç±»å‹çš„è¯ä¹¦ã€‚ <img src="https://i.loli.net/2019/09/18/V9o5Sh32ZPuMFG4.png" alt="å±å¹•å¿«ç…§ 2019-09-18 ä¸Šåˆ8.37.13.png"> ä¸‹è½½å¥½çš„æ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œè§£å‹å¹¶æ–°å»ºæ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾ <code>pem</code> å’Œ <code>key</code> ä¸ºåç¼€çš„è¯ä¹¦æ–‡ä»¶ã€‚ <code>mkdir /etc/nginx/cert</code> æ›´æ”¹ nginx é…ç½®ï¼Œç¼–è¾‘æ–‡ä»¶ï¼š <code>vim /etc/nginx/sites-available/default</code> ä½¿ç”¨ vim å‘½ä»¤ <code>ggdG</code> åˆ é™¤æ‰€æœ‰æ–‡æœ¬ï¼Œå¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š <strong>æœ€å¥½æå‰è´­ä¹°åŸŸåå¹¶å¤‡æ¡ˆï¼Œserver_name è®°å¾—æ”¹æˆè‡ªå·±çš„åŸŸåï¼</strong> è¿™ä¸ªé…ç½®è‡ªåŠ¨å°† http é‡å®šå‘åˆ° httpsã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">server &#123;<br>    listen 80 default_server;<br>    listen [::]:80 default_server;<br><br>    rewrite ^(.*)$ https://<span class="hljs-variable">$host</span><span class="hljs-variable">$1</span> permanent;<br>&#125;<br><br>server &#123;<br>    listen 443 ssl default_server;<br>    listen [::]:443 ssl default_server;<br><br>    ssl on;<br>    ssl_certificate /etc/nginx/cert/yourcertfile.pem;<br>    ssl_certificate_key /etc/nginx/cert/yourcertfile.key;<br><br>    root /var/www/html;<br><br>    index index.php index.html index.htm index.nginx-debian.html;<br><br>    server_name _;<br><br>    location / &#123;<br>        try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ =404;<br>    &#125;<br><br>    location ~ \.php$ &#123;<br>        include snippets/fastcgi-php.conf;<br>        fastcgi_pass unix:/run/php/php7.0-fpm.sock;<br>    &#125;<br><br>    location ~ /\.ht &#123;<br>        deny all;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>nginx -t</code> æµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ã€‚</p>
<h1 id="é…ç½®æ•°æ®åº“"><a href="#é…ç½®æ•°æ®åº“" class="headerlink" title="é…ç½®æ•°æ®åº“"></a>é…ç½®æ•°æ®åº“</h1><h2 id="ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶"></a>ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶</h2><p><code>vim /etc/mysql/mysql.conf.d/mysqld.cnf</code> ä½¿ç”¨ <code>#</code> æ³¨é‡Šæ‰ <code>bind-address = 127.0.0.1</code>ã€‚ è¿›å…¥æ•°æ®åº“ã€‚ <code>mysql -u root -p</code> ä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œç›´æ¥è¾“å…¥å³å¯ï¼Œå›è½¦å®Œæˆè¾“å…¥ã€‚</p>
<h2 id="åˆ›å»º-wordpress-æ•°æ®åº“ï¼Œå¹¶æä¾›è®¿é—®æƒé™"><a href="#åˆ›å»º-wordpress-æ•°æ®åº“ï¼Œå¹¶æä¾›è®¿é—®æƒé™" class="headerlink" title="åˆ›å»º wordpress æ•°æ®åº“ï¼Œå¹¶æä¾›è®¿é—®æƒé™"></a>åˆ›å»º wordpress æ•°æ®åº“ï¼Œå¹¶æä¾›è®¿é—®æƒé™</h2><figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs mysql">CREATE DATABASE wordpress;<br>GRANT ALL PRIVILEGES ON *.* to root@&#39;%&#39; identified by &#39;root&#39; with grant option;<br>FLUSH PRIVILEGES;<br>exit;<br></code></pre></td></tr></table></figure>

<h2 id="é‡å¯-nginx-å’Œ-mysql-æœåŠ¡"><a href="#é‡å¯-nginx-å’Œ-mysql-æœåŠ¡" class="headerlink" title="é‡å¯ nginx å’Œ mysql æœåŠ¡"></a>é‡å¯ nginx å’Œ mysql æœåŠ¡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">/etc/init.d/nginx restart<br>/etc/init.d/mysql restart<br></code></pre></td></tr></table></figure>

<h1 id="ä¸‹è½½-wordpress"><a href="#ä¸‹è½½-wordpress" class="headerlink" title="ä¸‹è½½ wordpress"></a>ä¸‹è½½ wordpress</h1><p>ä¸ºäº†ä¹‹åä¸å¿…è¦çš„éº»çƒ¦ï¼Œè¿˜æ˜¯æ¨èå®‰è£…ç®€ä½“ä¸­æ–‡åŒ…ã€‚ å®˜ç½‘åœ°å€ï¼š<a href="https://cn.wordpress.org/download/">https://cn.wordpress.org/download/</a> å¤åˆ¶å¥½ <code>tar.gz</code> åç¼€çš„ä¸‹è½½é“¾æ¥ï¼Œæ­¤æ—¶çš„é“¾æ¥ä¸º 5.0.3 ç‰ˆæœ¬ã€‚ <code>https://cn.wordpress.org/wordpress-5.0.3-zh_CN.tar.gz</code> ç§»æ­¥åˆ°æœºå™¨ä¸Šè¾“å…¥ï¼š <code>wget https://cn.wordpress.org/wordpress-5.0.3-zh_CN.tar.gz</code> ä¸‹è½½å®Œæˆåè§£å‹ <code>tar zxvf wordpress-5.0.3-zh_CN.tar.gz -C /var/www/html/</code> å¦‚æœæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šæƒ…å†µï¼Œwordpress åº”è¯¥å·²ç»å®‰è£…å®Œæˆã€‚ è§£å‹å®Œæˆåå…ˆåˆ é™¤ html è·¯å¾„ä¸‹çš„ index.html æ–‡ä»¶ï¼Œç„¶åè¿›å…¥ wordpress ç›®å½•ï¼š <strong>åˆ é™¤ index.html</strong> <code>rm /var/www/html/index.html</code> <strong>è¿›å…¥ Wordpress ç›®å½•</strong> <code>cd /var/www/html/wordpress</code> <strong>å¤åˆ¶æ‰€æœ‰æ–‡ä»¶åˆ°ä¸Šä¸€è·¯å¾„</strong> <code>cp -r * ..</code> ç„¶åæˆæƒè¯¥è·¯å¾„ï¼Œé¿å…åœ¨ä¹‹å wordpress é…ç½®æˆ–æ˜¯å®‰è£…æ’ä»¶ç­‰æœ‰ä¸å¿…è¦éº»çƒ¦ï¼š <code>chmod -R 777 /var/www/html/</code> è¿™æ¡å‘½ä»¤ä¿è¯åœ¨ä¹‹åçš„wordpressé…ç½®å’Œæ“ä½œä¸å—æƒé™å½±å“ã€‚</p>
<h1 id="å¤§åŠŸå‘Šæˆï¼"><a href="#å¤§åŠŸå‘Šæˆï¼" class="headerlink" title="å¤§åŠŸå‘Šæˆï¼"></a>å¤§åŠŸå‘Šæˆï¼</h1><p>å¥½äº†ï¼Œæ¥ä¸‹æ¥é…ç½®wordpressã€‚ åœ¨æµè§ˆå™¨è¾“å…¥ä½ çš„å…¬ç½‘ ipï¼Œå¦‚æœå·²ç»ç»‘å®šåŸŸåç›´æ¥è¾“å…¥åŸŸåå³å¯ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥é…ç½®è‡ªå·±çš„åšå®¢å§ï¼</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>wordpress</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºHexoçš„ä¸ªäººåšå®¢æ­å»º</title>
    <url>/32.html</url>
    <content><![CDATA[<p><img src="https://i.udemycdn.com/course/750x422/1406428_0f0a.jpg"> ä¹‹å‰ä»‹ç»äº†åŸºäº typecho æ¡†æ¶æ­å»ºä¸ªäººç½‘ç«™çš„æ•™ç¨‹ï¼Œæœ‰éƒ¨åˆ†å°ä¼™ä¼´é—®æœ‰æ²¡æœ‰ä¸ç”¨æœåŠ¡å™¨çš„å…è´¹åšå®¢æ¡†æ¶ï¼Œè¿˜çœŸæœ‰ã€‚é‚£å°±æ˜¯æœ‰åçš„ Hexoã€‚è¿™ä¸ªåšå®¢æ¡†æ¶å±äºé™æ€åšå®¢çš„ä¸€ç§ï¼Œåªè¦å°† Hexo æ–‡ä»¶éƒ¨ç½²åˆ° GitHub é¡µé¢ä¸Šï¼Œåšå®¢å°±å¯ä»¥è¿è¡Œäº†ï¼ŒåŒæ—¶ä¹Ÿä¼šç”ŸæˆåŸŸåï¼Œè¿è´­ä¹°åŸŸåçš„é’±éƒ½çœä¸‹æ¥äº†ã€‚</p>
<a id="more"></a>
<p>æˆ‘ä»¬çš„åšå®¢æ˜¯åŸºäº Hexo çš„ï¼Œå®˜ç½‘çš„æè¿°åªæœ‰ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>A fast, simple, powerful blog framework.</p>
</blockquote>
<p>å½“ä½ çœ‹å®Œè¿™ç¯‡æ•™ç¨‹ä»¥åï¼Œä½ ä¼šè§‰å¾—çš„ç¡®æ˜¯è¿™æ ·ã€‚</p>
<h1 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h1><p>åœ¨ä½¿ç”¨ Hexo ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å®‰è£… Node.js è¿è¡Œç¯å¢ƒã€‚ ç®€å•çš„è¯´ Node.js å°±æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ JavaScriptï¼Œä¸€ä¸ªåŸºäº Chrome JavaScript è¿è¡Œæ—¶å»ºç«‹çš„ä¸€ä¸ªå¹³å°ï¼Œä¸€ä¸ªäº‹ä»¶é©±åŠ¨ I/O æœåŠ¡ç«¯ JavaScript ç¯å¢ƒï¼ŒåŸºäº Google çš„ V8 å¼•æ“ï¼ŒV8 å¼•æ“æ‰§è¡Œ Javascript çš„é€Ÿåº¦éå¸¸å¿«ï¼Œæ€§èƒ½éå¸¸å¥½ã€‚</p>
<h2 id="å®‰è£…-Node-js"><a href="#å®‰è£…-Node-js" class="headerlink" title="å®‰è£… Node.js"></a>å®‰è£… Node.js</h2><p>é¦–å…ˆè¦å»å®˜ç½‘å®‰è£… Node.jsã€‚ å®˜ç½‘åœ°å€ï¼š<a href="https://nodejs.org/en/">https://nodejs.org/en/</a> <img src="https://i.loli.net/2020/04/16/XGPDVT1MhmtjQuB.png" alt="å®‰è£… Nodejs"> ç½‘ç«™ä¼šè‡ªåŠ¨åˆ¤æ–­æ“ä½œç³»ç»Ÿï¼Œè¿™é‡Œé€‰æ‹© 12.16.2 LTSï¼Œä¸‹è½½åç›´æ¥å®‰è£…å³å¯ã€‚</p>
<h2 id="è®¾ç½®æ·˜å®npmé•œåƒ"><a href="#è®¾ç½®æ·˜å®npmé•œåƒ" class="headerlink" title="è®¾ç½®æ·˜å®npmé•œåƒ"></a>è®¾ç½®æ·˜å®npmé•œåƒ</h2><p>å®‰è£…å¥½ Node.js ä¹‹åï¼Œé¦–å…ˆè¦åšçš„äº‹æ˜¯ä½¿ç”¨æ·˜å® npm é•œåƒåŠ é€Ÿï¼Œä¸ç„¶ä¸‹è½½é€Ÿåº¦å·¨æ…¢ã€‚ è¾“å…¥å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">npm config <span class="hljs-built_in">set</span> registry https://registry.npm.taobao.org<br></code></pre></td></tr></table></figure>

<h1 id="å®‰è£…-Hexo"><a href="#å®‰è£…-Hexo" class="headerlink" title="å®‰è£… Hexo"></a>å®‰è£… Hexo</h1><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">npm install hexo-cli -g<br></code></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¼€å§‹æ­å»ºå±äºè‡ªå·±çš„åšå®¢äº†ã€‚å¦‚æœæŠ¥é”™ï¼Œåº”è¯¥æ˜¯æƒé™é—®é¢˜ã€‚ Windows ç³»ç»Ÿä½¿ç”¨ç®¡ç†å‘˜æ¨¡å¼è¿è¡Œ cmdï¼Œå¦‚æœæ˜¯ Linux æˆ– Mac å¯ä»¥åœ¨å‘½ä»¤å‰æ·»åŠ  sudo ä½¿ç”¨ç®¡ç†å‘˜æ¨¡å¼æ‰§è¡Œå‘½ä»¤ã€‚</p>
<h1 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h1><p>åªéœ€è¦ç®€å•çš„ 4 è¡Œå‘½ä»¤ï¼Œå³å¯è¿è¡Œåšå®¢ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">hexo init blog<br><br><span class="hljs-built_in">cd</span> blog<br><br>npm install<br><br>hexo s -g<br></code></pre></td></tr></table></figure>

<p>å…·ä½“ä»‹ç»ä¸€ä¸‹è¿™å››è¡Œå‘½ä»¤ã€‚</p>
<ol>
<li><code>hexo init blog</code> åœ¨å½“å‰è·¯å¾„ä¸‹åˆ›å»º blog æ–‡ä»¶å¤¹ï¼Œç”¨æ¥åˆå§‹åŒ–åšå®¢æ¡†æ¶ï¼Œå­˜æ”¾é…ç½®æ–‡ä»¶å’Œä»£ç ã€‚æ¥ä¸‹æ¥éœ€è¦ç­‰å¾… Hexo æ¡†æ¶åœ¨ blog æ–‡ä»¶å¤¹ä¸‹è‡ªåŠ¨ç”Ÿæˆä¸€äº›æ–‡ä»¶ã€‚</li>
<li><code>cd blog</code> è¿›å…¥ blog æ–‡ä»¶å¤¹ä¸‹ã€‚</li>
<li><code>npm install</code> å®‰è£…åšå®¢æ‰€éœ€çš„ä¾èµ–ã€‚</li>
<li><code>hexo s -g</code> ç”Ÿæˆé™æ€é¡µé¢å’Œå¯åŠ¨æœ¬åœ°æœåŠ¡çš„å‘½ä»¤ï¼šå¯åŠ¨æˆåŠŸä¼šæç¤ºæ‰“å¼€ <code>http://localhost:4000/</code>ï¼ŒæŒ‰ä¸‹ <code>Ctrl+C</code> åœæ­¢ã€‚</li>
</ol>
<p>æ‰“å¼€ç½‘å€å°±å¯ä»¥çœ‹åˆ°åˆšæ‰ç”Ÿæˆçš„é™æ€é¡µé¢äº†ã€‚ <img src="https://i.loli.net/2020/04/16/e1ONHa4gobfUCGy.png" alt="åšå®¢é¦–é¡µ"> è¿™é‡Œæœ‰ä¸€äº› Hexo å¸¸ç”¨çš„å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">hexo new<span class="hljs-string">&quot;postName&quot;</span>           <span class="hljs-comment"># æ–°å»ºæ–‡ç« </span><br>hexo new page<span class="hljs-string">&quot;pageName&quot;</span>      <span class="hljs-comment"># æ–°å»ºé¡µé¢</span><br>hexo generate                <span class="hljs-comment"># ç”Ÿæˆé™æ€é¡µé¢è‡³ public ç›®å½•</span><br>hexo server                  <span class="hljs-comment"># å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£ 4000ï¼Œctrl + c å…³é—­ serverï¼‰</span><br>hexo deploy                  <span class="hljs-comment"># å°† .deploy ç›®å½•éƒ¨ç½²åˆ°æŒ‡å®šç©ºé—´</span><br>hexo <span class="hljs-built_in">help</span>                    <span class="hljs-comment"># æŸ¥çœ‹å¸®åŠ©</span><br>hexo version                 <span class="hljs-comment"># æŸ¥çœ‹ Hexo çš„ç‰ˆæœ¬</span><br></code></pre></td></tr></table></figure>

<h1 id="éƒ¨ç½²ç¯å¢ƒ"><a href="#éƒ¨ç½²ç¯å¢ƒ" class="headerlink" title="éƒ¨ç½²ç¯å¢ƒ"></a>éƒ¨ç½²ç¯å¢ƒ</h1><p>æˆ‘ä»¬æŠŠåšå®¢éƒ¨ç½²åˆ° GitHub ä¸Šï¼Œæ‰€ä»¥é¦–å…ˆè¦æœ‰ GitHub è´¦æˆ·ï¼Œå¦‚æœä½ å·²ç»ç”³è¯·è¿‡å°±å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥äº†ã€‚</p>
<h2 id="æ­å»ºä»“åº“"><a href="#æ­å»ºä»“åº“" class="headerlink" title="æ­å»ºä»“åº“"></a>æ­å»ºä»“åº“</h2><p>è¿›å…¥ Github ç½‘ç«™æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œå®Œæˆé‚®ç®±è®¤è¯å°±å¯ä»¥å¼€å§‹é¡¹ç›®äº†ã€‚ åœ¨ Repository name ä¸€æ å¡«å…¥ <code>ä½ çš„ç”¨æˆ·å+github.io</code>ï¼Œæ¯”å¦‚æˆ‘çš„ç”¨æˆ·åæ˜¯ alpha87, Repository name å°±å†™ alpha87.github.ioã€‚æ³¨æ„ä»“åº“åç§°æ ¼å¼ï¼Œä¸€å®šæ˜¯ yourname.github.ioã€‚</p>
<h2 id="éƒ¨ç½²å…¬é’¥"><a href="#éƒ¨ç½²å…¬é’¥" class="headerlink" title="éƒ¨ç½²å…¬é’¥"></a>éƒ¨ç½²å…¬é’¥</h2><p>è¿›å…¥è´¦å·çš„ Personal setting é¡µé¢ï¼Œé€‰æ‹© SSH and GPG keysï¼Œè¿›å…¥å¯†é’¥é…ç½®é¡µé¢ã€‚å¡«å…¥æœ¬æœºå…¬é’¥ï¼Œç‚¹å‡» Add SSH keyã€‚ åˆ°è¿™é‡Œï¼Œä½ ä¸€å®šä¼šé—®ï¼ŒSSH å¯†é’¥å¯¹æ˜¯ä»€ä¹ˆï¼Œåœ¨å“ªèƒ½æ‰¾åˆ°ã€‚æ¥ä¸‹æ¥å°±å‘Šè¯‰ä½ å¦‚ä½•è·å–å¯†é’¥ã€‚</p>
<h2 id="è·å–å¯†é’¥"><a href="#è·å–å¯†é’¥" class="headerlink" title="è·å–å¯†é’¥"></a>è·å–å¯†é’¥</h2><h3 id="Windows-ç³»ç»Ÿ"><a href="#Windows-ç³»ç»Ÿ" class="headerlink" title="Windows ç³»ç»Ÿ"></a>Windows ç³»ç»Ÿ</h3><p>é¦–å…ˆéœ€è¦ä¸‹è½½ git for windowsã€‚ ä¸‹è½½å¥½ä»¥ååœ¨æ¡Œé¢å•å‡»å³é”®è¿è¡Œ <code>Git Bash here</code>ï¼Œè¾“å…¥ï¼š <code>ssh-keygen -t rsa -C &quot;git é‚®ç®±&quot;</code></p>
<h3 id="Mac-or-Linux"><a href="#Mac-or-Linux" class="headerlink" title="Mac or Linux"></a>Mac or Linux</h3><p>å¦‚æœæ˜¯ Mac æˆ–è€… Linux ç³»ç»Ÿï¼Œç›´æ¥è¾“å…¥ä¸Šè¾¹é‚£æ¡å‘½ä»¤ï¼Œå› ä¸º Mac æˆ– Linux ç³»ç»Ÿè‡ªå¸¦ gitã€‚ <code>ssh-keygen -t rsa -C &quot;git é‚®ç®±&quot;</code> ç„¶åä¼šæç¤ºä½ è¾“å…¥ key çš„åç§°ï¼Œç›´æ¥å›è½¦ï¼Œä¹‹åå¼¹å‡ºæ¥ä»€ä¹ˆéƒ½æŒ‰å›è½¦é»˜è®¤å€¼å°±è¡Œã€‚ ç„¶ååœ¨ç”¨æˆ·ç›®å½•ä¸‹æ‰¾åˆ° .ssh ç›®å½•ï¼Œæ‰¾åˆ° id_rsa.pub æ–‡ä»¶ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€ï¼Œå¤åˆ¶åˆ°åˆšæ‰éœ€è¦æ·»åŠ çš„ SSH key é‡Œå°±å¯ä»¥äº†ã€‚ ç„¶åè¾“å…¥ï¼š ssh -T <a href="mailto:git@github.com">git@github.com</a> å½“ä½ ç¬¬ä¸€æ¬¡ä½¿ç”¨ Git çš„ clone æˆ–è€… push å‘½ä»¤è¿æ¥ GitHub æ—¶ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªè­¦å‘Šï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">The authenticity of host <span class="hljs-string">&#x27;github.com (xx.xx.xx.xx)&#x27;</span> can<span class="hljs-string">&#x27;t be established.</span><br><span class="hljs-string">RSA key fingerprint is xx.xx.xx.xx.xx.</span><br><span class="hljs-string">Are you sure you want to continue connecting (yes/no)?</span><br></code></pre></td></tr></table></figure>

<p>è¾“å…¥ <code>yes</code>ï¼Œå¦‚æœè¿”å› <code>Hi yourname! Youâ€™ve successfully authenticated, but GitHub does not provide shell access.</code> åˆ™è¯´æ˜å…¬é’¥éƒ¨ç½²æˆåŠŸã€‚</p>
<h1 id="å‘å¸ƒç«™ç‚¹"><a href="#å‘å¸ƒç«™ç‚¹" class="headerlink" title="å‘å¸ƒç«™ç‚¹"></a>å‘å¸ƒç«™ç‚¹</h1><p>æƒ³è¦å‘å¸ƒç«™ç‚¹ï¼ˆä¹Ÿå°±æ˜¯ä½¿ç”¨åŸŸåè®¿é—®ï¼‰è¿˜å¾—è®¾ç½®ä¸€ä¸‹ï¼Œæ‰“å¼€ blog ç›®å½•ä¸‹çš„ _config.ymlã€‚åœ¨æœ€ä¸‹è¾¹æ‰¾åˆ° deployï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">deploy:<br>  <span class="hljs-built_in">type</span>: git<br>  repository: git@github.com:yourname/yourname.github.io.git<br>  branch: master<br></code></pre></td></tr></table></figure>

<p>yourname æ˜¯ä½ çš„ç”¨æˆ·åã€‚ å…ˆè¾“å…¥å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">npm install hexo-deployer-git --save<br></code></pre></td></tr></table></figure>

<p>ç„¶åè¾“å…¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">git config --global user.name <span class="hljs-string">&quot;ä½ çš„ç”¨æˆ·å&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;ä½ çš„é‚®ç®±&quot;</span><br></code></pre></td></tr></table></figure>

<p>ç„¶åéƒ¨ç½²ï¼š <code>hexo d -g</code> è¿™æ ·æ“ä½œä»¥åï¼Œæµè§ˆå™¨æ‰“å¼€ <a href="https://yourname.github.io/">https://yourname.github.io</a> å°±å¯ä»¥çœ‹åˆ°åˆšæ‰æœ¬åœ°é¢„è§ˆé¡µé¢äº†ã€‚</p>
<h1 id="ä¸°å¯Œçš„ä¸»é¢˜å’Œæ’ä»¶"><a href="#ä¸°å¯Œçš„ä¸»é¢˜å’Œæ’ä»¶" class="headerlink" title="ä¸°å¯Œçš„ä¸»é¢˜å’Œæ’ä»¶"></a>ä¸°å¯Œçš„ä¸»é¢˜å’Œæ’ä»¶</h1><p>åšå®¢ä¸èƒ½å°‘äº†ä¸°å¯Œçš„ä¸»é¢˜ï¼Œä¸»é¢˜è¶Šå¤šä¸ªæ€§åŒ–ä¹Ÿå°±è¶Šå¼ºã€‚Hexo æœ‰å¾ˆå¤šä¸»é¢˜ä¾›ä½ é€‰æ‹©ã€‚ <img src="https://i.loli.net/2020/04/16/WkMa3pshgqVjXoH.png"> Hexo ä¹Ÿæä¾›äº†å¤§é‡çš„æ’ä»¶ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½çš„ä½¿ç”¨ã€‚ä¾‹å¦‚å­—æ•°ç»Ÿè®¡ï¼Œç”¨æˆ·è®¿é—®é‡ç­‰ç­‰éƒ½æœ‰æ’ä»¶æ¥å®Œæˆã€‚ <img src="https://i.loli.net/2020/04/16/oTfgJkqmWbISDZx.png"> å¿«å»å°è¯•ä¸€ä¸‹å§ã€‚</p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>åšå®¢</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>å¢™å¤–ä¸æ˜¯æ³•å¤–</title>
    <url>/43.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2015/10/21/08/22/media-998990__480.jpg"></p>
<p>æ€»æœ‰æœ‹å‹é—®æˆ‘æ€ä¹ˆç”¨ Googleï¼Œæ€ä¹ˆçœ‹ YouTube çš„è§†é¢‘ç­‰ç­‰ç±»ä¼¼é—®é¢˜ã€‚</p>
<p>ç­”æ¡ˆå½“ç„¶æ˜¯æ‰¶æ¢¯ä¸Šç½‘äº†ã€‚</p>
<a id="more"></a>
<p>åªæ˜¯æƒ³çœ‹çœ‹è§†é¢‘ï¼Œç”¨ Google æŸ¥èµ„æ–™ï¼Œæ¯•ç«Ÿç™¾åº¦ä¸ä¼šç›´æ¥æ”¶å½• github ç›¸å…³é¡µé¢ï¼Œæ‰€ä»¥å¾ˆå¤šåŸºäº github æ­å»ºçš„é™æ€åšå®¢å¯èƒ½æ— æ³•è¢«ç™¾åº¦æ”¶å½•ï¼</p>
<p>æœåŠ¡å¯ä»¥è‡ªå»ºï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚éš¾é“åªæ˜¯ä¸ºäº†ä½¿ç”¨ Google è¿˜è¦è‡ªå·±è´­ä¹°æœåŠ¡å™¨æ¥é…ç½®å—ï¼Ÿ</p>
<p>è¿™é‡Œæä¾›ç¬¬äºŒç§åŠæ³•ï¼šè´­ä¹°æœºåœºã€‚</p>
<p>æ¨èä½¿ç”¨<strong>å¡è½¦æé€Ÿ</strong>ï¼Œä¸ä»…æœåŠ¡éå¸¸ç¨³å®šï¼Œè€Œä¸”æ€§ä»·æ¯”å¾ˆé«˜ã€‚</p>
<p>æˆ‘å·²ç»ä½¿ç”¨ä¸€å¹´äº†ã€‚</p>
<p>è¿™ä¸ªç½‘ç«™æ˜¯å…ˆæ³¨å†Œåä½¿ç”¨ï¼ˆä¸è¿‡å¥½åƒè¿™ç±»ç½‘ç«™éƒ½æ˜¯è¿™æ ·ä½¿ç”¨é¡ºåºï¼‰ã€‚</p>
<p>ç‚¹å‡»<strong>å¥—é¤è´­ä¹°</strong>å¯ä»¥çœ‹åˆ°å„ç§å¥—é¤ã€‚</p>
<p><img src="https://i.loli.net/2020/01/30/LM3Wh8VrZu61fRX.png" alt="å„ç§å¥—é¤"></p>
<p>æƒ³è¯•ç”¨çš„è¯ï¼Œå»ºè®®è´­ä¹° <strong>æ ‡å‡†ç‰ˆA-æœˆä»˜</strong>ï¼Œä¸€ä¸ªæœˆåªéœ€è¦ 12 å…ƒï¼Œä¸è®ºæ˜¯ä½¿ç”¨ Google ç›¸å…³æœåŠ¡ï¼Œè¿˜æ˜¯è§‚çœ‹ YouTube 1080 è§†é¢‘ï¼Œéƒ½æ˜¯éå¸¸é¡ºæ»‘æ— å¡é¡¿ã€‚</p>
<p><img src="https://i.loli.net/2020/02/18/agb2TpGeL9Il8S1.png"></p>
<p>å†³å®šè¦è´­ä¹°äº†ï¼ŒåŒæ ·æ¨èè´­ä¹° <strong>æ ‡å‡†ç‰ˆA - å¹´ä»˜</strong>ã€‚è¿™ä¸¤ä¸ªå¥—é¤å±äºåŒç±»å¥—é¤ã€‚</p>
<p>å»ºè®®ç”¨æˆ·ç›´æ¥å…¥æ‰‹ Vip2 åŠä»¥ä¸Šï¼Œå› ä¸º Vip1 éƒ¨åˆ†çº¿è·¯ä¼šå—å¢™çš„å½±å“ä¸ç¨³å®šã€‚</p>
<p>å¦‚æœæµé‡ä¸å¤Ÿç”¨ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æŒ‘é€‰åˆé€‚çš„æµé‡å’Œé€Ÿç‡ã€‚</p>
<p><strong>ä¸­è½¬çº¿è·¯æ˜¯éå¸¸ç¨³å®šçš„ã€‚ç†è®ºä¸Šå¢™é«˜ä¹Ÿä¸ä¼šå½±å“ç¨³å®šæ€§ã€‚èŠ‚ç‚¹è¿˜å¯ä»¥è§£é” Netflixã€‚</strong></p>
<hr>
<p><strong>å›åˆ°æ ‡é¢˜ï¼Œå¢™å¤–ä¸æ˜¯æ³•å¤–ã€‚å¸Œæœ›æ¯ä¸€ä¸ªæ‰¶æ¢¯ç”¨æˆ·éƒ½å¯ä»¥æ“¦äº®çœ¼ç›ï¼Œæ˜è¾¨æ˜¯éã€‚</strong></p>
<p>ğŸ‘‰ æ³¨å†Œé“¾æ¥ï¼š<a href="https://kcjisu.casa/auth/register?code=yeMm">å¡è½¦æé€Ÿ</a></p>
<p>ğŸ‘‰ å„å¹³å°å·¥å…·ä¸‹è½½ï¼š<a href="https://yadi.sk/d/hG24IyGT3MxUrF">å·¥å…·é›†åˆ</a></p>
<p>ğŸ‘‰ æ³¨å†Œä»¥åå¯ä»¥æŸ¥çœ‹ä½¿ç”¨æ•™ç¨‹ï¼š<a href="https://www.kcjisu.live/user/tutorial">æ•™ç¨‹</a></p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>ç§‘å­¦ä¸Šç½‘</tag>
        <tag>æœºåœºæ¨è</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•å®ç°ç®€å•çš„å¾®ä¿¡æœºå™¨äºº</title>
    <url>/45.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/10/18/19/40/anatomy-1751201__480.png"> æœ€è¿‘å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„é¡¹ç›®ï¼Œåˆ©ç”¨Pythonåˆ¶ä½œä¸€ä¸ªç®€å•çš„å¾®ä¿¡æœºå™¨äººã€‚æ€è·¯å°±æ˜¯å¾®ä¿¡è·å–åˆ°ä¿¡æ¯ï¼Œç„¶åæ¥å…¥å›¾çµæœºå™¨äººçš„APIï¼Œå†æŠŠä¿¡æ¯å‘é€ç»™å¯¹æ–¹ã€‚å¬èµ·æ¥å¾ˆæœ‰æ„æ€ï¼Œå®è·µä¸€ä¸‹å§ï¼</p>
<a id="more"></a>
<p><a href="http://olzlqlgy5.bkt.clouddn.com/tuling.jpg"><img src="http://olzlqlgy5.bkt.clouddn.com/tuling.jpg" alt="img"></a></p>
<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><h2 id="itchat"><a href="#itchat" class="headerlink" title="itchat"></a>itchat</h2><p>æ—¢ç„¶è¦åœ¨Pythonä¸­æ¥å…¥å¾®ä¿¡ï¼Œä¸€å®šå°‘ä¸äº†å’Œå¾®ä¿¡æœ‰å…³çš„åº“ï¼š<strong>itchat</strong>ã€‚ itchatæ˜¯ä¸€ä¸ªå¼€æºçš„å¾®ä¿¡ä¸ªäººå·æ¥å£ï¼Œä½¿ç”¨pythonè°ƒç”¨å¾®ä¿¡ä»æœªå¦‚æ­¤ç®€å•ã€‚ä½¿ç”¨ä¸åˆ°ä¸‰åè¡Œçš„ä»£ç ï¼Œä½ å°±å¯ä»¥å®Œæˆä¸€ä¸ªèƒ½å¤Ÿå¤„ç†æ‰€æœ‰ä¿¡æ¯çš„å¾®ä¿¡æœºå™¨äººã€‚æœ‰äº†è¿™ä¸ªåº“æˆ‘ä»¬å°±å¯ä»¥å®Œæˆä¸€ç³»åˆ—çš„æ“ä½œäº†ã€‚<a href="http://itchat.readthedocs.io/zh/latest/">itchatå®˜æ–¹æ–‡æ¡£</a> ä½¿ç”¨<code>pip install itchat</code>å®‰è£…ã€‚</p>
<h2 id="å›¾çµæœºå™¨äºº"><a href="#å›¾çµæœºå™¨äºº" class="headerlink" title="å›¾çµæœºå™¨äºº"></a>å›¾çµæœºå™¨äºº</h2><p>å›¾çµæœºå™¨äººæ˜¯ä¸­æ–‡è¯­å¢ƒä¸‹æ™ºèƒ½åº¦æœ€é«˜çš„æœºå™¨äººå¤§è„‘ï¼Œå·²ä¸ºè¶…è¿‡23ä¸‡å®¶ä¼ä¸šå’Œå¼€å‘è€…æä¾›æœåŠ¡ï¼Œå¹¿æ³›åº”ç”¨äºæœºå™¨äººã€æ™ºèƒ½å®¶å±…ã€æ™ºèƒ½è½¦è½½ã€æ™ºèƒ½å®¢æœã€å¯ç©¿æˆ´è®¾å¤‡ç­‰ä¼—å¤šåœºæ™¯ã€‚<a href="http://www.tuling123.com/">å›¾çµæœºå™¨äººå®˜æ–¹ç½‘ç«™</a>ã€‚ <a href="http://www.tuling123.com/resources/web/v4/img/index/index_logo.png"><img src="http://www.tuling123.com/resources/web/v4/img/index/index_logo.png" alt="img"></a></p>
<h1 id="é¡¹ç›®"><a href="#é¡¹ç›®" class="headerlink" title="é¡¹ç›®"></a>é¡¹ç›®</h1><h2 id="å¾®ä¿¡"><a href="#å¾®ä¿¡" class="headerlink" title="å¾®ä¿¡"></a>å¾®ä¿¡</h2><p>æœ‰äº†itchatï¼Œå¦‚æœä½ æƒ³è¦ç»™æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹å‘ä¸€æ¡ä¿¡æ¯ï¼Œåªéœ€è¦è¿™æ ·ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> itchat<br><br>itchat.auto_login()<br>itchat.send(<span class="hljs-string">&#x27;Hello, filehelper&#x27;</span>, toUserName=<span class="hljs-string">&#x27;filehelper&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p><strong>æ³¨æ„toUserNameæ˜¯å¾®ä¿¡IDï¼Œä¸æ˜¯æ˜µç§°æˆ–å¤‡æ³¨ã€‚</strong> å†æ”¾ä¸€æ®µç®€å•çš„ä»£ç æ„Ÿå—ä¸€ä¸‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> itchat<br><br><span class="hljs-meta">@itchat.msg_register(itchat.content.TEXT)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">textReply</span>(<span class="hljs-params">msg</span>):</span><br>    <span class="hljs-keyword">if</span> msg[<span class="hljs-string">&#x27;Type&#x27;</span>] == itchat.content.TEXT:<br>        <span class="hljs-keyword">return</span>  <span class="hljs-string">&#x27;I received: %s&#x27;</span> %msg[<span class="hljs-string">&#x27;Text&#x27;</span>]<br><br>itchat.auto_login()<br>itchat.run()<br></code></pre></td></tr></table></figure>

<p>è¿è¡Œåä¼šå¼¹å‡ºä¸€ä¸ªäºŒç»´ç ï¼Œæ‰«æä»¥åä¼šä½¿ç”¨ç½‘é¡µç‰ˆå¾®ä¿¡ç™»å½•ã€‚å¦‚æœè¿™æ—¶æœ‰äººå’Œä½ èŠå¤©å°±ä¼šè‡ªåŠ¨å›å¤ï¼šâ€œI receivedï¼šï¼ˆä¿¡æ¯ï¼‰â€ã€‚è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºèŒƒï¼Œå¯ä»¥çœ‹ä¸€ä¸‹itchatçš„ä»‹ç»ï¼Œå…¶ä»–æ–¹æ³•çš„ä»£ç ä¹Ÿå¾ˆç®€å•ã€‚</p>
<h3 id="å‘½ä»¤è¡ŒäºŒç»´ç "><a href="#å‘½ä»¤è¡ŒäºŒç»´ç " class="headerlink" title="å‘½ä»¤è¡ŒäºŒç»´ç "></a>å‘½ä»¤è¡ŒäºŒç»´ç </h3><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯ä»¥åœ¨ç™»é™†çš„æ—¶å€™ä½¿ç”¨å‘½ä»¤è¡Œæ˜¾ç¤ºäºŒç»´ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">itchat.auto_login(enableCmdQR&#x3D;True)<br></code></pre></td></tr></table></figure>

<p>éƒ¨åˆ†ç³»ç»Ÿå¯èƒ½å­—å¹…å®½åº¦æœ‰å‡ºå…¥ï¼Œå¯ä»¥é€šè¿‡å°†enableCmdQRèµ‹å€¼ä¸ºç‰¹å®šçš„å€æ•°è¿›è¡Œè°ƒæ•´ï¼Œå¦‚éƒ¨åˆ†çš„linuxç³»ç»Ÿï¼Œå—å­—ç¬¦çš„å®½åº¦ä¸ºä¸€ä¸ªå­—ç¬¦ï¼ˆæ­£å¸¸åº”ä¸ºä¸¤å­—ç¬¦ï¼‰ï¼Œæ•…èµ‹å€¼ä¸º2ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">itchat.auto_login(enableCmdQR&#x3D;2)<br></code></pre></td></tr></table></figure>

<p>é»˜è®¤æ§åˆ¶å°èƒŒæ™¯è‰²ä¸ºæš—è‰²ï¼ˆé»‘è‰²ï¼‰ï¼Œè‹¥èƒŒæ™¯è‰²ä¸ºæµ…è‰²ï¼ˆç™½è‰²ï¼‰ï¼Œå¯ä»¥å°†enableCmdQRèµ‹å€¼ä¸ºè´Ÿå€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">itchat.auto_login(enableCmdQR&#x3D;-1)<br></code></pre></td></tr></table></figure>

<h3 id="é€€å‡ºç¨‹åºåæš‚å­˜ç™»é™†çŠ¶æ€"><a href="#é€€å‡ºç¨‹åºåæš‚å­˜ç™»é™†çŠ¶æ€" class="headerlink" title="é€€å‡ºç¨‹åºåæš‚å­˜ç™»é™†çŠ¶æ€"></a>é€€å‡ºç¨‹åºåæš‚å­˜ç™»é™†çŠ¶æ€</h3><p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤ç™»é™†ï¼Œå³ä½¿ç¨‹åºå…³é—­ï¼Œä¸€å®šæ—¶é—´å†…é‡æ–°å¼€å¯ä¹Ÿå¯ä»¥ä¸ç”¨é‡æ–°æ‰«ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">itchat.auto_login(hotReload&#x3D;True)<br></code></pre></td></tr></table></figure>

<h2 id="å›¾çµAPI"><a href="#å›¾çµAPI" class="headerlink" title="å›¾çµAPI"></a>å›¾çµAPI</h2><p>ç™»å½•å›¾çµæœºå™¨äººå®˜æ–¹ç½‘ç«™<a href="http://www.tuling123.com/">http://www.tuling123.com/</a>ï¼Œç‚¹å‡»å³ä¸Šè§’â€œæ³¨å†Œâ€æŒ‰é’®è¿›è¡Œæ³¨å†Œå¹¶æ¿€æ´»å¸å·ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š <a href="http://www.tuling123.com/resources/web/v4/img/docs/w_pic09.png"><img src="http://www.tuling123.com/resources/web/v4/img/docs/w_pic09.png" alt="img"></a></p>
<blockquote>
<p>æ¯ä¸€ä¸ªæ¿€æ´»ç”¨æˆ·éƒ½å¯ä»¥é€šè¿‡å›¾çµæœºå™¨äººå¼€æ”¾å¹³å°è·å–å¤šä¸ªAPIKEYï¼ˆå½“å‰æ¯ä¸ªç”¨æˆ·å¯æœ€å¤šè·å–5ä¸ªAPIKEYï¼‰ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è·å–ä¸åŒçš„å›¾çµAPIKEYæ¥åº”ç”¨äºå¤šç§åœºæ™¯ï¼Œè·å–æˆåŠŸåå°±ç­‰äºæ‹¿åˆ°äº†å¼€å¯å›¾çµæœåŠ¡çš„é’¥åŒ™ã€‚</p>
</blockquote>
<p>æ¥å£åœ°å€ï¼š<a href="http://www.tuling123.com/openapi/api">http://www.tuling123.com/openapi/api</a> è¯·æ±‚æ–¹å¼ä¸ºPOSTï¼Œè¯·æ±‚å‚æ•°æ ¼å¼ä¸ºjsonã€‚<a href="http://www.tuling123.com/help/h_cent_webapi.jhtml?nav=doc">å›¾çµæœºå™¨äººAPIä»‹ç»</a>ã€‚ ç™»å½•ä»¥åè®¾ç½®å¥½è‡ªå·±çš„æœºå™¨äººï¼Œç„¶åç´§æ¥ç€ä½¿ç”¨ä¸‹è¾¹çš„ä»£ç ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#coding=utf-8</span><br><span class="hljs-keyword">import</span> itchat<br><span class="hljs-keyword">from</span> itchat.content <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-meta">@itchat.msg_register([TEXT])</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">textReply</span>(<span class="hljs-params">msg</span>):</span><br>    info = msg[<span class="hljs-string">&#x27;Text&#x27;</span>].encode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>    print(info)<br>    url = <span class="hljs-string">&quot;http://www.tuling123.com/openapi/api&quot;</span><br>    data = &#123;<br>        <span class="hljs-string">&quot;key&quot;</span>:<span class="hljs-string">&quot;d6cb72***********9b49ed45cb3&quot;</span>,<br>        <span class="hljs-string">&quot;info&quot;</span>:info,<br>        <span class="hljs-string">&quot;loc&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;userid&quot;</span>:<span class="hljs-string">&quot;&quot;</span><br>    &#125;<br>    apicon=requests.post(url,data).text<br>    s=json.loads(apicon,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)<br>    print(<span class="hljs-string">&quot;å›¾çµå›å¤&quot;</span>,s)<br>    itchat.send(s[<span class="hljs-string">&#x27;text&#x27;</span>],msg[<span class="hljs-string">&#x27;FromUserName&#x27;</span>])<br>itchat.auto_login(<span class="hljs-literal">True</span>)<br>itchat.run()<br></code></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç å¯ä»¥ç†è§£ä¸ºè·å–åˆ°å¾®ä¿¡ä¿¡æ¯ç„¶åè½¬åˆ°å›¾çµæœºå™¨äººAPIï¼Œè§£ææ•°æ®ä»¥åå†å›å¤æ¶ˆæ¯ã€‚è¿™æ ·å°±å¯ä»¥ä»£æ›¿ä½ å’Œåˆ«äººèŠå¤©äº†ï¼Œè€Œä¸”è¿™ä¸ªæœºå™¨äººè¿˜æœ‰å¾ˆå¤šä¸°å¯Œçš„åŠŸèƒ½ã€‚ ç›®å‰å·²çŸ¥çš„é—®é¢˜ï¼šåœ¨æˆ‘é—®ä»–å…³äºè½¦æ¬¡ï¼Œæˆ–è€…åªè¦æ¶‰åŠåˆ°URLçš„æ—¶å€™ï¼Œå°±æ”¶ä¸åˆ°æ¶ˆæ¯ï¼Œå³ä½¿åœ¨æ¶ˆæ¯å›å¤ä¸­åŠ å…¥äº†<code>s[&#39;url&#39;]</code>ä¹Ÿä¸èƒ½æ­£ç¡®è·å–ä¿¡æ¯ã€‚ 2017å¹´4æœˆ30æ—¥æ›´æ–°ï¼š å¦‚æœä½ æƒ³è®©è¿™ä¸ªç¨‹åºä¸€ç›´è¿è¡Œï¼Œä½ å¿…é¡»æœ‰ä¸€ä¸ªé—²ç½®çš„å¾®ä¿¡å·ï¼Œå’Œä¸€å°äº‘æœåŠ¡å™¨ã€‚ ç™»å½•ä½ çš„äº‘æœåŠ¡å™¨ï¼Œå®‰è£…<code>screen</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">pip install screen<br></code></pre></td></tr></table></figure>

<p>å®‰è£…å¥½è¾“å…¥<code>screen</code>å°±è¿›å…¥äº†screenä¼šè¯ï¼Œè¿™æ ·æ–­å¼€sshè¿æ¥è¿™ä¸ªä¼šè¯ä¹Ÿä¸ä¼šåœæ­¢ã€‚ å†æ¬¡è¿è¡Œå‘½ä»¤ï¼Œç™»å½•å¾®ä¿¡ï¼Œè¿™æ ·ä½ çš„æœºå™¨äººå°±ä¸€ç›´åœ¨çº¿å•¦ï¼</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>è„šæœ¬</tag>
        <tag>å¾®ä¿¡</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ç”¨ PhotoShop åˆ¶ä½œå‡ºé•‚ç©ºçš„æµ·æŠ¥æ•ˆæœ</title>
    <url>/46.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/03/27/19/16/buckled-book-2180047__480.jpg"> ä»‹ç»ä¸€ç§ç®€å•å¤§æ°”çš„æµ·æŠ¥åˆ¶ä½œæŠ€å·§ï¼Œå±•ç¤ºä¸€ç§é•‚ç©ºå­—ä½“çš„æ•ˆæœã€‚</p>
<a id="more"></a>
<p>æœ€ç»ˆçš„æ•ˆæœæ˜¯è¿™æ ·çš„ï¼š <img src="https://ws3.sinaimg.cn/large/006tNc79ly1g22fqy85n9j315o0rs7c8.jpg"> é¦–å…ˆæˆ‘ä»¬è¦åœ¨ <a href="https://unsplash.com/">unsplash</a> ç½‘ç«™ä¸Šæ‰¾ä¸€å¼ ç´ æï¼Œå°±ä»¥è¿™å¼ ä¸ºä¾‹ï¼š <img src="https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjU1MzA3fQ&auto=format&fit=crop&w=1500&q=80"> æ‰“å¼€ PhotoShop CC 2019ï¼ŒæŒ‰ä¸‹ <code>Command+R</code>å¤åˆ¶ä¸€ä¸ªæ–°çš„å›¾å±‚ã€‚é¿å…æ”¹åŠ¨åŸå›¾åå¯èƒ½é€ æˆä¸å¯æŒ½å›çš„æŸå¤±ã€‚ ç„¶åæˆ‘ä»¬æ–°å»ºä¸€ä¸ªå›¾å±‚ï¼Œå°±å¯ä»¥åœ¨è¿™ä¸ªå›¾å±‚æ·»åŠ èƒŒæ™¯äº†ã€‚ <img src="https://ws1.sinaimg.cn/large/006tNc79ly1g22fazwwloj31ek0u0hdv.jpg"> æˆ‘ä»¬ç°åœ¨æ–°å»ºçš„å›¾å±‚æ·»åŠ ä¸€åŠçš„é»‘è‰²çŸ©å½¢ï¼Œå½“ç„¶ä»€ä¹ˆé¢œè‰²éƒ½å¯ä»¥ï¼Œæ ¹æ®èƒŒæ™¯è‰²æ¥å®šã€‚ æˆ‘ä»¬å†æ–°å»ºä¸€ä¸ªå›¾å±‚ç”¨æ¥æ·»åŠ æ–‡å­—ï¼Œå¯ä»¥åŠ å…¥æ ‡é¢˜ã€‚ è®¾å®šå¥½å­—ä½“å’Œå¤§å°åï¼ŒæŒ‰ä½<code>Command</code>ç‚¹å‡»å­—ä½“å›¾å±‚å‰é¢çš„<code>T</code>è½½å…¥é€‰åŒºã€‚å¯ä»¥çœ‹åˆ°æ–‡å­—å‘¨å›´æœ‰åŠ¨æ€çš„è™šçº¿ã€‚ æˆ‘ä»¬æ˜¯ä¸èƒ½ç›´æ¥ä¿®æ”¹æœ‰çŸ©å½¢çš„å›¾å±‚çš„ï¼Œéœ€è¦è¿›è¡Œæ …æ ¼åŒ–å¤„ç†ï¼Œå•å‡»å³é”®é»‘è‰²çŸ©å½¢å›¾å±‚ï¼Œæ …æ ¼åŒ–å›¾å±‚ã€‚ <img src="https://ws1.sinaimg.cn/large/006tNc79ly1g22fto0ztej30c80qm0wy.jpg"> ç„¶åæŒ‰é”®ç›˜ä¸Šçš„<code>Delete</code>æˆ–è€…<code>fn+é€€æ ¼é”®</code>ã€‚ å°†æ–‡å­—å›¾å±‚éšè—åæˆ‘ä»¬å°±çœ‹åˆ°æœ‰é•‚ç©ºå­—ä½“çš„çŸ©å½¢å›¾å±‚äº†ï¼Œè¿™æ ·å°±å¤§åŠŸå‘Šæˆå•¦ï¼ æ˜¯ä¸æ˜¯å¾ˆç®€å•ã€‚ <img src="https://ws3.sinaimg.cn/large/006tNc79ly1g22g29nutsj31ek0u0e82.jpg"> <strong>æ³¨ï¼šå¦‚æœæ“ä½œå®Œæˆåè¿˜æœ‰åŠ¨æ€è™šçº¿ï¼Œä½¿ç”¨å¿«æ·é”® <code>Command+D</code> å–æ¶ˆé€‰åŒºã€‚</strong></p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>Photoshop</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•è‡ªåŠ¨æ•´ç†å¯¼å…¥åŒ…çš„é¡ºåº</title>
    <url>/379.html</url>
    <content><![CDATA[<p>é˜…è¯»è¿‡ã€ŠGoogle å¼€æºé¡¹ç›®é£æ ¼æŒ‡å—â€”â€”Python è¯­è¨€è§„èŒƒã€‹çš„åŒå­¦éƒ½ä¸€å®šçœ‹åˆ°è¿‡ï¼Œå¯¼å…¥åŒ…æ˜¯æœ‰ä¸€å®šé¡ºåºçš„ã€‚<a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/python_style_rules/#id13">å¦‚æœæ²¡æœ‰é˜…è¯»è¿‡å¯ä»¥ç‚¹è¿™é‡ŒæŸ¥çœ‹ã€‚</a></p>
<a id="more"></a>
<p><img src="https://i.loli.net/2020/07/13/jxuhqrOw4sdEBQJ.png"> è¿™ä¸€é‡å¤ä½†åˆå¿…è¦çš„å·¥ä½œæ˜¯å¦æœ‰å·¥å…·å¸®æˆ‘ä»¬å®Œæˆå‘¢ï¼Ÿ å¯ä»¥è¯•è¯• isortã€‚</p>
<h1 id="isort"><a href="#isort" class="headerlink" title="isort"></a>isort</h1><h2 id="é¡¹ç›®åœ°å€"><a href="#é¡¹ç›®åœ°å€" class="headerlink" title="é¡¹ç›®åœ°å€"></a>é¡¹ç›®åœ°å€</h2><p><a href="https://github.com/timothycrosley/isort">https://github.com/timothycrosley/isort</a></p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">python3 -m pip install isort -i https://mirrors.aliyun.com/pypi/simple<br></code></pre></td></tr></table></figure>

<p>å› ä¸ºè¿™ä¸ªå·¥å…·åœ¨ä»»ä½•é¡¹ç›®ä¸­éƒ½ä¼šä½¿ç”¨åˆ°ï¼Œæ‰€ä»¥å°±åœ¨ç³»ç»Ÿçš„é»˜è®¤ python ç¯å¢ƒä¸­å®‰è£…ã€‚å¦‚æœä½ åªæ˜¯æƒ³å°è¯•ä¸€ä¸‹ï¼Œä¹Ÿå¯ä»¥åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">pipenv install isort<br></code></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä½¿ç”¨æ•ˆæœã€‚ ä½¿ç”¨å‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> my_lib <span class="hljs-keyword">import</span> Object<br><br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-keyword">from</span> my_lib <span class="hljs-keyword">import</span> Object3<br><br><span class="hljs-keyword">from</span> my_lib <span class="hljs-keyword">import</span> Object2<br><br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">from</span> third_party <span class="hljs-keyword">import</span> lib15, lib1, lib2, lib3, lib4, lib5, lib6, lib7, lib8, lib9, lib10, lib11, lib12, lib13, lib14<br><br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> absolute_import<br><br><span class="hljs-keyword">from</span> third_party <span class="hljs-keyword">import</span> lib3<br><br>print(<span class="hljs-string">&quot;Hey&quot;</span>)<br>print(<span class="hljs-string">&quot;yo&quot;</span>)<br><br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨åï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> absolute_import<br><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">from</span> third_party <span class="hljs-keyword">import</span> (lib1, lib2, lib3, lib4, lib5, lib6, lib7, lib8,<br>                         lib9, lib10, lib11, lib12, lib13, lib14, lib15)<br><br><span class="hljs-keyword">from</span> my_lib <span class="hljs-keyword">import</span> Object, Object2, Object3<br><br>print(<span class="hljs-string">&quot;Hey&quot;</span>)<br>print(<span class="hljs-string">&quot;yo&quot;</span>)<br><br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">isort mypythonfile.py mypythonfile2.py<br></code></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">isort .<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>isort .</code> ä¼šæŠŠå½“å‰ç›®å½•åŠå­ç›®å½•å…¨éƒ¨æ ¼å¼åŒ– importï¼Œæœ‰ç‚¹ç±»ä¼¼ git å‘½ä»¤ä¸­çš„ <code>git add .</code>ã€‚ åœ¨ python ä¸­ä½¿ç”¨:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> isort<br><br><br>isort.file(<span class="hljs-string">&quot;pythonfile.py&quot;</span>)<br></code></pre></td></tr></table></figure>

<h2 id="åœ¨-PyCharm-ä¸­ä½¿ç”¨"><a href="#åœ¨-PyCharm-ä¸­ä½¿ç”¨" class="headerlink" title="åœ¨ PyCharm ä¸­ä½¿ç”¨"></a>åœ¨ PyCharm ä¸­ä½¿ç”¨</h2><p>å¦‚æœæˆ‘ä»¬ä¸æƒ³æ¯æ¬¡æ ¼å¼åŒ–å¯¼å…¥ä½¿ç”¨ isort å‘½ä»¤çš„è¯ï¼Œå¯ä»¥é…åˆ pycharm ä½¿ç”¨ã€‚ é¦–å…ˆæˆ‘ä»¬éœ€è¦ç¡®è®¤ä¸€ä¸‹ isort çš„å®‰è£…ä½ç½®ï¼š Mac ç³»ç»Ÿå¯ä»¥è¿™æ ·æŸ¥çœ‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">âœ  ~ <span class="hljs-built_in">which</span> isort<br>/Library/Frameworks/Python.framework/Versions/3.8/bin/isort<br></code></pre></td></tr></table></figure>

<p>ç„¶åéœ€è¦åœ¨ PyCharm ä¸­çš„ Preferences -&gt; Tools -&gt; Files Watchers ä¸­æ·»åŠ æ–°çš„å†…å®¹ï¼Œå…·ä½“å¯ä»¥çœ‹ä¸‹å›¾ï¼š <img src="https://i.loli.net/2020/07/13/d1npKX4QuDz5aBU.png"> è¿™æ ·æ¯æ¬¡åœ¨ PyCharm ä¿å­˜æ–‡ä»¶çš„æ—¶å€™ä¼šè‡ªåŠ¨æ ¼å¼åŒ– import å¯¼å…¥çš„åº“ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚æœ Ubuntu æ²¡å£°éŸ³æ€ä¹ˆåŠ</title>
    <url>/44.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2018/02/11/15/15/ubuntu-3145957__480.png"> å…ˆè¯´ä¸€ç§ç‰¹æ®Šçš„æƒ…å†µï¼Œå¦‚æœä½ æ˜¯åŒç³»ç»Ÿï¼Œå³æœ‰å¯èƒ½ä½ æ˜¯windowså’Œubuntuç³»ç»ŸåŒæ—¶ä½¿ç”¨çš„è¯ï¼Œå®Œæ•´å…³æœºä¸€æ¬¡å¯èƒ½é—®é¢˜å°±è§£å†³äº†ã€‚å¦‚æœæ²¡æœ‰è§£å†³å°±ç»§ç»­å¾€ä¸‹çœ‹ã€‚</p>
<a id="more"></a>
<p>æ‰“å¼€ç»ˆç«¯è¾“å…¥ï¼š <code>sudo apt-get install pavucontrol</code> å®‰è£…å®Œæˆåï¼š <code>pavucontrol</code> æ‰“å¼€è½¯ä»¶æŸ¥çœ‹éŸ³é‡æ˜¯å¦æ­£å¸¸ï¼Œå¦‚æœä¸æ­£å¸¸è°ƒè‡³100å³å¯ã€‚ å¦‚æœé‡å¯åè¿˜æœ‰é—®é¢˜ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨<code>sudo</code>æ¨¡å¼æ‰“å¼€ã€‚</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ mongoDBï¼ˆä¸€ï¼‰</title>
    <url>/77.html</url>
    <content><![CDATA[<p><img src="https://upload.wikimedia.org/wikipedia/commons/0/00/Mongodb.png"> å†³å®šè¦ç³»ç»Ÿå­¦ä¹ åœ¨Pythonä¸­ä½¿ç”¨mongoDBï¼Œé‚£å°±ä»çœ‹æ–‡æ¡£å¼€å§‹ã€‚</p>
<a id="more"></a>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†å¦‚ä½•å®‰è£…pymongoï¼Œå¦‚ä½•åœ¨Pythonä¸­è¿æ¥mongoDBï¼Œå¹¶åˆ›å»ºæ•°æ®åº“ï¼Œåˆ›å»ºé›†åˆï¼Œæ’å…¥æ•°æ®ã€‚</p>
<h1 id="MongoDBç®€ä»‹"><a href="#MongoDBç®€ä»‹" class="headerlink" title="MongoDBç®€ä»‹"></a>MongoDBç®€ä»‹</h1><p><a href="https://docs.mongodb.com/manual/">MongoDB</a>æ˜¯ä¸€ä¸ªå¼€æºçš„_æ–‡æ¡£æ•°æ®åº“_ï¼Œæä¾›é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨æ€§å’Œè‡ªåŠ¨æ‰©å±•ã€‚MongoDBä¸éœ€è¦å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰æ¥ä¿ƒè¿›å¼€å‘ã€‚</p>
<h1 id="PyMongo"><a href="#PyMongo" class="headerlink" title="PyMongo"></a>PyMongo</h1><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>pymongoæ˜¯Pythonçš„ç¬¬ä¸‰æ–¹åº“ï¼Œå…¶ä¸­åŒ…å«ç”¨äºå¤„ç†MongoDBçš„å·¥å…·ï¼Œé€šè¿‡Pythonå¤„ç†MongoDBã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åœ¨cmdä¸­è¾“å…¥å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">pip install pymongo<br></code></pre></td></tr></table></figure>

<p>å®‰è£…å¥½ä»¥åï¼Œåœ¨Pythonäº¤äº’å¼è§£é‡Šå™¨è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">import pymongo<br></code></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰æç¤ºé”™è¯¯è¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
<h2 id="è¿æ¥"><a href="#è¿æ¥" class="headerlink" title="è¿æ¥"></a>è¿æ¥</h2><p>åœ¨Pythonä¸­ä½¿ç”¨mongoDBï¼Œé¦–å…ˆè¦å¯¼å…¥åº“ã€‚å¯¼å…¥ä»¥åä½¿ç”¨MongoClientåˆ›å»ºè¿æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">client &#x3D; MongoClient()<br></code></pre></td></tr></table></figure>

<p>åœ†æ‹¬å·ä¸­çš„å‚æ•°å¯å†™å¯ä¸å†™ï¼Œå¦‚æœè¦åŠ å…¥å‚æ•°å¯ä»¥è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">client &#x3D; MongoClient(&#39;127.0.0.1&#39;, 27017)<br></code></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å®˜æ–¹æ–‡æ¡£ä¸­æä¾›çš„æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">client &#x3D; MongoClient(&quot;mongodb:&#x2F;&#x2F;mongodb0.example.net:27017&quot;)<br></code></pre></td></tr></table></figure>

<h2 id="è®¿é—®æ•°æ®åº“å¯¹è±¡"><a href="#è®¿é—®æ•°æ®åº“å¯¹è±¡" class="headerlink" title="è®¿é—®æ•°æ®åº“å¯¹è±¡"></a>è®¿é—®æ•°æ®åº“å¯¹è±¡</h2><p>åœ¨åˆ›å»ºå¥½è¿æ¥ä»¥åï¼Œå¯ä»¥è®¿é—®åŸæœ‰çš„æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­åˆ›å»ºæ–°çš„æ•°æ®åº“ã€‚ä¾‹å¦‚æˆ‘ä»¬è¦æ–°åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œåä¸ºâ€œprimerâ€ï¼Œå¯ä»¥è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">db &#x3D; client.primer<br></code></pre></td></tr></table></figure>

<p>æˆ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">db &#x3D; client[&#39;primer&#39;]<br></code></pre></td></tr></table></figure>

<p>çœ‹åˆ°è¿™é‡Œä½ ä¸€å®šå‘ç°äº†ï¼Œä½ å¯ä»¥åƒä½¿ç”¨Pythonä¸­çš„å­—å…¸ä¸€æ ·è®¿é—®æ•°æ®åº“ã€‚</p>
<h2 id="è®¿é—®é›†åˆå¯¹è±¡"><a href="#è®¿é—®é›†åˆå¯¹è±¡" class="headerlink" title="è®¿é—®é›†åˆå¯¹è±¡"></a>è®¿é—®é›†åˆå¯¹è±¡</h2><p>MongoDBå°†æ–‡æ¡£å­˜å‚¨åœ¨é›†åˆä¸­ã€‚é›†åˆç±»ä¼¼äºå…³ç³»æ•°æ®åº“ä¸­çš„è¡¨ã€‚ä½†æ˜¯ï¼Œä¸è¡¨ä¸åŒï¼Œé›†åˆä¸éœ€è¦å…¶æ–‡æ¡£å…·æœ‰ç›¸åŒçš„æ¨¡å¼ï¼Œæ„å‘³ç€å¯ä»¥æ’å…¥ä¸åŒæ ¼å¼çš„æ•°æ®ã€‚åœ¨MongoDBä¸­ï¼Œå­˜å‚¨åœ¨é›†åˆä¸­çš„æ–‡æ¡£å¿…é¡»æœ‰ä¸€ä¸ªå”¯ä¸€çš„_id å­—æ®µä½œä¸º<strong>ä¸»é”®</strong>ã€‚ è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">coll &#x3D; db.test<br></code></pre></td></tr></table></figure>

<p>æˆ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">coll &#x3D; db[&#39;test&#39;]<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·æ“ä½œä¸‹æ¥ï¼Œä½ çš„mongoDBä¸­å°±åˆ›å»ºäº†æ–°çš„æ•°æ®åº“ï¼Œæ•°æ®åº“çš„åå­—æ˜¯primerï¼Œåœ¨è¿™ä¸ªæ•°æ®åº“ä¸‹æœ‰ä¸€ä¸ªé›†åˆï¼Œåå­—æ˜¯testã€‚</p>
<h2 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h2><p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„æç¤ºï¼Œæˆ‘ä»¬æ’å…¥å’Œæ–‡æ¡£ä¸­ç›¸åŒçš„æ•°æ®ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">coll.insert_one(<br>    &#123;<br>        <span class="hljs-string">&quot;address&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;street&quot;</span>: <span class="hljs-string">&quot;2 Avenue&quot;</span>,<br>            <span class="hljs-string">&quot;zipcode&quot;</span>: <span class="hljs-string">&quot;10075&quot;</span>,<br>            <span class="hljs-string">&quot;building&quot;</span>: <span class="hljs-string">&quot;1480&quot;</span>,<br>            <span class="hljs-string">&quot;coord&quot;</span>: [<span class="hljs-number">-73.9557413</span>, <span class="hljs-number">40.7720266</span>]<br>        &#125;,<br>        <span class="hljs-string">&quot;borough&quot;</span>: <span class="hljs-string">&quot;Manhattan&quot;</span>,<br>        <span class="hljs-string">&quot;cuisine&quot;</span>: <span class="hljs-string">&quot;Italian&quot;</span>,<br>        <span class="hljs-string">&quot;grades&quot;</span>: [<br>            &#123;<br>                <span class="hljs-string">&quot;date&quot;</span>: datetime.strptime(<span class="hljs-string">&quot;2014-10-01&quot;</span>, <span class="hljs-string">&quot;%Y-%m-%d&quot;</span>),<br>                <span class="hljs-string">&quot;grade&quot;</span>: <span class="hljs-string">&quot;A&quot;</span>,<br>                <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">11</span><br>            &#125;,<br>            &#123;<br>                <span class="hljs-string">&quot;date&quot;</span>: datetime.strptime(<span class="hljs-string">&quot;2014-01-16&quot;</span>, <span class="hljs-string">&quot;%Y-%m-%d&quot;</span>),<br>                <span class="hljs-string">&quot;grade&quot;</span>: <span class="hljs-string">&quot;B&quot;</span>,<br>                <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">17</span><br>            &#125;<br>        ],<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Vella&quot;</span>,<br>        <span class="hljs-string">&quot;restaurant_id&quot;</span>: <span class="hljs-string">&quot;41704620&quot;</span><br>    &#125;<br>)<br></code></pre></td></tr></table></figure>

<p>è¯¥æ“ä½œè¿”å›ä¸€ä¸ªInsertOneResultå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªåŒ…å«æ‰€æ’å…¥æ–‡æ¡£çš„_idçš„å±æ€§inserted_idã€‚è®¿é—®æ­¤å±æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">coll.inserted_id<br></code></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">ObjectId(&quot;54c1478ec2341ddf130f62b7&quot;)<br></code></pre></td></tr></table></figure>

<p>å¦‚æœä½ æ²¡æœ‰ä¸»åŠ¨è®¾ç½®ä¸»é”®ï¼Œè¯¥idä¼šè‡ªåŠ¨ç”Ÿæˆã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>mongoDB</tag>
        <tag>pymongo</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ Python å°±ä¸šå‰æ™¯æ€ä¹ˆæ ·</title>
    <url>/78.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/06/13/09/57/meeting-1453895__480.png"> å­¦äº†pythonä¹‹åèƒ½æ‰¾åˆ°å·¥ä½œå—ï¼Ÿç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´éƒ½æœ‰è¿‡è¿™ä¸ªå›°æ‰°ï¼Œåˆšå…¥é—¨çš„æˆ‘ï¼Œä½œä¸ºæ–°æ‰‹ç»ƒä¹ ï¼Œé‚£æˆ‘ä»¬ä»Šå¤©å°±ç”¨pythonæ¥åˆ†æä¸€ä¸‹ï¼Œå­¦äº†pythonä»¥åèƒ½æ‰¾åˆ°å·¥ä½œå—ï¼Ÿèƒ½æ‰¾åˆ°ä»€ä¹ˆæ ·çš„å·¥ä½œã€‚</p>
<a id="more"></a>
<h2 id="æŠ“å–ä¿¡æ¯"><a href="#æŠ“å–ä¿¡æ¯" class="headerlink" title="æŠ“å–ä¿¡æ¯"></a>æŠ“å–ä¿¡æ¯</h2><p>åˆ†ææ•°æ®çš„å‰ææ˜¯æœ‰æ•°æ®ã€‚ è¿™æ¬¡ä¸»è¦çˆ¬å–æ™ºè”æ‹›è˜pythonçš„èŒä½ä¿¡æ¯ã€‚å› ä¸ºæˆ‘ä¸ªäººæ„Ÿè§‰æ™ºè”æ‹›è˜çš„ä¿¡æ¯æ›´å…¨é¢ä¸€ç‚¹ï¼Œä¸è¿‡æ‰¾å·¥ä½œçš„ç½‘ç«™éƒ½å¤§åŒå°å¼‚ï¼Œçˆ¬å–é€‚åˆè‡ªå·±çš„å°±å¯ä»¥ã€‚ å®Œæ•´ä»£ç è§github: <a href="https://github.com/alpha87/Zhilian">https://github.com/alpha87/Zhilian</a></p>
<h2 id="ä»£ç éƒ¨åˆ†"><a href="#ä»£ç éƒ¨åˆ†" class="headerlink" title="ä»£ç éƒ¨åˆ†"></a>ä»£ç éƒ¨åˆ†</h2><p>è¿˜æ˜¯è€è§„çŸ©ï¼Œå…ˆæŠŠå®Œæ•´çš„ä»£ç è´´ä¸Šæ¥ï¼Œç„¶åæ…¢æ…¢åˆ†ææ¯ä¸ªå‡½æ•°çš„ç”¨æ³•ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> pymongo<br><span class="hljs-keyword">from</span> pyquery <span class="hljs-keyword">import</span> PyQuery <span class="hljs-keyword">as</span> pq<br><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Pool<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_page</span>(<span class="hljs-params">url</span>):</span><br>    headers = &#123;<br>        <span class="hljs-string">&quot;User-Agent&quot;</span>: <span class="hljs-string">&quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4&quot;</span><br>    &#125;<br>    response = requests.get(url, headers=headers)<br>    <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>        <span class="hljs-keyword">return</span> response.text<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_index_page</span>(<span class="hljs-params">html</span>):</span><br>    doc = pq(html)<br>    job_urls = doc(<span class="hljs-string">&#x27;#newlist_list_content_table&#x27;</span>).find(<span class="hljs-string">&#x27;a&#x27;</span>).items()<br>    <span class="hljs-keyword">return</span> [url.attr.href <span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> job_urls <span class="hljs-keyword">if</span> url.attr.href.startswith(<span class="hljs-string">&#x27;http://jobs&#x27;</span>)]<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_detail_page</span>(<span class="hljs-params">html</span>):</span><br>    doc = pq(html)<br>    job = doc(<span class="hljs-string">&#x27;.inner-left.fl h1&#x27;</span>).text()<br>    company = doc(<span class="hljs-string">&#x27;.inner-left.fl h2&#x27;</span>).text()<br>    company_url = doc(<span class="hljs-string">&#x27;.inner-left.fl h2 a&#x27;</span>).attr.href<br>    treatment = doc(<span class="hljs-string">&#x27;.welfare-tab-box span&#x27;</span>).text()<br>    salary = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(1) strong&#x27;</span>).text().strip()<br>    date = doc(<span class="hljs-string">&#x27;.terminal-ul.clearfix li strong #span4freshdate&#x27;</span>).text().strip()<br>    number = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(7) strong&#x27;</span>).text().strip()<br>    location = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(2) strong a&#x27;</span>).text().strip()<br>    education = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(6) strong&#x27;</span>).text().strip()<br>    catrgory = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(8) strong&#x27;</span>).text().strip()<br>    experience = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(5) strong&#x27;</span>).text().strip()<br>    property = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(4) strong&#x27;</span>).text().strip()<br>    address = doc(<span class="hljs-string">&#x27;.tab-cont-box .tab-inner-cont h2&#x27;</span>).text().strip()<br>    demand = doc(<span class="hljs-string">&#x27;.tab-inner-cont p&#x27;</span>).text()<br>    <span class="hljs-keyword">yield</span> &#123;<br>        <span class="hljs-string">&quot;å·¥ä½œ&quot;</span>: job,<br>        <span class="hljs-string">&quot;å…¬å¸&quot;</span>: company,<br>        <span class="hljs-string">&quot;å…¬å¸ä»‹ç»&quot;</span>: company_url,<br>        <span class="hljs-string">&quot;å¾…é‡&quot;</span>: treatment,<br>        <span class="hljs-string">&quot;èŒä½æœˆè–ª&quot;</span>: salary,<br>        <span class="hljs-string">&quot;å‘å¸ƒæ—¥æœŸ&quot;</span>: date,<br>        <span class="hljs-string">&quot;æ‹›è˜äººæ•°&quot;</span>: number,<br>        <span class="hljs-string">&quot;å·¥ä½œæ€§è´¨&quot;</span>: property,<br>        <span class="hljs-string">&quot;åœ°ç‚¹&quot;</span>: location,<br>        <span class="hljs-string">&quot;å·¥ä½œç»éªŒ&quot;</span>: experience,<br>        <span class="hljs-string">&quot;æœ€ä½å­¦å†&quot;</span>: education,<br>        <span class="hljs-string">&quot;èŒä½ç±»åˆ«&quot;</span>: catrgory,<br>        <span class="hljs-string">&quot;èŒä½æè¿°&quot;</span>: demand,<br>        <span class="hljs-string">&quot;å·¥ä½œåœ°ç‚¹&quot;</span>: address<br>    &#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_to_mongo</span>(<span class="hljs-params">content</span>):</span><br>    client = pymongo.MongoClient()<br>    database = client[<span class="hljs-string">&#x27;Job&#x27;</span>]<br>    collection = database[<span class="hljs-string">&#x27;Zhilian&#x27;</span>]<br>    <span class="hljs-keyword">if</span> collection.update(&#123;<span class="hljs-string">&#x27;èŒä½æè¿°&#x27;</span>: content[<span class="hljs-string">&#x27;èŒä½æè¿°&#x27;</span>]&#125;, &#123;<span class="hljs-string">&#x27;$set&#x27;</span>: content&#125;, <span class="hljs-literal">True</span>) <span class="hljs-keyword">and</span> content[<span class="hljs-string">&#x27;å·¥ä½œ&#x27;</span>] != <span class="hljs-string">&quot;&quot;</span>:<br>        print(<span class="hljs-string">&quot;Saved&quot;</span>, content[<span class="hljs-string">&quot;å·¥ä½œ&quot;</span>], content[<span class="hljs-string">&quot;èŒä½æœˆè–ª&quot;</span>])<br>    <span class="hljs-keyword">else</span>:<br>        print(<span class="hljs-string">&quot;***************\nFailed! &#123;&#125;\n***************&quot;</span>.format(content[<span class="hljs-string">&quot;å…¬å¸&quot;</span>]))<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_catrgory</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;catrgory.txt&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;èŒä½ç±»åˆ«å·²å½•å…¥...&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_education</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;education.txt&quot;</span>, <span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;æœ€ä½å­¦å†å·²å½•å…¥...&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_experience</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;experience.txt&quot;</span>, <span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;å·¥ä½œç»éªŒå·²å½•å…¥...&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_demand</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;demand.txt&quot;</span>, <span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;èŒä½æè¿°å·²å½•å…¥...&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_location</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;location.txt&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;åœ°ç‚¹å·²å½•å…¥...&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_salary</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;salary.txt&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;èŒä½æœˆè–ªå·²å½•å…¥...&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_treatment</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;treatment.txt&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;å¾…é‡å·²å½•å…¥...&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>(<span class="hljs-params">page</span>):</span><br>    url = <span class="hljs-string">&quot;http://sou.zhaopin.com/jobs/searchresult.ashx?jl=%E5%85%A8%E5%9B%BD&amp;kw=python&amp;sm=0&amp;p=&#123;&#125;&quot;</span>.format(page)<br>    html = get_page(url)<br>    docs = parse_index_page(html)<br>    print(<span class="hljs-string">&quot;ä¼‘æ¯åç»§ç»­...&quot;</span>)<br>    time.sleep(random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">5</span>))<br>    <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> docs:<br>        html = get_page(doc)<br>        job_infors = parse_detail_page(html)<br>        <span class="hljs-keyword">for</span> job_infor <span class="hljs-keyword">in</span> job_infors:<br>            save_to_mongo(job_infor)<br>            save_demand(job_infor[<span class="hljs-string">&#x27;èŒä½æè¿°&#x27;</span>])<br>            save_location(job_infor[<span class="hljs-string">&#x27;åœ°ç‚¹&#x27;</span>])<br>            save_salary(job_infor[<span class="hljs-string">&#x27;èŒä½æœˆè–ª&#x27;</span>])<br>            save_treatment(job_infor[<span class="hljs-string">&#x27;å¾…é‡&#x27;</span>])<br>            save_education(job_infor[<span class="hljs-string">&#x27;æœ€ä½å­¦å†&#x27;</span>])<br>            save_catrgory(job_infor[<span class="hljs-string">&#x27;èŒä½ç±»åˆ«&#x27;</span>])<br>            save_experience(job_infor[<span class="hljs-string">&#x27;å·¥ä½œç»éªŒ&#x27;</span>])<br>            print(<span class="hljs-string">&quot;ä¼‘æ¯...&quot;</span>)<br>            time.sleep(random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">5</span>))<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pool = Pool()<br>    pool.map(main, [page <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,<span class="hljs-number">200</span>)])<br>    print(<span class="hljs-string">&quot;\né‡‡é›†å®Œæˆ!&quot;</span>)<br></code></pre></td></tr></table></figure>

<h2 id="åˆ†éƒ¨è®²è§£"><a href="#åˆ†éƒ¨è®²è§£" class="headerlink" title="åˆ†éƒ¨è®²è§£"></a>åˆ†éƒ¨è®²è§£</h2><h3 id="åº“"><a href="#åº“" class="headerlink" title="åº“"></a>åº“</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pymongo<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> pyquery <span class="hljs-keyword">import</span> PyQuery <span class="hljs-keyword">as</span> pq<br><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Pool<br></code></pre></td></tr></table></figure>

<p>è¿™äº›ç®—æ˜¯çˆ¬å–ä¿¡æ¯æœ€å¸¸ç”¨çš„åº“äº†ã€‚</p>
<ol>
<li>pymongoæ˜¯pythonå’Œmongoæ•°æ®åº“ç›¸å…³æ“ä½œçš„åº“ï¼›</li>
<li>requestsè¿™ä¸ªåº“åº”è¯¥ä¸ç”¨ä»‹ç»äº†å§ï¼Œç½‘ç«™çˆ¬è™«çš„è€æœ‹å‹äº†ï¼›</li>
<li>pyqueryä¸»è¦æ˜¯ä½œä¸ºCSSé€‰æ‹©å™¨ï¼ŒæŒ‡å®šç½‘é¡µä¸­çš„å¯¹åº”ä¿¡æ¯ï¼›</li>
<li>multiprocessingæ˜¯å¤šè¿›ç¨‹åº“ã€‚</li>
</ol>
<h3 id="è§£æç½‘é¡µ"><a href="#è§£æç½‘é¡µ" class="headerlink" title="è§£æç½‘é¡µ"></a>è§£æç½‘é¡µ</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_page</span>(<span class="hljs-params">url</span>):</span><br>    headers = &#123;<br>        <span class="hljs-string">&quot;User-Agent&quot;</span>:<span class="hljs-string">&quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4&quot;</span><br>    &#125;<br>    response = requests.get(url, headers=headers)<br>    <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>        <span class="hljs-keyword">return</span> response.text<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†çš„ä½œç”¨æ˜¯æ¨¡æ‹Ÿæµè§ˆå™¨è®¿é—®ç½‘é¡µï¼Œå¦‚æœçŠ¶æ€ç æ˜¯200å°±è¿”å›ç½‘é¡µå†…å®¹ï¼Œå¦‚æœæ˜¯å…¶ä»–å°±è¿”å›Noneã€‚å› ä¸ºç½‘é¡µæ­£å¸¸å“åº”è¿”å›çš„çŠ¶æ€ç æ˜¯200,æˆ‘ä»¬åœ¨è¿™é‡Œåšä¸€ä¸ªç®€å•çš„åˆ¤æ–­ã€‚è¿™æ ·çš„è¯åœ¨ä¹‹åçˆ¬å–è¿‡ç¨‹ä¸­å‡ºç°ç‰¹æ®Šæƒ…å†µæˆ‘ä»¬å¯ä»¥åšå…¶ä»–å¯¹ç­–ã€‚ åœ¨è¿™é‡Œç»™å¤§å®¶æ¨èä¸€ä¸ªpythonåº“ï¼š<code>fake-useragent</code>ã€‚è¿™ä¸ªåº“å¯ä»¥æ¨¡æ‹Ÿå¤šç§æµè§ˆå™¨ï¼Œå®‰è£…ä¹Ÿéå¸¸ç®€å•ã€‚ <code>pip install fake-useragent</code> ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> fake_useragent <span class="hljs-keyword">import</span> UserAgent<br><br><br>UA = UserAgent()<br>UA.Safari<br><span class="hljs-comment"># User-Agent&quot;:&quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4</span><br></code></pre></td></tr></table></figure>

<p>è¾“å…¥ä¸åŒçš„æµè§ˆå™¨åå°±ç”Ÿæˆå¯¹åº”çš„è¯·æ±‚å¤´ã€‚</p>
<h3 id="è§£æå·¥ä½œè¯¦ç»†ä¿¡æ¯ç½‘é¡µ"><a href="#è§£æå·¥ä½œè¯¦ç»†ä¿¡æ¯ç½‘é¡µ" class="headerlink" title="è§£æå·¥ä½œè¯¦ç»†ä¿¡æ¯ç½‘é¡µ"></a>è§£æå·¥ä½œè¯¦ç»†ä¿¡æ¯ç½‘é¡µ</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_index_page</span>(<span class="hljs-params">html</span>):</span><br>    doc = pq(html)<br>    job_urls = doc(<span class="hljs-string">&#x27;#newlist_list_content_table&#x27;</span>).find(<span class="hljs-string">&#x27;a&#x27;</span>).items()<br>    <span class="hljs-keyword">return</span> [url.attr.href <span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> job_urls <span class="hljs-keyword">if</span> url.attr.href.startswith(<span class="hljs-string">&#x27;http://jobs&#x27;</span>)]<br></code></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†æŠŠä¸Šä¸€ä¸ªå‡½æ•°è¿”å›çš„ç½‘é¡µä¿¡æ¯ç”¨pyqueryè§£ææˆå¯ä»¥ç”¨CSSå®šä½çš„å†…å®¹ã€‚ç„¶åæˆ‘ä»¬è·å–æ¯ä¸€æ¡å·¥ä½œä¿¡æ¯çš„urlï¼Œå› ä¸ºè¿”å›çš„urlæœ‰äº›ä¸ç¬¦åˆæ¡ä»¶ï¼Œæ‰€ä»¥å°±åŠ äº†ä¸€æ¡åˆ¤æ–­ï¼Œ<a href="http://jobså¼€å¤´çš„æ‰æ˜¯æˆ‘ä»¬éœ€è¦çš„èŒä½ä¿¡æ¯çš„url./">http://jobså¼€å¤´çš„æ‰æ˜¯æˆ‘ä»¬éœ€è¦çš„èŒä½ä¿¡æ¯çš„urlã€‚</a></p>
<h3 id="å®šä½å·¥ä½œçš„è¯¦ç»†ä¿¡æ¯"><a href="#å®šä½å·¥ä½œçš„è¯¦ç»†ä¿¡æ¯" class="headerlink" title="å®šä½å·¥ä½œçš„è¯¦ç»†ä¿¡æ¯"></a>å®šä½å·¥ä½œçš„è¯¦ç»†ä¿¡æ¯</h3><p>æˆ‘ä»¬éœ€è¦è·å–èŒä½çš„åç§°ï¼Œæä¾›èŒä½çš„å…¬å¸åç§°ï¼Œå…¬å¸ä»‹ç»urlï¼ŒèŒä½æœˆè–ªï¼Œå·¥ä½œåœ°ç‚¹ï¼Œå‘å¸ƒæ—¥æœŸï¼Œå·¥ä½œæ€§è´¨ï¼Œå·¥ä½œç»éªŒï¼Œæœ€ä½å­¦å†ï¼Œæ‹›è˜äººæ•°ï¼ŒèŒä½ç±»åˆ«ï¼ŒèŒä½æè¿°å’Œå·¥ä½œåœ°å€è¿™äº›ä¿¡æ¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_detail_page</span>(<span class="hljs-params">html</span>):</span><br>    doc = pq(html)<br>    job = doc(<span class="hljs-string">&#x27;.inner-left.fl h1&#x27;</span>).text().strip()<br>    company = doc(<span class="hljs-string">&#x27;.inner-left.fl h2&#x27;</span>).text().strip()<br>    company_url = doc(<span class="hljs-string">&#x27;.inner-left.fl h2 a&#x27;</span>).attr.href<br>    treatment = doc(<span class="hljs-string">&#x27;.welfare-tab-box span&#x27;</span>).text().strip()<br>    salary = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(1) strong&#x27;</span>).text().strip()<br>    date = doc(<span class="hljs-string">&#x27;.terminal-ul.clearfix li strong #span4freshdate&#x27;</span>).text().strip()<br>    number = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(7) strong&#x27;</span>).text().strip()<br>    location = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(2) strong a&#x27;</span>).text().strip()<br>    education = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(6) strong&#x27;</span>).text().strip()<br>    catrgory = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(8) strong&#x27;</span>).text().strip()<br>    experience = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(5) strong&#x27;</span>).text().strip()<br>    property = doc(<span class="hljs-string">&#x27;.terminalpage-left .terminal-ul.clearfix li:nth-child(4) strong&#x27;</span>).text().strip()<br>    address = doc(<span class="hljs-string">&#x27;.tab-cont-box .tab-inner-cont h2&#x27;</span>).text().strip()<br>    demand = doc(<span class="hljs-string">&#x27;.tab-inner-cont p&#x27;</span>).text()<br>    <span class="hljs-keyword">yield</span> &#123;<br>        <span class="hljs-string">&quot;å·¥ä½œ&quot;</span>: job,<br>        <span class="hljs-string">&quot;å…¬å¸&quot;</span>: company,<br>        <span class="hljs-string">&quot;å…¬å¸ä»‹ç»&quot;</span>: company_url,<br>        <span class="hljs-string">&quot;å¾…é‡&quot;</span>: treatment,<br>        <span class="hljs-string">&quot;èŒä½æœˆè–ª&quot;</span>: salary,<br>        <span class="hljs-string">&quot;å‘å¸ƒæ—¥æœŸ&quot;</span>: date,<br>        <span class="hljs-string">&quot;æ‹›è˜äººæ•°&quot;</span>: number,<br>        <span class="hljs-string">&quot;å·¥ä½œæ€§è´¨&quot;</span>: property,<br>        <span class="hljs-string">&quot;åœ°ç‚¹&quot;</span>: location,<br>        <span class="hljs-string">&quot;å·¥ä½œç»éªŒ&quot;</span>: experience,<br>        <span class="hljs-string">&quot;æœ€ä½å­¦å†&quot;</span>: education,<br>        <span class="hljs-string">&quot;èŒä½ç±»åˆ«&quot;</span>: catrgory,<br>        <span class="hljs-string">&quot;èŒä½æè¿°&quot;</span>: demand,<br>        <span class="hljs-string">&quot;å·¥ä½œåœ°ç‚¹&quot;</span>: address<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>è¿™äº›ä»£ç åˆ†åˆ«æŠ“å–åˆ°ä¸Šè¿°æœ‰å…³èŒä½çš„ä¿¡æ¯ã€‚åˆ©ç”¨ç”Ÿæˆå™¨ç”Ÿæˆè¿™äº›ä¿¡æ¯ã€‚åœ¨ä½¿ç”¨CSSé€‰æ‹©å™¨å®šä½çš„æ—¶å€™å¦‚æœå‡ºç°ä¿¡æ¯ä¸å‡†ç¡®çš„é—®é¢˜ï¼Œå°±å®šä½è¯¥æ ‡ç­¾çš„çˆ¶æ ‡ç­¾ã€‚ä¸€èˆ¬éƒ½èƒ½è§£å†³ï¼Œå¦‚æœè¿˜æ˜¯æ˜¾ç¤ºæ— å…³çš„å†…å®¹ï¼Œå°±è¯•è¯•ä½¿ç”¨æ­£åˆ™æˆ–è€…å­—ç¬¦ä¸²æ–¹æ³•å¤„ç†ã€‚</p>
<h3 id="ä¿å­˜åˆ°mongoæ•°æ®åº“"><a href="#ä¿å­˜åˆ°mongoæ•°æ®åº“" class="headerlink" title="ä¿å­˜åˆ°mongoæ•°æ®åº“"></a>ä¿å­˜åˆ°mongoæ•°æ®åº“</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_to_mongo</span>(<span class="hljs-params">content</span>):</span><br>    client = pymongo.MongoClient()<br>    database = client[<span class="hljs-string">&#x27;Job&#x27;</span>]<br>    collection = database[<span class="hljs-string">&#x27;Zhilian&#x27;</span>]<br>    <span class="hljs-keyword">if</span> collection.update(&#123;<span class="hljs-string">&#x27;èŒä½æè¿°&#x27;</span>: content[<span class="hljs-string">&#x27;èŒä½æè¿°&#x27;</span>]&#125;, &#123;<span class="hljs-string">&#x27;$set&#x27;</span>: content&#125;, <span class="hljs-literal">True</span>) <span class="hljs-keyword">and</span> content[<span class="hljs-string">&#x27;å·¥ä½œ&#x27;</span>] != <span class="hljs-string">&quot;&quot;</span>:<br>        print(<span class="hljs-string">&quot;Saved&quot;</span>, content[<span class="hljs-string">&quot;å·¥ä½œ&quot;</span>], content[<span class="hljs-string">&quot;èŒä½æœˆè–ª&quot;</span>])<br>    <span class="hljs-keyword">else</span>:<br>        print(<span class="hljs-string">&quot;***************\nFailed! &#123;&#125;\n***************&quot;</span>.format(content[<span class="hljs-string">&quot;å…¬å¸&quot;</span>]))<br></code></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†ç”¨æ¥æŠŠçˆ¬å–åˆ°çš„ä¿¡æ¯ä¿å­˜åˆ°æ•°æ®åº“ã€‚ä¸ºäº†çˆ¬å–åˆ°çš„å†…å®¹ä¸é‡å¤ï¼Œå°±ä½¿ç”¨æ•°æ®åº“çš„æ›´æ–°æ–¹æ³•ï¼Œä»¥â€œèŒä½æè¿°â€ä¸ºåˆ¤æ–­ä¾æ®ï¼Œå› ä¸ºèŒä½åç§°å¯ä»¥æœ‰é‡å¤ï¼ŒèŒä½æè¿°é‡å¤çš„å‡ ç‡ä¼°è®¡æ˜¯æ²¡æœ‰ã€‚å¦‚æœæˆåŠŸæ’å…¥ä¿¡æ¯å°±è¾“å‡ºSavedï¼Œå¦‚æœæ’å…¥å¤±è´¥å°±è¾“å‡ºFailedã€‚</p>
<h3 id="ä¿å­˜åˆ°txt"><a href="#ä¿å­˜åˆ°txt" class="headerlink" title="ä¿å­˜åˆ°txt"></a>ä¿å­˜åˆ°txt</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_demand</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;demand.txt&quot;</span>, <span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;èŒä½æè¿°å·²å½•å…¥...&quot;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_location</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;location.txt&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;åœ°ç‚¹å·²å½•å…¥...&quot;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_salary</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;salary.txt&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;èŒä½æœˆè–ªå·²å½•å…¥...&quot;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_treatment</span>(<span class="hljs-params">content</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;treatment.txt&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(content)<br>        print(<span class="hljs-string">&quot;å¾…é‡å·²å½•å…¥...&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>è¿™äº›ä»£ç æŠŠä¸åŒçš„ä¿¡æ¯åˆ†åˆ«ä¿å­˜åˆ°txtæ–‡æœ¬ä¸­ï¼Œä¸ºäº†ä¸‹é¢çš„èŒä¸šåˆ†æåšå‡†å¤‡ã€‚</p>
<h3 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>(<span class="hljs-params">page</span>):</span><br>    url = <span class="hljs-string">&quot;http://sou.zhaopin.com/jobs/searchresult.ashx?jl=%E5%85%A8%E5%9B%BD&amp;kw=python&amp;sm=0&amp;p=&#123;&#125;&quot;</span>.format(page)<br>    html = get_page(url)<br>    docs = parse_index_page(html)<br>    <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> docs:<br>        html = get_page(doc)<br>        job_infors = parse_detail_page(html)<br>        <span class="hljs-keyword">for</span> job_infor <span class="hljs-keyword">in</span> job_infors:<br>            save_to_mongo(job_infor)<br>            save_demand(job_infor[<span class="hljs-string">&#x27;èŒä½æè¿°&#x27;</span>])<br>            save_location(job_infor[<span class="hljs-string">&#x27;åœ°ç‚¹&#x27;</span>])<br>            save_salary(job_infor[<span class="hljs-string">&#x27;èŒä½æœˆè–ª&#x27;</span>])<br>            save_treatment(job_infor[<span class="hljs-string">&#x27;å¾…é‡&#x27;</span>])<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pool = Pool()<br>    <span class="hljs-keyword">try</span>:<br>        pool.map(main, [page <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>)])<br>    <span class="hljs-keyword">except</span>:<br>        print(<span class="hljs-string">&quot;å¯èƒ½å·²ç»é‡‡é›†å®Œæ¯•ã€‚&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†ä»£ç å°±æ˜¯å°†ä¸Šé¢çš„å‡½æ•°è¿è¡Œèµ·æ¥ï¼Œåˆ©ç”¨å¤šè¿›ç¨‹åŠ å¿«çˆ¬å–é€Ÿåº¦ã€‚ å®Œæˆäº†ä»£ç çš„ä»‹ç»ï¼Œæ¥ä¸‹æ¥å°±æ˜¯åˆ†ææˆ‘ä»¬çˆ¬å–åˆ°çš„æ•°æ®äº†ã€‚</p>
<h2 id="æ•°æ®åˆ†æ"><a href="#æ•°æ®åˆ†æ" class="headerlink" title="æ•°æ®åˆ†æ"></a>æ•°æ®åˆ†æ</h2><h3 id="èŒä½è¦æ±‚"><a href="#èŒä½è¦æ±‚" class="headerlink" title="èŒä½è¦æ±‚"></a>èŒä½è¦æ±‚</h3><p>æ¯ä»½å·¥ä½œéƒ½ä¼šå¯¹åº”ä¸€ä»½å…¬å¸è‡ªå·±æ‹Ÿå®šçš„èŒä½è¦æ±‚ï¼Œæˆ‘ä»¬åœ¨çˆ¬å–è¿‡ç¨‹ä¸­å•ç‹¬ä¿å­˜æˆtxtæ–‡ä»¶ã€‚åˆ©ç”¨è¯é¢‘ç»Ÿè®¡çš„æ–¹å¼ç”Ÿæˆè¯äº‘ã€‚ <img src="https://ws4.sinaimg.cn/large/006tKfTcly1g0gj4g8c6xj30hs0hs760.jpg"> è¿™æ˜¯å¤„ç†åçš„èŒä½è¦æ±‚ç”Ÿæˆçš„è¯äº‘ã€‚å¯ä»¥çœ‹å‡ºå…¬å¸å¸Œæœ›æ±‚èŒè€…å…·å¤‡æ‰å®çš„ä¸“ä¸šæŠ€èƒ½ï¼Œè‰¯å¥½çš„æ²Ÿé€šèƒ½åŠ›å’Œåˆä½œèƒ½åŠ›ã€‚å¯ä»¥æ˜¯å®ä¹ ç”Ÿï¼Œå¯ä»¥æ˜¯å­¦å¾’ï¼Œå½“ç„¶æ›´å¥½å¯ä»¥æ˜¯ä¸“å®¶ï¼Œè¿™äº›åœ¨èŒä½è¦æ±‚ä¸­éƒ½æœ‰ä½“ç°ã€‚</p>
<h3 id="å·¥ä½œåœ°ç‚¹"><a href="#å·¥ä½œåœ°ç‚¹" class="headerlink" title="å·¥ä½œåœ°ç‚¹"></a>å·¥ä½œåœ°ç‚¹</h3><p>pythonåœ¨ä¸€çº¿åŸå¸‚éå¸¸å—æ¬¢è¿ï¼ŒåŒ—äº¬ã€ä¸Šæµ·ã€æ·±åœ³å°±å æ®äº†ä¸€åŠã€‚ <img src="https://ws2.sinaimg.cn/large/006tKfTcly1g0gj4z8r3cj30gq0a2dg1.jpg"> åŒ—ä¸Šå¹¿æ·±è¿™äº›åœ°æ–¹çš„åŒå­¦æ‰¾å·¥ä½œæ‰¾å®ä¹ ä¼šæ–¹ä¾¿ä¸å°‘å•Šï¼Œéœ€æ±‚é‡è¿˜æ˜¯è›®å¤§çš„ã€‚</p>
<h3 id="èŒä¸šè–ªèµ„"><a href="#èŒä¸šè–ªèµ„" class="headerlink" title="èŒä¸šè–ªèµ„"></a>èŒä¸šè–ªèµ„</h3><p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1g0gj5jna31j30hs0arq34.jpg"> è¿™ä¸ªå›¾å¤§å®¶æ„Ÿå—ä¸€ä¸‹ï¼Œpythonå·¥ä½œçš„è–ªèµ„ä¸»è¦é›†ä¸­åœ¨8000~15000å…ƒå·¦å³ï¼Œé…åˆä¸Šå›¾å·¥ä½œåœ°ç‚¹çš„åˆ†å¸ƒï¼Œè¯´æ˜åŒ—ä¸Šå¹¿åœ°åŒºçš„å·¥èµ„é›†ä¸­åœ¨8000ï½20000å…ƒå·¦å³ï¼Œè¿˜æ˜¯æ¯”è¾ƒæœ‰è¯±æƒ‘åŠ›çš„ã€‚è¿™ä¹Ÿä¸ºä½ ç»§ç»­æ·±å…¥å­¦ä¹ pythonæä¾›äº†åŠ¨åŠ›å•Šï¼</p>
<h3 id="å·¥ä½œç»éªŒ"><a href="#å·¥ä½œç»éªŒ" class="headerlink" title="å·¥ä½œç»éªŒ"></a>å·¥ä½œç»éªŒ</h3><p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g0gj6rvc36j30gq0a2aab.jpg"> å…¬å¸å¯¹å·¥ä½œç»éªŒçš„è¦æ±‚è¿˜æ˜¯è›®é«˜çš„ï¼Œ3ï½5å¹´å‡ºç°çš„æ¬¡æ•°æ¯”è¾ƒå¤šã€‚</p>
<h3 id="å‘˜å·¥ç¦åˆ©"><a href="#å‘˜å·¥ç¦åˆ©" class="headerlink" title="å‘˜å·¥ç¦åˆ©"></a>å‘˜å·¥ç¦åˆ©</h3><p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g0gj6yifz2j30hs0fgwg7.jpg"> ç»™ä½ ä»¬ä¸€å¼ å›¾æ„Ÿå—ä¸€ä¸‹ï¼Œå…¶å®ç¦åˆ©è¿˜æ˜¯è›®ä¸é”™çš„ï¼Œè¿˜æœ‰çš„æ€»ä¼šæœ‰çš„ã€‚</p>
<h3 id="pythonçƒ­åº¦"><a href="#pythonçƒ­åº¦" class="headerlink" title="pythonçƒ­åº¦"></a>pythonçƒ­åº¦</h3><p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1g0gj76iwroj30hs0eb3z4.jpg"> è¿™å¼ å›¾ç›¸ä¿¡å¤§å®¶å·²ç»ä¸æ˜¯ç¬¬ä¸€æ¬¡è§åˆ°äº†ã€‚pythonå·²ç»è¿›äº†æœ€æµè¡Œç¼–ç¨‹è¯­è¨€çš„å‰äº”ï¼Œè€Œä¸”pythonè¿˜è¢«è¿ç”¨äºå„ä¸ªæ–¹é¢ï¼Œä¸è®ºæ˜¯ç§‘å­¦è®¡ç®—ï¼Œæ•°æ®åˆ†æï¼Œè¿˜æ˜¯è‰ºæœ¯ï¼Œæ¸¸æˆï¼Œéƒ½æœ‰pythonçš„èº«å½±ã€‚è¿™ä¹ˆæœ‰ç”¨çš„è¯­è¨€ï¼Œæœ‰ä»€ä¹ˆç†ç”±ä¸åšæŒä¸‹æ¥å­¦ä¹ å‘¢ï¼Ÿ</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æˆ‘ä»¬çˆ¬å–äº†pythonèŒä½çš„ç›¸å…³ä¿¡æ¯ï¼Œç„¶ååˆ©ç”¨è¿™äº›ä¿¡æ¯åšäº†ç®€å•çš„åˆ†æã€‚å¾—å‡ºpythonè¿˜æ˜¯æ¯”è¾ƒæœ‰å‰é€”çš„ï¼Œä¸è®ºæ˜¯ä¸ºäº†å·¥ä½œï¼Œè¿˜æ˜¯è‡ªå·±çš„å…´è¶£ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥å°è¯•å­¦å­¦è¿™é—¨è¯­è¨€ã€‚å…¥é—¨ç®€å•ï¼Œè€Œä¸”ç½‘ä¸Šçš„èµ„æºä¹Ÿå¾ˆä¸°å¯Œã€‚ æ–‡ç« çš„æœ€åé™„ä¸Šé‚£å¥ç»å…¸ï¼š <strong>â€œ Life is short, you need Python. â€œ</strong></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>æ•°æ®åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ mongoDBï¼ˆäºŒï¼‰</title>
    <url>/76.html</url>
    <content><![CDATA[<p><img src="https://upload.wikimedia.org/wikipedia/commons/0/00/Mongodb.png"> è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†æŸ¥æ‰¾é›†åˆçš„å‘½ä»¤ã€‚å¦‚ä½•æŸ¥æ‰¾æ‰€æœ‰é›†åˆï¼Œå¦‚ä½•æŒ‡å®šæ¡ä»¶æŸ¥æ‰¾æ•°æ®ï¼Œä½¿ç”¨è¿ç®—ç¬¦æŸ¥æ‰¾ï¼ŒæŸ¥è¯¢ç»“æœæ’åºç­‰ã€‚</p>
<a id="more"></a>
<h1 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h1><p>æŸ¥æ‰¾åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†å°±æ˜¯æŸ¥æ‰¾æ•°æ®åº“ä¸­çš„æ‰€æœ‰é›†åˆï¼›ç¬¬äºŒéƒ¨åˆ†å°±æ˜¯æŒ‡å®šæ¡ä»¶æŸ¥è¯¢æ¡ä»¶åŒ¹é…çš„é›†åˆï¼Œæ¡ä»¶å¯ä»¥ä»¥å‚æ•°çš„å½¢å¼ä¼ é€’ç»™find()æ–¹æ³•ã€‚</p>
<h2 id="æŸ¥è¯¢é›†åˆä¸­çš„æ‰€æœ‰æ–‡æ¡£"><a href="#æŸ¥è¯¢é›†åˆä¸­çš„æ‰€æœ‰æ–‡æ¡£" class="headerlink" title="æŸ¥è¯¢é›†åˆä¸­çš„æ‰€æœ‰æ–‡æ¡£"></a>æŸ¥è¯¢é›†åˆä¸­çš„æ‰€æœ‰æ–‡æ¡£</h2><p>æŒ‰ç…§<a href="https://alpha87.github.io/2017/03/01/%E5%AD%A6%E4%B9%A0mongoDB%EF%BC%88%E4%B8%80%EF%BC%89/">ä¸Šä¸€ç¯‡æ–‡ç« </a>çš„é¡ºåºï¼Œæˆ‘ä»¬å·²ç»æ’å…¥å¥½äº†æ•°æ®ã€‚æˆ‘ä»¬å°±ä»¥ä¸Šæ–‡ä¸­çš„æ•°æ®ä¸ºä¾‹ã€‚ åœ¨è¿æ¥å¥½æ•°æ®åº“ä»¥åï¼Œè¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">coll &#x3D; db.test.find()<br></code></pre></td></tr></table></figure>

<p>æŸ¥è¯¢æ‰€æœ‰æ–‡æ¡£ï¼Œç„¶åè¿­ä»£æ‰“å°å‡ºé›†åˆçš„å†…å®¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> information <span class="hljs-keyword">in</span> coll:<br>    print(information)<br></code></pre></td></tr></table></figure>

<h1 id="æŒ‡å®šæ¡ä»¶"><a href="#æŒ‡å®šæ¡ä»¶" class="headerlink" title="æŒ‡å®šæ¡ä»¶"></a>æŒ‡å®šæ¡ä»¶</h1><h2 id="æŒ‡å®šå·²çŸ¥æ•°æ®"><a href="#æŒ‡å®šå·²çŸ¥æ•°æ®" class="headerlink" title="æŒ‡å®šå·²çŸ¥æ•°æ®"></a>æŒ‡å®šå·²çŸ¥æ•°æ®</h2><p>å¦‚æœä½ çŸ¥é“éœ€è¦æŸ¥æ‰¾æ•°æ®çš„ä¿¡æ¯ï¼Œå¯ä»¥ä»¥å¦‚ä¸‹çš„æ ¼å¼ä¼ å…¥åˆ°find()æ–¹æ³•ï¼Œä½œä¸ºå‚æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">(&lt;field1&gt;:&lt;value1&gt;, &lt;field2&gt;:&lt;value2&gt;, ...)<br></code></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">coll &#x3D; db.test.find(&#123;&quot;borough&quot;:&quot;Manhattan&quot;&#125;)<br></code></pre></td></tr></table></figure>

<p>ç„¶åæ‰“å°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> coll:<br>    print(doc)<br></code></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨æ“ä½œç¬¦æŒ‡å®šæ¡ä»¶"><a href="#ä½¿ç”¨æ“ä½œç¬¦æŒ‡å®šæ¡ä»¶" class="headerlink" title="ä½¿ç”¨æ“ä½œç¬¦æŒ‡å®šæ¡ä»¶"></a>ä½¿ç”¨æ“ä½œç¬¦æŒ‡å®šæ¡ä»¶</h2><p>mongoDBæä¾›è¿ç®—ç¬¦æ¥æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œæ¯”å¦‚æ¯”è¾ƒè¿ç®—ç¬¦ã€‚ä½¿ç”¨è¿ç®—ç¬¦çš„æŸ¥è¯¢æ¡ä»¶é€šå¸¸æœ‰ä»¥ä¸‹å½¢å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">&#123;&lt;field1&gt;:&#123;&lt;operator1&gt;:&lt;value1&gt;&#125;&#125;<br></code></pre></td></tr></table></figure>

<p>æœ‰å…³è¿ç®—ç¬¦çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚è§<a href="http://docs.mongodb.com/manual/reference/operator/query">æŸ¥è¯¢è¿ç®—ç¬¦</a>ã€‚</p>
<h3 id="å¤§äºè¿ç®—ç¬¦-gt"><a href="#å¤§äºè¿ç®—ç¬¦-gt" class="headerlink" title="å¤§äºè¿ç®—ç¬¦($gt)"></a>å¤§äºè¿ç®—ç¬¦($gt)</h3><p>æŸ¥è¯¢å…¶æˆç»©æ•°ç»„åŒ…å«å­—æ®µå¾—åˆ†å¤§äº30çš„æ–‡æ¡£ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">coll &#x3D; db.test.find(&#123;&quot;grades.score&quot;:&#123;&quot;$gt&quot;:30&#125;&#125;)<br></code></pre></td></tr></table></figure>

<h3 id="å°äºè¿ç®—ç¬¦-lt"><a href="#å°äºè¿ç®—ç¬¦-lt" class="headerlink" title="å°äºè¿ç®—ç¬¦($lt)"></a>å°äºè¿ç®—ç¬¦($lt)</h3><p>æŸ¥è¯¢å…¶æˆç»©æ•°ç»„åŒ…å«å­—æ®µå¾—åˆ†å°äº10çš„æ–‡æ¡£ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">coll &#x3D; db.test.find(&#123;&quot;grades.score&quot;:&#123;&quot;$lt&quot;:10&#125;&#125;)<br></code></pre></td></tr></table></figure>

<h2 id="ç»„åˆæ¡ä»¶"><a href="#ç»„åˆæ¡ä»¶" class="headerlink" title="ç»„åˆæ¡ä»¶"></a>ç»„åˆæ¡ä»¶</h2><p>æ‚¨å¯ä»¥åœ¨é€»è¾‘è¿æ¥ï¼ˆANDï¼‰å’Œé€»è¾‘æå–ï¼ˆORï¼‰ä¸­ç»„åˆå¤šä¸ªæŸ¥è¯¢æ¡ä»¶ã€‚</p>
<h3 id="é€»è¾‘å’Œ-and"><a href="#é€»è¾‘å’Œ-and" class="headerlink" title="é€»è¾‘å’Œ (and)"></a>é€»è¾‘å’Œ (and)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">coll &#x3D; db.test.find(&#123;&quot;cuisine&quot;:&quot;ltalian&quot;,&quot;address.zipcode&quot;:&quot;10075&quot;&#125;)<br></code></pre></td></tr></table></figure>

<h3 id="é€»è¾‘æˆ–-or"><a href="#é€»è¾‘æˆ–-or" class="headerlink" title="é€»è¾‘æˆ–(or)"></a>é€»è¾‘æˆ–(or)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">coll &#x3D; db.test.find(&#123;&quot;$or&quot;:[&#123;&quot;cuisine&quot;:&quot;ltalian&quot;&#125;,&#123;&quot;address.zipcode&quot;:&quot;10075&quot;&#125;]&#125;)<br></code></pre></td></tr></table></figure>

<h1 id="æŸ¥è¯¢ç»“æœæ’åº"><a href="#æŸ¥è¯¢ç»“æœæ’åº" class="headerlink" title="æŸ¥è¯¢ç»“æœæ’åº"></a>æŸ¥è¯¢ç»“æœæ’åº</h1><p>å¦‚æœè¦ä¸ºæŸ¥è¯¢çš„é›†åˆæŒ‡å®šé¡ºåºï¼Œä½¿ç”¨sort()æ–¹æ³•è¿½åŠ åˆ°æŸ¥è¯¢ä¸­ã€‚ pymongo.ASCENDING ç”¨äºå‡åºï¼Œpymongo.DESCENDING ç”¨äºé™åºã€‚ æ–‡æ¡£æä¾›çš„ä¾‹å­ï¼š <code>import pymongo cursor = db.restaurants.find().sort([ (&quot;borough&quot;, pymongo.ASCENDING), (&quot;address.zipcode&quot;, pymongo.ASCENDING) ])</code></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>mongoDB</tag>
        <tag>pymongo</tag>
      </tags>
  </entry>
  <entry>
    <title>å®…å®…ç”Ÿæ´»æ”¶è—å¤¹â€”â€”é¡¹ç›®å¿ƒå¾—</title>
    <url>/12.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2019/09/19/PcQst46mwUaMEgV.png" alt="å®…å®…ç”Ÿæ´»æ”¶è—å¤¹"></p>
<p>å®…å®…ç”Ÿæ´»æ”¶è—å¤¹æ˜¯ä¸€æ¬¾ç”¨æ¥ç›´æ¥æµè§ˆçŸ¥ä¹é’“é±¼è´´å›¾ç‰‡çš„å¾®ä¿¡å°ç¨‹åºï¼Œè€Œä¸”ç”¨æˆ·å¯ä»¥æä¾›è‡ªå·±æ”¶è—çš„é’“é±¼è´´ï¼Œåœ¨æ¯æ¬¡ä¾‹è¡Œæ•°æ®æ›´æ–°åå°±ä¼šå±•ç¤ºåˆ°é¦–é¡µã€‚</p>
<p>è¿™æ¬¾å°ç¨‹åºå·²ç»ä¸Šçº¿ä¸€ä¸ªæœˆäº†ï¼Œæ„Ÿè§‰æ˜¯æ—¶å€™å¤ç›˜äº†ï¼ˆè¦ä¸ç„¶å°±è¯¥æƒ³ä¸èµ·æ¥äº†ï¼‰ã€‚</p>
<a id="more"></a>
<h1 id="å‰è¨€éƒ¨åˆ†"><a href="#å‰è¨€éƒ¨åˆ†" class="headerlink" title="å‰è¨€éƒ¨åˆ†"></a>å‰è¨€éƒ¨åˆ†</h1><p>å¤§æ¦‚æ€»ç»“äº†ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>æƒ³æ³•è¯ç”Ÿ</li>
<li>å­¦ä¹ åˆ¶ä½œå¾®ä¿¡å°ç¨‹åºï¼ŒæŸ¥çœ‹æ–‡æ¡£</li>
<li>å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–</li>
<li>å°ç¨‹åºå®¡æ ¸</li>
<li>å¦‚ä½•å®£ä¼ å°ç¨‹åº</li>
<li>è€ƒè™‘å°ç¨‹åºåœ¨ç”¨æˆ·å¿ƒä¸­çš„åœ°ä½ï¼Œæ˜¯å¦è§¦åŠç”¨æˆ·ç—›ç‚¹</li>
<li>é‡åˆ°çš„å›°éš¾</li>
</ul>
<p>è¿™å‡ æ–¹é¢åŸºæœ¬å°±æ˜¯ä¸€ä¸ªæœˆæ¥çš„å®è·µå’Œæ€è€ƒã€‚</p>
<h1 id="æƒ³æ³•è¯ç”Ÿï¼ˆä¸ºä»€ä¹ˆåšè¿™ä¸ªå°ç¨‹åºï¼‰"><a href="#æƒ³æ³•è¯ç”Ÿï¼ˆä¸ºä»€ä¹ˆåšè¿™ä¸ªå°ç¨‹åºï¼‰" class="headerlink" title="æƒ³æ³•è¯ç”Ÿï¼ˆä¸ºä»€ä¹ˆåšè¿™ä¸ªå°ç¨‹åºï¼‰"></a>æƒ³æ³•è¯ç”Ÿï¼ˆä¸ºä»€ä¹ˆåšè¿™ä¸ªå°ç¨‹åºï¼‰</h1><p>å®è¯å®è¯´ï¼Œè¿™ä¸ªæƒ³æ³•åœ¨ä¸€å¹´å‰å°±æœ‰äº†ã€‚ä½†æ˜¯å½“æ—¶å¹¶ä¸æ‰“ç®—åšä¸€ä¸ªå°ç¨‹åºï¼Œè€Œæ˜¯åšä¸€ä¸ª Web é¡µé¢ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªæƒ³æ³•å‘¢ï¼Ÿåœ¨æµè§ˆçŸ¥ä¹çš„æ—¶å€™ï¼Œæ— æ„é—´çœ‹åˆ°äº†æ‰€è°“çš„çŸ¥ä¹é’“é±¼è´´ï¼Œå› ä¸ºçŸ¥ä¹å¹¶æ²¡æœ‰æä¾›ç›´æ¥çœ‹å›¾çš„åŠŸèƒ½ï¼Œåªèƒ½ä¸æ–­ç‚¹å‡»æŸ¥çœ‹ä¸‹ä¸€å›ç­”ï¼Œå¾ˆçƒ¦ã€‚å½“ç„¶è¿™è‚¯å®šä¸æ˜¯åšè¿™ä¸ªé¡¹ç›®çš„ç›´æ¥åŸå› ï¼Œå› ä¸ºå½“æ—¶é¦–å…ˆæƒ³åˆ°çš„æ˜¯ Google å‘—ï¼Œè¿™ç§çœ‹å›¾å·¥å…·è‚¯å®šå·²ç»æœ‰äººåšå¥½äº†ï¼Œæ‹¿æ¥çœ‹å°±è¡Œäº†ï¼Œå®åœ¨ä¸è¡ŒæŠ“ä¸€ä¸‹å¯¹æ–¹çš„æ¥å£ï¼Œè‡ªå·±å†™ä¸ªå·¥å…·ï¼Œåªè¦çœ‹å›¾æ–¹ä¾¿å°±è¡Œäº†ã€‚ä½†æ˜¯æ‰¾æ¥æ‰¾å»ï¼Œå‘ç°å¤§éƒ¨åˆ†äººéƒ½æ˜¯æ”¶é›†æ ‡é¢˜è€Œå·²ï¼Œè¿˜æ˜¯éœ€è¦é“¾æ¥åˆ°çŸ¥ä¹æŸ¥çœ‹ã€‚è¿˜æœ‰ä¸€äº›è™½ç„¶æŠ“å¥½æ•°æ®äº†ï¼Œä¹Ÿä»¥å›¾ç‰‡çš„å½¢å¼å±•ç¤ºå‡ºæ¥äº†ï¼Œä½†æ˜¯ç”¨äº†ä¸€æ®µæ—¶é—´å‘ç°ï¼Œä½œè€…æ—©åœ¨å»å¹´å°±ä¸ç»´æŠ¤äº†ã€‚æ€»ä¸èƒ½åå¤çœ‹ä¸€äº›ä¸æ›´æ–°çš„å›¾ç‰‡å§ã€‚æ²¡åŠæ³•ï¼Œä¸æ»¡æ„çš„å°±è‡ªå·±åšä¸€ä¸ªå§ã€‚</p>
<p>å½“æ—¶è€ƒè™‘æ˜¯ä»¥ç½‘ç«™è¿˜æ˜¯å°ç¨‹åºçš„å½¢å¼å‘ˆç°çš„æ—¶å€™ï¼Œæœ€ç»ˆé€‰æ‹©äº†å°ç¨‹åºã€‚</p>
<p>å› ä¸ºæˆ‘å¤§éƒ¨åˆ†ç¼–ç è¿˜æ˜¯ç”¨ python å†™è¿™ä¸ªé¡¹ç›®ï¼Œå¦‚æœä»¥ç½‘ç«™çš„å½¢å¼ï¼Œé‚£è‚¯å®šå°±æ˜¯ Flask å’Œ Django äºŒé€‰ä¸€ã€‚è€Œä¸”æŸ¥çœ‹åå°æ•°æ®æ˜¯ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚å¤šå°‘ç”¨æˆ·ä½¿ç”¨ç­‰ç­‰ã€‚ä½†æ˜¯ä½¿ç”¨å°ç¨‹åºä¸åŒï¼Œæˆ‘å¯ä»¥å€Ÿè¿™ä¸ªé¡¹ç›®å­¦ä¹ å­¦ä¹ å¦‚ä½•åˆ¶ä½œå°ç¨‹åºï¼Œè€Œä¸”åœ¨åå°æ•°æ®æ–¹é¢å¾®ä¿¡å·²ç»å¸®å¿™åšå¥½äº†ã€‚åªè¦å…³è”å¥½å°ç¨‹åºï¼Œå°±å¯ä»¥æŸ¥çœ‹å°ç¨‹åºçš„ç´¯è®¡ç”¨æˆ·ï¼Œæ¯å°æ—¶çš„è®¿é—®é‡ï¼Œæ¯å¤©æ–°å¢ç”¨æˆ·ç­‰ç­‰æ•°æ®ã€‚è€Œä¸”å½“æ—¶æˆ‘å•çº¯çš„è®¤ä¸ºå°ç¨‹åºä¼ æ’­é€Ÿåº¦è‚¯å®šæ¯”ç½‘ç«™å¿«å¾—å¤šï¼Œç”¨æˆ·è£‚å˜å˜›ï¼Œä¸€ä¼ åï¼Œåä¼ ç™¾ï¼ˆåæ¥å‘ç°ç”¨æˆ·è£‚å˜åœ¨æˆ‘è¿™é‡Œæ ¹æœ¬è¡Œä¸é€šï¼Œç¨åè§£é‡Šï¼‰ã€‚</p>
<p>æ‰€ä»¥æœ€ç»ˆé€‰æ‹©äº†ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºæ¥å®ç°è¿™ä¸ªé¡¹ç›®ã€‚</p>
<h1 id="å®ç°å°ç¨‹åºçš„æ•´ä½“æ€è·¯"><a href="#å®ç°å°ç¨‹åºçš„æ•´ä½“æ€è·¯" class="headerlink" title="å®ç°å°ç¨‹åºçš„æ•´ä½“æ€è·¯"></a>å®ç°å°ç¨‹åºçš„æ•´ä½“æ€è·¯</h1><p>å› ä¸ºé¡¹ç›®ä»æ— åˆ°æœ‰ï¼Œä»æ²¡æœ‰æ•°æ®åˆ°æœ‰æ•°æ®å±•ç¤ºåˆ°å‰ç«¯ã€‚è¿™é‡Œç”¨åˆ°äº†åˆ†è€Œæ²»ä¹‹çš„æ€æƒ³ï¼Œæˆ‘ä»¬æŠŠå°ç¨‹åºæ‹†æˆæ¯ä¸€å°éƒ¨åˆ†ï¼Œåªè¦å®ç°äº†æ‰€æœ‰çš„å°éƒ¨åˆ†ï¼Œä¹Ÿå°±å®ç°äº†æ•´ä¸ªé¡¹ç›®çš„å¤§éƒ¨åˆ†ã€‚</p>
<p>ç®€å•æ¦‚æ‹¬åªæœ‰4æ­¥ã€‚</p>
<p><strong>çˆ¬è™« -&gt; å…¥åº“ -&gt; æä¾›æ¥å£ -&gt; å¾®ä¿¡å°ç¨‹åºå±•ç¤º</strong></p>
<h2 id="çˆ¬è™«"><a href="#çˆ¬è™«" class="headerlink" title="çˆ¬è™«"></a>çˆ¬è™«</h2><p><a href="https://lijianxun.top/?p=59">ä½¿ç”¨ Python æŠ“å–çŸ¥ä¹ç¾å›¾</a>è¿™ç¯‡ä»‹ç»äº†çˆ¬è™«éƒ¨åˆ†ã€‚</p>
<h2 id="å…¥åº“"><a href="#å…¥åº“" class="headerlink" title="å…¥åº“"></a>å…¥åº“</h2><p>æ•°æ®åº“é€‰æ‹©çš„æ˜¯ mongo æ•°æ®åº“ï¼Œä»¥é›†åˆçš„å½¢å¼ä¿å­˜æ•°æ®ï¼Œç®€å•å¤Ÿç”¨ã€‚ä¸åƒ mysql å„ç§å…³è”ã€‚æˆ‘ä»¬åªè¦åˆ›å»ºä¸€ä¸ªç­”æ¡ˆé›†åˆï¼Œå¾€é‡Œå¡«æ•°æ®å°±å¯ä»¥ã€‚</p>
<h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>ä½¿ç”¨ Flask æä¾›æ¥å£ï¼ŒæŸ¥åº“è¿”å› JSON æ ¼å¼çš„æ•°æ®ã€‚</p>
<h2 id="å±•ç¤º"><a href="#å±•ç¤º" class="headerlink" title="å±•ç¤º"></a>å±•ç¤º</h2><p>å¾®ä¿¡å°ç¨‹åºè¯·æ±‚æ¥å£ï¼Œå±•ç¤ºæ•°æ®ã€‚</p>
<p>å…¶å®æ•´ä¸ªè¿‡ç¨‹æ˜¯å¾ˆç®€å•çš„ï¼Œåç«¯ä¸»è¦æ˜¯æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥ï¼Œåªè¦æ•°æ®åº“æ–¹ä¾¿å¥½ç”¨ï¼Œä¸€åˆ‡éƒ½å¾ˆç®€å•ã€‚</p>
<h1 id="å­¦ä¹ åˆ¶ä½œå¾®ä¿¡å°ç¨‹åº"><a href="#å­¦ä¹ åˆ¶ä½œå¾®ä¿¡å°ç¨‹åº" class="headerlink" title="å­¦ä¹ åˆ¶ä½œå¾®ä¿¡å°ç¨‹åº"></a>å­¦ä¹ åˆ¶ä½œå¾®ä¿¡å°ç¨‹åº</h1><p>å­¦ä¹ å¾®ä¿¡å°ç¨‹åºä¸»è¦æ˜¯çœ‹æ–‡æ¡£ï¼Œå› ä¸ºä¹‹å‰çœ‹è¿‡ä¸€äº›å‰ç«¯æ–¹é¢çš„çŸ¥è¯†ï¼Œæ‰€ä»¥ç†è§£èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚æœ¬äººæ„Ÿè§‰å†™å¾®ä¿¡å°ç¨‹åºå°±ä¸‰ä¸ªæ¯”è¾ƒé‡è¦çš„å†…å®¹ï¼Œç†è§£äº†ä»¥åå°±èƒ½å®ç°å°ç¨‹åºï¼Œä½†æ˜¯æƒ³è¦å†™å¥½è¿˜éœ€è¦ä¸æ–­å®è·µã€‚</p>
<p>å“ªä¸‰ä¸ªé‡è¦çš„å†…å®¹å‘¢ï¼ˆæˆ‘è®¤ä¸ºçš„ï¼‰ï¼š</p>
<ul>
<li>JavaScript</li>
<li>Page é‡Œçš„ <code>data</code> å’Œ <code>this.setData</code></li>
<li>CSS</li>
</ul>
<p>å†™å°ç¨‹åºåŸºæœ¬å’Œå†™ Web å·®ä¸å¤šï¼Œä½†æ˜¯å¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨ JS å®ç°å°ç¨‹åºé€»è¾‘ï¼Œæ•°æ®çš„äº¤äº’ç­‰ï¼Œæ‰€ä»¥ JS å¿…é¡»æŒæ¡ï¼Œæ„Ÿè§‰å¤§æ¦‚ä¼šå†™å°±è¡Œã€‚</p>
<p>ç”±äºçœ‹è¿‡ Vue å’Œ React çš„æ–‡æ¡£ï¼Œå¤§æ¦‚äº†è§£ä»¥ä¸‹è¿™ç§å½¢å¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// index.js</span><br><br>Page(&#123;<br><br>    data: &#123;<br>        msg: <span class="hljs-string">&quot;&quot;</span><br>    &#125;,<br><br>    clickMe: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-built_in">this</span>.setData(&#123;<br>            msg: <span class="hljs-string">&quot;Hello World&quot;</span><br>        &#125;)<br>    &#125;<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- index.wxml --&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;clickMe&quot;</span>&gt;</span>ç‚¹å‡»æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>JS ä¼ æ•°æ®ï¼Œwxml æ¸²æŸ“ã€‚ç†Ÿç»ƒä½¿ç”¨å°±è¡Œäº†ï¼Œæ„Ÿè§‰æ²¡å•¥å¥½è¯´çš„ã€‚</p>
<p>CSS æ‰æ˜¯å†™å°ç¨‹åºçš„ç—›å•Šï¼Œè™½ç„¶ä¹‹å‰å†™è¿‡ Webï¼Œä½†æ˜¯ç”¨çš„æœ€å¤šçš„è¿˜æ˜¯æ¨¡æ¿å’Œ bootstrapï¼Œåªå†™è¿‡ä¸€äº›ç®€å•çš„ CSSã€‚åœ¨å†™å°ç¨‹åºçš„æ—¶å€™ï¼Œæ¯”å¦‚æ¶‰åŠåˆ°æŒ‰é’®æˆ–è€…æœç´¢æ¡†çš„ä½ç½®ï¼Œæµ®åŠ¨ï¼Œç½®é¡¶ä¹‹ç±»çš„ï¼Œå­¦ä¹ äº†å¥½ä¹…ï¼Œç½‘ä¸Šå¾ˆå¤šèµ„æ–™å®é™…éƒ½æ²¡ç”¨ï¼Œå¯èƒ½è¿˜æ˜¯å“ªé‡Œæœ‰é—®é¢˜ã€‚æ‰€ä»¥æ„Ÿè§‰å†™å°ç¨‹åºæœ€éš¾çš„è¿˜æ˜¯ CSS è¿™å—ï¼Œè™½ç„¶æœ‰æ¡†æ¶å¯ä»¥ç”¨ï¼Œä½†æ˜¯åœ¨è‡ªå®šä¹‰æ ·å¼å¾ˆéš¾åšåˆ°éšå¿ƒæ‰€æ¬²ï¼ŒåŸºæœ¬å°±æ˜¯æ¡†æ¶æœ‰è¿™ä¸ªç»„ä»¶æˆ–è€…æ ·å¼ï¼Œæ‹¿æ¥ç”¨ï¼Œæ²¡æœ‰çš„è‡ªå·±ä¹Ÿä¸ä¼šå†™ã€‚æ‰€ä»¥å°ç¨‹åºçš„å¾ˆå¤š UI è¿˜åœ¨ä¸æ–­ä¼˜åŒ–ã€‚åœ¨ä¹‹å‰çš„ç‰ˆæœ¬æœ‰å¾ˆå¤šå› ä¸º CSS ä¸ä¸¥è°¨äº§ç”Ÿçš„é—®é¢˜ï¼Œå¤šä¸€æ ¹è™šçº¿ï¼Œå›¾ç‰‡é å·¦ï¼Œæˆ–è€…é”™ä½ç­‰ç­‰ã€‚è¿˜å¥½åŸºæœ¬å·²ç»ä¿®å¤äº†ã€‚</p>
<h2 id="å°ç¨‹åºç”¨åˆ°çš„ç»„ä»¶åº“"><a href="#å°ç¨‹åºç”¨åˆ°çš„ç»„ä»¶åº“" class="headerlink" title="å°ç¨‹åºç”¨åˆ°çš„ç»„ä»¶åº“"></a>å°ç¨‹åºç”¨åˆ°çš„ç»„ä»¶åº“</h2><p>æ¨èä½¿ç”¨ï¼ˆæ’åºåˆ†å…ˆåï¼‰ï¼š</p>
<ul>
<li><a href="https://www.color-ui.com/">Color UI</a></li>
<li><a href="http://doc.mini.7yue.pro/">Lin UI</a></li>
<li><a href="https://youzan.github.io/vant-weapp/#/intro">Vant Weapp</a></li>
</ul>
<h2 id="æ¨èç½‘ç«™"><a href="#æ¨èç½‘ç«™" class="headerlink" title="æ¨èç½‘ç«™"></a>æ¨èç½‘ç«™</h2><ul>
<li><a href="https://loading.io/">loading.io</a> å„å¼å„æ ·çš„åŠ è½½åŠ¨ç”»ï¼Œæœ‰æ”¶è´¹çš„æœ‰å…è´¹çš„ã€‚</li>
</ul>
<h1 id="å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–"><a href="#å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–"></a>å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–</h1><p>çœ‹ä¼¼é«˜ç«¯çš„æ ‡é¢˜ï¼Œå…¶å®å°±æ˜¯ä»£ç çš„ä¸è§„èŒƒã€‚æ”¹è§„èŒƒäº†ä»¥åï¼Œå°±å«åšæ€§èƒ½ä¼˜åŒ–äº†ï¼Œè™½ç„¶æˆ‘åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ²¡æ„Ÿè§‰æå‡äº†å¤šå°‘ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¯´æ˜¯ä»£ç ä¸è§„èŒƒå‘¢ï¼Œå½“æ—¶å›¾æ–¹ä¾¿æŠŠå¥½å¤šå˜é‡éƒ½æ”¾åˆ°äº† <code>data</code> é‡Œï¼Œè¿™ä¹ˆå†™æ˜¯ä¸å¯¹çš„ã€‚<code>data</code> é‡Œåº”è¯¥å­˜æ”¾ä¼šæ¸²æŸ“åˆ°é¡µé¢çš„å˜é‡ï¼Œå…¶ä»–éƒ½ä¸åº”è¯¥è¢«æ”¾è¿›å»ã€‚</p>
<p>å…·ä½“è§<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/performance/tips.html">å°ç¨‹åºå®˜æ–¹æ–‡æ¡£â€”â€”ä¼˜åŒ–å»ºè®®</a>ã€‚</p>
<h1 id="å°ç¨‹åºå®¡æ ¸"><a href="#å°ç¨‹åºå®¡æ ¸" class="headerlink" title="å°ç¨‹åºå®¡æ ¸"></a>å°ç¨‹åºå®¡æ ¸</h1><p>å°ç¨‹åºå®¡æ ¸æˆ‘è®¤ä¸ºæ˜¯ä¸€ç§ç„å­¦ã€‚</p>
<p>æœ‰äººè®¤ä¸ºæ˜¯æœºå™¨å®¡æ ¸ï¼Œæœ‰äººè®¤ä¸ºæ˜¯äººå·¥å®¡æ ¸ã€‚</p>
<p>ä½†æ˜¯ä»æˆ‘å¤šæ¬¡å®¡æ ¸å¤±è´¥çš„ç»éªŒæ¥çœ‹ï¼Œåº”è¯¥æ˜¯äººå·¥å®¡æ ¸æ— ç–‘äº†ã€‚</p>
<p>ä¸çŸ¥ä¸è§‰å·²æ›´æ–°è¿­ä»£åå¤šä¸ªç‰ˆæœ¬ï¼Œæœ‰çš„åªæ˜¯ä¿®å¤å° bugï¼Œæœ‰çš„æ˜¯æ›´æ–°åŠŸèƒ½ã€‚å¤šæ¬¡å®¡æ ¸åæ€»ç»“å‡ºå®¡æ ¸è§„å¾‹ï¼Œä»…ä¾›å‚è€ƒï¼š</p>
<ol>
<li>å°ç¨‹åºåœ¨å‘¨æœ«ä»ä¼šè¢«å®¡æ ¸ã€‚å› ä¸ºä¸€å‘¨ä¸ƒå¤©æˆ‘éƒ½æäº¤è¿‡å®¡æ ¸ï¼Œéƒ½æœ‰å›å¤ã€‚</li>
<li>ä¸€èˆ¬è¶…è¿‡ä¸‹åˆä¸‰ç‚¹çš„æäº¤ï¼Œéƒ½ä¼šåœ¨æ¬¡æ—¥ä¸Šåˆåç‚¹ä»¥åå›å¤ã€‚å½“ç„¶ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µï¼Œæœ‰ä¸€æ¬¡æˆ‘æ™šä¸Šä¸ƒç‚¹åŠæäº¤å®¡æ ¸ï¼ŒåŠå°æ—¶åæ”¶åˆ°äº†å›å¤ã€‚</li>
<li>å°½é‡ä¸€å¤©åªæäº¤ä¸€æ¬¡ï¼Œæäº¤ç¬¬äºŒæ¬¡ä¸è®ºæ—¶é—´ï¼Œå¯èƒ½éƒ½ä¼šæ‹–åˆ°ç¬¬äºŒå¤©å®¡æ ¸ã€‚å½“ç„¶ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µï¼Œæœ‰ä¸€æ¬¡åœ¨åŒä¸€å¤©å›å¤äº†ä¸¤æ¬¡ã€‚</li>
</ol>
<p>æ‰€ä»¥è¯´å®¡æ ¸æ˜¯é—¨ç„å­¦ï¼Œè¿æ°”å¥½äº†ä¸€å¤©å¯ä»¥å®¡æ ¸å¤šæ¬¡ï¼Œè¿æ°”ä¸å¥½åªèƒ½æ‹–åˆ°ç¬¬äºŒå¤©ï¼Œè¶Šå¿ƒæ€¥è¶Šç­‰ä¸åˆ°ç»“æœã€‚</p>
<h1 id="å®£ä¼ å°ç¨‹åº"><a href="#å®£ä¼ å°ç¨‹åº" class="headerlink" title="å®£ä¼ å°ç¨‹åº"></a>å®£ä¼ å°ç¨‹åº</h1><p>è¿™ä¸ªå®Œå…¨æ²¡æœ‰ä»€ä¹ˆå¿ƒå¾—å•Šã€‚åœ¨å„å¤§ç¤¾åŒºé‡Œï¼Œåªè¦å®£ä¼ å°ç¨‹åºï¼Œåˆ å¸–æ˜¯å¿…é¡»çš„ã€‚ä»¥è‡³äºåæ¥å‘ä¸ªæ­£å¸¸çš„è´´å­ä¹Ÿä¼šè¢«åˆ ã€‚</p>
<p>å³åˆ»æœ‰ä¸ªçƒ­é—¨é’“é±¼è´´ä¸“æ ï¼Œå·²ç»å‡‰äº†ã€‚</p>
<p>æˆ‘æƒ³ç€å¯ä»¥åœ¨è¿™é‡Œå®£ä¼ ä¸€æ³¢ï¼Œä½†æ˜¯å‘å¸–ä»¥åéƒ½æ²¡äººç‚¹èµï¼Œå¾ˆå¥‡æ€ªå•Šï¼Œç„¶åå°±æŠŠè¿™ä¸ªè´´å­åˆ†äº«ç»™æœ‹å‹ï¼Œæ‰“å¼€ä¹‹åæ˜¯404ï¼Œæ‰¾ä¸åˆ°é¡µé¢ã€‚</p>
<p>å³åˆ»çœŸä¼šç©å•Šã€‚å•æœºç‰ˆå³åˆ»ï¼Œç”¨æˆ·æƒ³å‘ä»€ä¹ˆæ— æ‰€è°“ï¼Œå…¶ä»–ç”¨æˆ·æ ¹æœ¬çœ‹ä¸åˆ°ï¼Œä¸åˆ†äº«åˆ°æµè§ˆå™¨æ‰“å¼€è¿˜ä»¥ä¸ºæ˜¯è‡ªå·±çš„è´´å­æ²¡äººçœ‹å‘¢ã€‚å­¦åˆ°äº†å­¦åˆ°äº†ã€‚</p>
<p>æ”¾å¼ƒå³åˆ»ã€‚</p>
<p>è™æ‰‘æ­¥è¡Œè¡—æœ‰ä¸ªæ™’æ™’å›¾ç‰‡ï¼Œæ„Ÿè§‰å’ŒçŸ¥ä¹é’“é±¼è´´å·®ä¸å¤šã€‚</p>
<p>æƒ³ç€å®£ä¼ ä¸€æ³¢ã€‚åˆšå‘å‡ºå»å°±è¢«åˆ å¸–ï¼Œåæ¥æƒ³ç€ä¸åšå®£ä¼ ï¼Œåªæ˜¯æ”¾ä¸€äº›å’Œå°ç¨‹åºæ²¡æœ‰ä»»ä½•å…³ç³»çš„å›¾ç‰‡ï¼Œä¹Ÿè¢«åˆ å¸–ã€‚</p>
<p>æ”¾å¼ƒè™æ‰‘æ­¥è¡Œè¡—ã€‚</p>
<p>ç°åœ¨å”¯ä¸€èƒ½å®£ä¼ çš„ä¹Ÿåªæœ‰çŸ¥ä¹äº†ï¼Œåœ¨çƒ­é—¨çš„é’“é±¼è´´ä¸‹å›ç­”ï¼Œè®©æ›´å¤šæƒ³çœ‹é’“é±¼è´´çš„äººçœ‹è§ã€‚</p>
<p>åšè¿™ä¸ªå°ç¨‹åºå°±æ˜¯ä¸ºäº†çœ‹é’“é±¼è´´æ–¹ä¾¿ä¸€ç‚¹ï¼Œå¸Œæœ›å¸®åŠ©æ›´å¤šéœ€è¦çš„æœ‹å‹ï¼Œèƒ½æ–¹ä¾¿ä¸€ç‚¹æ˜¯ä¸€ç‚¹ã€‚</p>
<h1 id="å°ç¨‹åºæ˜¯å¦è§¦åŠäº†ç”¨æˆ·çš„ç—›ç‚¹"><a href="#å°ç¨‹åºæ˜¯å¦è§¦åŠäº†ç”¨æˆ·çš„ç—›ç‚¹" class="headerlink" title="å°ç¨‹åºæ˜¯å¦è§¦åŠäº†ç”¨æˆ·çš„ç—›ç‚¹"></a>å°ç¨‹åºæ˜¯å¦è§¦åŠäº†ç”¨æˆ·çš„ç—›ç‚¹</h1><p>è¿™ä¸ªé—®é¢˜æ˜¯æˆ‘æœ€è¿‘ä¸€ç›´æ€è€ƒçš„é—®é¢˜ã€‚</p>
<p>å› ä¸ºä¸€ä¸ªæœˆäº†ï¼Œå°ç¨‹åºçš„ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šã€‚è™½ç„¶çŸ¥ä¹é‡Œæœ‰ç‚¹èµçš„ï¼Œæœ‰è¯„è®ºçš„ã€‚ä½†æ˜¯æ²¡æœ‰æˆ‘å¼€å§‹æƒ³è±¡çš„é‚£ä¹ˆç®€å•ã€‚ä¸Šè¾¹æåˆ°äº†ç”¨æˆ·è£‚å˜ï¼Œä¸€ä¼ åï¼Œåä¼ ç™¾ã€‚æˆ‘å•çº¯çš„è®¤ä¸ºè¿™ä¸ªå°ç¨‹åºä¼šå¼•èµ·çŸ¥ä¹çœ‹å›¾ç”¨æˆ·çš„å…±é¸£ï¼Œç„¶åè½¬å‘ç»™æœ‹å‹ï¼Œç”¨æˆ·é‡è¹­è¹­å°±ä¸Šæ¥äº†ã€‚</p>
<p>ä½†æ˜¯çœŸæ­£é™ä¸‹æ¥æ€è€ƒä¸€ä¸‹ï¼Œè¿™ä¸ªå°ç¨‹åºçš„å®šä½åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<p>æˆ‘å¯¹å°ç¨‹åºçš„å®šä½æ˜¯ä¸€ä¸ªæ–¹ä¾¿æµè§ˆçŸ¥ä¹é’“é±¼è´´çš„å·¥å…·ï¼ŒåŒæ—¶å¯ä»¥æ·»åŠ é’“é±¼è´´ï¼Œæ”¯æŒæœç´¢å’Œæ”¶è—ã€‚</p>
<p>ç”¨æˆ·çˆ±å¥½çš„é’“é±¼è´´ä¸ä¸€æ ·ï¼Œæœç´¢åŠŸèƒ½å¯ä»¥ç›´è¾¾ç”¨æˆ·çš„å–œå¥½ã€‚</p>
<p>ç”¨æˆ·çœ‹åˆ°å–œæ¬¢çš„è´´å­ä¸ä¸€å®šéœ€è¦æŠŠæ‰€æœ‰çš„å›¾ç‰‡éƒ½ä¿å­˜åˆ°æœ¬åœ°ï¼Œä½¿ç”¨æ”¶è—åŠŸèƒ½å¯ä»¥éšæ—¶éšåœ°æŸ¥çœ‹ã€‚</p>
<p>ä¸ºä»€ä¹ˆæˆ‘è¦æä¾›ä¸€ä¸ªç”¨æˆ·æ·»åŠ é’“é±¼è´´çš„æ¥å£å‘¢ï¼Ÿä¹‹å‰è¯´åˆ°ï¼Œå¾ˆå¤šäººå·²ç»å†™è¿‡ç±»ä¼¼çš„çœ‹å›¾å·¥å…·ï¼Œä½†æ˜¯éƒ½ä¸æ›´æ–°äº†ï¼Œä¸ºä»€ä¹ˆï¼Œå› ä¸ºä½œè€…æ²¡æœ‰ç²¾åŠ›ã€‚æˆ‘æ‹…å¿ƒè¿™ä¸ªå°ç¨‹åºå’Œä»–ä»¬çš„ä½œå“æœ‰åŒæ ·çš„å‘½è¿ï¼Œæ‰€ä»¥æˆ‘å¢åŠ äº†ç”¨æˆ·å¯ä»¥æä¾›é’“é±¼è´´çš„æ¥å£ï¼Œè¿™æ ·å°±ç®—ä¹‹åæˆ‘ä¸ç»´æŠ¤ï¼Œä¸æ›´æ–°é’“é±¼è´´äº†ï¼Œä¾é å¤§å®¶çš„åŠ›é‡ï¼Œåªè¦æœåŠ¡å™¨è¿˜åœ¨ï¼Œä»£ç æ²¡é—®é¢˜ï¼Œæ•°æ®è¿˜æ˜¯å¯ä»¥æ›´æ–°çš„ã€‚ä½†æ˜¯äº‹å®ä¸Šä¸æ˜¯è¿™æ ·çš„ï¼Œè¿™ä¸€ä¸ªæœˆæ¥å‡ ä¹æ²¡æœ‰äººä¸»åŠ¨æä¾›é’“é±¼è´´ã€‚</p>
<p>æœ€åå’Œå¥³æœ‹å‹è®¨è®ºåæƒ³é€šäº†ï¼Œå¯èƒ½å¤§å®¶å°±æŠŠè¿™ä¸ªå°ç¨‹åºå½“æˆä¸€ä¸ªçœ‹å›¾å¨±ä¹å·¥å…·ï¼Œçœ‹å®Œå°±å®Œäº‹äº†ï¼Œæ²¡æœ‰æƒ³è¿‡å¯ä»¥ä¸°å¯Œè¿™ä¸ªå°ç¨‹åºã€‚å¾—å‡ºè¿™ä¸ªç»“è®ºçš„åŸå› æ˜¯ä¹Ÿæ²¡æœ‰ç”¨æˆ·å’Œæˆ‘åé¦ˆå“ªé‡Œæœ‰ bugï¼Œæˆ–è€…å¯ä»¥åŠ ä»€ä¹ˆåŠŸèƒ½ï¼Œä»€ä¹ˆéœ€è¦æ”¹å–„ã€‚å…¶å®æˆ‘ä¹Ÿæ˜¯è¿™æ ·çš„ç”¨æˆ·ï¼Œä¹‹å‰åœ¨ç”¨ä¸€æ¬¾å¤©æ°”å°ç¨‹åºï¼Œå› ä¸ºåŠ è½½æ…¢å°±åˆ é™¤äº†ã€‚</p>
<p>å®Œå…¨å–å†³äºç”¨æˆ·çš„å¿ƒæƒ…ã€‚</p>
<p>ä¸ºäº†èƒ½å¢åŠ ç”¨æˆ·é‡ï¼Œåœ¨å°ç¨‹åºçš„ä½“éªŒç‰ˆå¢åŠ äº†åˆ†äº«åŠŸèƒ½ï¼Œå¦‚æœä¸åˆ†äº«ç»™æœ‹å‹åªèƒ½æŸ¥çœ‹å‰10ä¸ªè´´å­ã€‚ä½†æ˜¯è€ƒè™‘å†ä¸‰è¿˜æ˜¯åˆ é™¤äº†ï¼Œè§‰å¾—å¯¹ç”¨æˆ·ä¸å…¬å¹³ï¼Œä½†æ˜¯è¿™ä¸€ä¸ªæœˆä¸‹æ¥æˆ‘ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç²¾åŠ›å’ŒåŠ¨åŠ›ç»´æŠ¤å®ƒäº†ï¼Œå°ç¨‹åºçš„åŠŸèƒ½åŸºæœ¬å›ºå®šï¼Œå‰©ä¸‹çš„å°±æ˜¯æ›´æ–°æ•°æ®ï¼ŒåŸºæœ¬éƒ½æ˜¯æ‰‹åŠ¨æ›´æ–°é’“é±¼è´´ IDï¼Œå› ä¸ºçˆ¬è™«å¤§èŒƒå›´æŠ“å–ä¸èƒ½å¾ˆå¥½æŠŠæ§è´´å­çš„è´¨é‡ã€‚æœ‰å¯èƒ½æŠ“åˆ°çœŸæ­£çš„é’“é±¼çš„è´´å­ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜è¿˜åœ¨æ€è€ƒä¸­ï¼Œæƒ³ä¸é€šã€‚</p>
<h1 id="é‡åˆ°çš„å›°éš¾"><a href="#é‡åˆ°çš„å›°éš¾" class="headerlink" title="é‡åˆ°çš„å›°éš¾"></a>é‡åˆ°çš„å›°éš¾</h1><p>ç¼–ç è¿‡ç¨‹ä¸­é‡åˆ°çš„å›°éš¾åŸºæœ¬ Google æˆ–è€…æŸ¥æ–‡æ¡£å°±èƒ½è§£å†³ï¼ŒçœŸæ­£éš¾è§£å†³çš„è¿˜æ˜¯åæœŸå®£ä¼ çš„é—®é¢˜ã€‚</p>
<p>æ•´ä½“æ¥è¯´ï¼Œå›°éš¾æœ€å¤§çš„è¿˜æ˜¯æ— æ³•å‡†ç¡®å°†å®…å®…ç”Ÿæ´»æ”¶è—å¤¹è¿™ä¸ªå°ç¨‹åºä¼ é€’ç»™çœŸæ­£çš„ç”¨æˆ·ç¾¤ä½“ã€‚</p>
<p>å³åˆ»çŸ¥ä¹çƒ­é—¨é’“é±¼è´´ä¸“æ ä¸‰åå¤šä¸‡çš„å…³æ³¨é‡ï¼ŒçŸ¥ä¹éšä¾¿ä¸€ä¸ªæ–°å†’å‡ºå¤´çš„é’“é±¼è´´ä¸¤å¤©å°±æœ‰è¿‘åä¸‡çš„æµè§ˆé‡ã€‚</p>
<p>å¯è§ç”¨æˆ·è¿˜æ˜¯éå¸¸å¤šéå¸¸å¤šçš„ï¼Œä½†ä¸ºä»€ä¹ˆå®…å®…ç”Ÿæ´»æ”¶è—å¤¹çš„ç”¨æˆ·å´é‚£ä¹ˆå°‘ï¼Ÿ</p>
<p>æ˜¯å°ç¨‹åºä¸å¤Ÿä¼˜è´¨ï¼ŸåŠŸèƒ½ä¸å®Œå–„ï¼Ÿè¿˜æ˜¯å¾ˆå¤šäººä¸çŸ¥é“æœ‰è¿™ä¸ªå·¥å…·çš„å­˜åœ¨ï¼Ÿæˆ‘æƒ³åè€…å±…å¤šå§ã€‚</p>
<h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p>ä½œä¸ºä¸€ä¸ªæçˆ¬è™«å’Œ Web çš„ç å†œï¼Œæ€æƒ³å±€é™åœ¨ä½¿ç”¨çˆ¬è™«æŠ“å–æ•°æ®ç„¶åå±•ç¤ºåˆ°é¡µé¢ä¸Šã€‚è§‰å¾—è¿™ä¸€å—å¿…é¡»çªç ´ï¼Œè¦ä¸ç„¶åšçš„é¡¹ç›®éƒ½ä¼šå—åˆ¶äºæ¥å£ã€‚æ¥å£å¯ä»¥ç”¨å°±æœ‰æ•°æ®ï¼Œæ¥å£è°ƒç”¨å¤±è´¥æ•°æ®å°±ç©ºç™½ã€‚å¦‚ä½•è®©ç”¨æˆ·æˆä¸ºæ•°æ®çš„æ¥æºæ‰æ˜¯ç°åœ¨éœ€è¦æ€è€ƒçš„é—®é¢˜ã€‚</p>
<p>æœ€åæƒ³æƒ³è¿˜æ˜¯ä½›ç³»ä¸€ç‚¹å§ã€‚è¿™ä¸ªå°ç¨‹åºèƒ½å¸®åŠ©åˆ°ä¸€éƒ¨åˆ†äººå°±å¸®åŠ©åˆ°ä¸€éƒ¨åˆ†äººå§ã€‚</p>
<p>ä¸æƒ³çœ‹é’“é±¼è´´çš„æœ‹å‹å°±ç®—æ‰“å¼€äº†å°ç¨‹åºä¹Ÿä¸ä¼šæŒç»­å…³æ³¨ã€‚</p>
<p>çœŸæ­£æƒ³çœ‹é’“é±¼è´´çš„æœ‹å‹ä¸çŸ¥é“è¿™ä¸ªå°ç¨‹åºåªèƒ½è¯´æ˜¯é—æ†¾å§ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å®…å®…ç”Ÿæ´»æ”¶è—å¤¹</tag>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
        <tag>å¿ƒå¾—</tag>
      </tags>
  </entry>
  <entry>
    <title>å°† py æ–‡ä»¶è½¬æ¢ä¸º exe å¯æ‰§è¡Œæ–‡ä»¶</title>
    <url>/36.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/6Z2zWxDIPcEvaSb.jpg"> æœ‰ä¸€ä¸ªåº“å¯ä»¥å®ç°pyæ–‡ä»¶è½¬æ¢ä¸ºexeå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<a id="more"></a>
<h2 id="pipå®‰è£…"><a href="#pipå®‰è£…" class="headerlink" title="pipå®‰è£…"></a>pipå®‰è£…</h2><p><code>pip install pyinstaller</code></p>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>å®‰è£…å¥½å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œåœ¨éœ€è¦è½¬æ¢çš„pyæ–‡ä»¶çš„æ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥ï¼š <code>pyinstaller -F -w demo.py</code> ç„¶ååœ¨è¯¥ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªdistæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ä¼šæœ‰demo.exeã€‚ å…·ä½“å‚æ•°å¯å‚è€ƒ<a href="https://pyinstaller.readthedocs.io/en/stable/usage.html">PyInstaller Doc</a>ã€‚ <strong>æ³¨æ„ï¼šåœ¨æˆ‘ç°åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œpyinstallerè¿˜ä¸æ”¯æŒpython3.6ã€‚</strong></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>å¯æ‰§è¡Œæ–‡ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>å°šæœªè°ƒç”¨ CoInitialize</title>
    <url>/47.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/04/20/13/02/technology-2245662__480.jpg"> ç”¨pyqtå†™UIçš„æ—¶å€™ï¼ŒåŒæ—¶ä½¿ç”¨å¤šçº¿ç¨‹å’Œwin32åº“æ“ä½œå¯èƒ½ä¼šè§¦å‘ä»¥ä¸‹é”™è¯¯ï¼Œé¡ºæ‰‹è®°å½•ä¸‹æ¥ã€‚</p>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">IDispatch = pythoncom.CoCreateInstance(IDispatch, None, clsctx, pythoncom.IID_IDispatch)<br>pywintypes.com_error: (-2147221008, <span class="hljs-string">&#x27;å°šæœªè°ƒç”¨ CoInitializeã€‚&#x27;</span>, None, None)<br></code></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•æ˜¯å¯¼å…¥<code>pythoncom</code>åº“ï¼š <code>import pythoncom</code> å¹¶åœ¨ä½¿ç”¨çº¿ç¨‹çš„åœ°æ–¹åŠ å…¥ä¸€è¡Œï¼š <code>pythoncom.CoInitialize()</code> é—®é¢˜å°±è§£å†³äº†ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Pyqt5</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼ºå¤§çš„Macè‡ªåŠ¨åŒ–å·¥å…·â€”â€”Hammerspoon</title>
    <url>/42.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/QwbV2p3WYxFKN5M.jpg"></p>
<p>å‰ä¸¤å¤©æœ‰å¹¸çœ‹åˆ°<a href="http://www.hammerspoon.org/">Hammerspoon</a>çš„ä»‹ç»ï¼Œå¯ä»¥è¯´å¯ç©æ€§è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œä¸€ä¸ªå®ç”¨çš„è„šæœ¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬èŠ‚çœä¸å°‘æ—¶é—´ï¼Œæå‡ä¸å°‘çš„å·¥ä½œæ•ˆç‡ã€‚å½“ç„¶æ—¢ç„¶æ˜¯è„šæœ¬å·¥å…·ï¼Œå°±ä¼šæœ‰å¾ˆå¤šè‡ªå®šä¹‰çš„åŠŸèƒ½ã€‚ç®€å•äº†è§£Hammerspoonä»¥åè‡ªå·±å†™äº†ä¸ªå°å·¥å…·ï¼Œç”¨æ¥åœ¨Macèœå•æ æŸ¥çœ‹æœ€æ–°çš„å°‘æ•°æ´¾æ–‡ç« ï¼Œç‚¹å‡»åä½¿ç”¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€ç›¸å…³æ–‡ç« çš„é“¾æ¥ã€‚</p>
<a id="more"></a>
<p>æœ¬äººè¿˜æ˜¯å¾ˆå–œæ¬¢<a href="https://sspai.com/">å°‘æ•°æ´¾</a>ä¸Šçš„æ–‡ç« çš„ï¼Œè¯»èµ·æ¥èˆ’æœä¹Ÿæ„Ÿè§‰è´¨é‡å¾ˆé«˜ï¼Œè™½ç„¶æœ‰æ—¶ä¹Ÿæœ‰ä¸€äº›è½¯æ–‡çš„å­˜åœ¨ï¼Œä¸è¿‡è¿˜æ˜¯ä¸å½±å“å…¶åª’ä½“æ•´ä½“å¯¹æˆ‘çš„å°è±¡ã€‚</p>
<p>æ‰€ä»¥åªè¦å‘ç°ç±»ä¼¼çš„å·¥å…·å°±ä¼šæ‹¿æ¥ç»ƒæ‰‹ï¼Œå®åœ¨æ˜¯ä¸å¥½æ„æ€ã€‚è™½ç„¶æ‹¿æ¥ç»ƒæ‰‹ï¼Œä¹Ÿæ˜¯ä¸ºäº†æ–¹ä¾¿é˜…è¯»å…¶æ–‡ç« ï¼Œä¹Ÿæ˜¯åˆç†ã€‚</p>
<p>ä¹‹å‰æœ‰ç”¨JSBoxåšè¿‡ä¸€ä¸ª<a href="https://jsboxbbs.com/d/468--">å°‘æ•°æ´¾é˜…è¯»å™¨</a>ï¼Œç”¨èµ·æ¥è¿˜æ˜¯å¾ˆèˆ’æœçš„ã€‚</p>
<h2 id="Hammerspoon"><a href="#Hammerspoon" class="headerlink" title="Hammerspoon"></a>Hammerspoon</h2><p>å…¶å®ä¸ç”¨ä»‹ç»å¾ˆå¤šï¼Œå¦‚æœèƒ½çœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼Œè¯´æ˜ä½ å·²ç»çŸ¥é“å®ƒæ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„äº†ï¼Œç®€å•ç†è§£å°±æ˜¯ä½¿ç”¨Luaè¯­è¨€æ¥ç¼–å†™ä¸€äº›è„šæœ¬å’Œç³»ç»ŸAPIå¯¹æ¥å®ç°ä¸€äº›åŠŸèƒ½å’Œæ“ä½œã€‚å®˜ç½‘çš„å…¥é—¨demoæ¯”è¾ƒå¥½ç†è§£ã€‚ä½¿ç”¨ç»„åˆé”®å®ç°é€šçŸ¥æ å¼¹å‡ºhelloï¼Œworldã€‚</p>
<h2 id="å°‘æ•°æ´¾å°è„šæœ¬"><a href="#å°‘æ•°æ´¾å°è„šæœ¬" class="headerlink" title="å°‘æ•°æ´¾å°è„šæœ¬"></a>å°‘æ•°æ´¾å°è„šæœ¬</h2><p>å®ç°æ•ˆæœå¦‚ä¸‹ï¼Œç‚¹å‡»åå¼¹å‡ºæœ€æ–°çš„æ–‡ç« æ ‡é¢˜ï¼Œæ•°é‡æ˜¯å¯æ§åˆ¶çš„ï¼Œåœ¨ç‚¹å‡»æ ‡é¢˜åä½¿ç”¨æµè§ˆå™¨æ‰“å¼€å¯¹åº”æ–‡ç« ã€‚</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1g24mglbjcfj31c00u07wn.jpg"></p>
<p>å¯èƒ½æ˜¯å¯¹Luaè¯­è¨€çš„ä¸ç†Ÿæ‚‰ï¼Œåœ¨å¤„ç†<code>table</code>çš„æ—¶å€™ä¸æ˜¯å¾ˆå¾—å¿ƒåº”æ‰‹ï¼Œæƒ³äº†å¥½åŠå¤©ç»ˆäºè§£å†³äº†ï¼Œä¸åŒæ–‡ç« æ ‡é¢˜åªä¼šä½¿ç”¨æœ€åä¸€ç¯‡æ–‡ç« çš„urlçš„é—®é¢˜ã€‚æ„Ÿè§‰åº”è¯¥è¿˜æœ‰æ›´å¥½çš„è§£å†³åŠæ³•ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯Macèœå•æ çš„logoï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šå°‘æ•°æ´¾å®˜ç½‘äº†logoéƒ½ä¸åˆé€‚ï¼Œéƒ½æ˜¯ä¸€ç‰‡é»‘ï¼Œå®åœ¨æ²¡åŠæ³•è‡ªå·±ç®€å•åšäº†ä¸€ä¸ªã€‚</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1g24m34ael8j30u00u0gnw.jpg"></p>
<h2 id="ä»£ç éƒ¨åˆ†"><a href="#ä»£ç éƒ¨åˆ†" class="headerlink" title="ä»£ç éƒ¨åˆ†"></a>ä»£ç éƒ¨åˆ†</h2><p>ä»£ç å…¶å®å¾ˆç®€å•ï¼Œè¯·æ±‚åå±•ç¤ºï¼Œç‚¹å‡»æ ‡é¢˜ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€å¯¹åº”é“¾æ¥ã€‚</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><code class="hljs lua"><span class="hljs-comment">--[[</span><br><span class="hljs-comment">    å°‘æ•°æ´¾æœ€æ–°æ–‡ç« è·å–ï¼Œç‚¹å‡»åæ‰“å¼€å¯¹åº”æ–‡ç« ã€‚</span><br><span class="hljs-comment">--]]</span><br><br><span class="hljs-comment">-- è¯·æ±‚æ–‡ç« æ•°é‡</span><br><span class="hljs-keyword">local</span> article_num = <span class="hljs-string">&quot;5&quot;</span><br><br><span class="hljs-comment">-- åˆ·æ–°æ—¶é—´ï¼ˆç§’ï¼‰</span><br><span class="hljs-keyword">local</span> s = <span class="hljs-number">18000</span><br><br><span class="hljs-keyword">local</span> menubar = hs.menubar.new()<br><span class="hljs-keyword">local</span> title_items = &#123;&#125;<br><span class="hljs-keyword">local</span> articleKey = &#123;&#125;<br><span class="hljs-keyword">local</span> headers = &#123;&#125;<br><span class="hljs-keyword">local</span> articlesApi = <span class="hljs-string">&quot;https://sspai.com/api/v1/articles?offset=0&amp;limit=&quot;</span> .. article_num .. <span class="hljs-string">&quot;&amp;type=recommend_to_home&amp;sort=recommend_to_home_at&amp;include_total=false&quot;</span><br>headers[<span class="hljs-string">&quot;User-Agent&quot;</span>] = <span class="hljs-string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateMenubar</span><span class="hljs-params">()</span></span><br>    menubar:setMenu(title_items)<br><span class="hljs-keyword">end</span><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openArticle</span><span class="hljs-params">(url)</span></span><br>    hs.urlevent.openURL(url)<br><span class="hljs-keyword">end</span><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getArticles</span><span class="hljs-params">()</span></span><br>    hs.http.doAsyncRequest(<br>        articlesApi, <br>        <span class="hljs-string">&quot;GET&quot;</span>, <br>        <span class="hljs-literal">nil</span>, <br>        headers,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(code, body, htable)</span></span><br>            <span class="hljs-keyword">if</span> code ~= <span class="hljs-number">200</span> <span class="hljs-keyword">then</span><br>                hs.notify.new(&#123;title=<span class="hljs-string">&quot;SSPAI - Error&quot;</span>, informativeText=<span class="hljs-string">&quot;æ— æ³•è·å–åˆ°æœ€æ–°æ–‡ç« ï¼&quot;</span>&#125;):send()<br>                <span class="hljs-keyword">return</span> <br>            <span class="hljs-keyword">end</span><br>            raw_json = hs.json.decode(body)<br>            <span class="hljs-comment">-- menubar:setTitle(&quot;å°‘æ•°æ´¾&quot;)</span><br>            menubar:setIcon(hs.image.imageFromPath(<span class="hljs-string">&quot;/Users/lijianxun/.hammerspoon/sspai/icon.png&quot;</span>):setSize(&#123;w=<span class="hljs-number">16</span>,h=<span class="hljs-number">16</span>&#125;))<br>            title_items = &#123;&#125;<br><br>            <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> <span class="hljs-built_in">pairs</span>(raw_json.list) <span class="hljs-keyword">do</span><br>                _title = v.title<br>                _url = <span class="hljs-string">&quot;https://sspai.com/post/&quot;</span> .. v.id<br>                articleKey[k] = _url<br>                <span class="hljs-built_in">table</span>.<span class="hljs-built_in">insert</span>( title_items, &#123;title = _title, fn = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span> openArticle(articleKey[k]) <span class="hljs-keyword">end</span>&#125;)<br>            <span class="hljs-keyword">end</span><br><br>            updateMenubar()<br>        <span class="hljs-keyword">end</span><br>    )<br><span class="hljs-keyword">end</span><br><br>getArticles()<br>updateMenubar()<br>hs.timer.doEvery(s, getArticles)<br></code></pre></td></tr></table></figure>

<p>è¿™ä¹Ÿæ˜¯æ˜¨å¤©çœ‹å®Œluaæ•™ç¨‹åå†™çš„ç¬¬ä¸€ä¸ªè„šæœ¬ï¼Œè¿˜ç®—æ»¡æ„ã€‚</p>
<p>githubåœ°å€ï¼š<a href="https://github.com/alpha87/.hammerspoon/tree/master/sspai">https://github.com/alpha87/.hammerspoon/tree/master/sspai</a></p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>è„šæœ¬</tag>
        <tag>Hammerspoon</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºåˆæ¢</title>
    <url>/67.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2015/05/25/05/27/network-782707__480.png"> ä¸€ç›´æƒ³ç€å­¦ä¹ å¾®ä¿¡å°ç¨‹åºï¼Œå› ä¸ºå¤ªæ‡’ä¸€ç›´è€½æã€‚ ä¸»è¦çœ‹äº†è¯·æ±‚APIå’Œå°†è¯·æ±‚ç»“æœä¿å­˜åˆ°<code>data</code>é‡Œçš„éƒ¨åˆ†ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p>
<a id="more"></a>
<p>è¯·æ±‚é“¾æ¥ä½¿ç”¨çš„æ˜¯å’Œé£å¤©æ°”æ¥å£ã€‚</p>
<h2 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript">Page(&#123;<br>  data: &#123;<br>    infos: <span class="hljs-string">&quot;&quot;</span><br>  &#125;,<br>  onLoad: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>    <span class="hljs-comment">// è¿™è¡Œæ˜¯å…³é”®</span><br>    <span class="hljs-keyword">var</span> that = <span class="hljs-built_in">this</span><br><br>    <span class="hljs-comment">// å°ç¨‹åºè¯·æ±‚æ¥å£</span><br>    wx.request(&#123;<br>      url: <span class="hljs-string">&#x27;https://free-api.heweather.com/s6/weather?location=%E5%8C%97%E4%BA%AC&amp;key=8fbe6ffd3b024bfba065104eaec87196&#x27;</span>,<br>      header: &#123;<br>        <span class="hljs-string">&#x27;content-type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span><br>      &#125;,<br>      success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) </span>&#123;<br>        <span class="hljs-built_in">console</span>.log(res.data)<br><br>        <span class="hljs-comment">// é‡æ–°ç»™dataçš„infosèµ‹å€¼</span><br>        that.setData(&#123;<br>          infos: res.data<br>        &#125;)<br>      &#125;<br>    &#125;)<br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure>

<h2 id="index-wxml"><a href="#index-wxml" class="headerlink" title="index.wxml"></a>index.wxml</h2><figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;view class&#x3D;&quot;container&quot;&gt;<br>  &lt;view wx:if&#x3D;&quot;&#123;&#123; infos &#x3D;&#x3D;&#x3D; &#39;&#39;&#125;&#125;&quot;&gt;<br>    &lt;text&gt;æš‚æ— å¤©æ°”æ•°æ®&lt;&#x2F;text&gt;<br>  &lt;&#x2F;view&gt;<br>  &lt;view wx:else&gt;<br>    &lt;text&gt;&#123;&#123; infos.HeWeather6[0].now.tmp &#125;&#125; â„ƒ&lt;&#x2F;text&gt;<br>  &lt;&#x2F;view&gt;<br>&lt;&#x2F;view&gt;<br></code></pre></td></tr></table></figure>

<h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1g0xy7b8uw6j30ii0wcq3l.jpg"></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºå¦‚ä½•ä½¿ç”¨ UI ç»„ä»¶åº“</title>
    <url>/69.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2020/02/01/01/06/urban-4809320__480.jpg"> åœ¨åˆ›å»ºå°ç¨‹åºçš„æ—¶å€™ï¼Œæœ‰äº›æ ·å¼å¹¶ä¸å®Œå…¨éœ€è¦è‡ªå·±æ¥å†™ã€‚ å¯ä»¥ä½¿ç”¨å·²ç»æ„å»ºå¥½çš„æ¡†æ¶ï¼Œæ¯”å¦‚å®˜æ–¹çš„ UI ç»„ä»¶åº“ <a href="https://weui.io/">WeUI</a>ã€‚ æˆ‘ä»¬æœ¬æ¬¡ä½¿ç”¨çš„ç»„ä»¶åº“æ˜¯æœ‰èµçš„ <a href="https://youzan.github.io/vant-weapp/#/intro">Vant Weapp</a>ã€‚ ä½¿ç”¨åŸºäºå°ç¨‹åºäº‘å¼€å‘ï¼Œå’Œæœ¬åœ°å¼€å‘å¤§åŒå°å¼‚ã€‚</p>
<a id="more"></a>
<h1 id="npm-init"><a href="#npm-init" class="headerlink" title="npm init"></a>npm init</h1><p>ä½¿ç”¨äº‘å¼€å‘ä¼šåœ¨é¡¹ç›®ä¸‹è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª <code>miniprogram</code> æ–‡ä»¶å¤¹ï¼Œå•å‡»å³é”®ï¼Œé€‰æ‹©<strong>ç»ˆç«¯æ‰“å¼€</strong>ã€‚ åœ¨ç»ˆç«¯ä¸­è¾“å…¥<code>npm init</code>ï¼Œåˆå§‹åŒ–é¡¹ç›®ã€‚</p>
<h1 id="å®‰è£…-Vant-Weapp-åº“"><a href="#å®‰è£…-Vant-Weapp-åº“" class="headerlink" title="å®‰è£… Vant Weapp åº“"></a>å®‰è£… Vant Weapp åº“</h1><p>åˆå§‹åŒ–å®Œæˆåï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š <code>npm i vant-weapp -S --production</code> æ¥å®‰è£… Vant Weapp ç»„ä»¶åº“ã€‚</p>
<h1 id="æ„å»º-npm"><a href="#æ„å»º-npm" class="headerlink" title="æ„å»º npm"></a>æ„å»º npm</h1><p>åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„èœå•æ æ‰¾åˆ°<strong>å·¥å…·</strong>ï¼Œç‚¹å‡»<strong>æ„å»º npm</strong>ï¼Œæ„å»ºå®Œæˆååœ¨å³ä¾§<strong>è¯¦æƒ…</strong>ä¸­å¼€å¯<strong>ä½¿ç”¨ npm æ¨¡å—</strong>é€‰é¡¹ã€‚ <img src="https://user-images.githubusercontent.com/25655581/59421890-fc44f580-8e01-11e9-9df1-90d224a7dbe2.png" alt="æ„å»º npm"> <img src="https://user-images.githubusercontent.com/25655581/59421893-fea74f80-8e01-11e9-8b34-40f795cd6a5c.png" alt="ä½¿ç”¨ npm æ¨¡å—"></p>
<h1 id="å¼•ç”¨ç»„ä»¶åº“"><a href="#å¼•ç”¨ç»„ä»¶åº“" class="headerlink" title="å¼•ç”¨ç»„ä»¶åº“"></a>å¼•ç”¨ç»„ä»¶åº“</h1><p>åœ¨éœ€è¦ä½¿ç”¨ Vant ç»„ä»¶åº“çš„é¡µé¢çš„ json æ–‡ä»¶ä¸­ç¼–è¾‘ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">&quot;usingComponents&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;van-button&quot;</span>: <span class="hljs-string">&quot;vant-weapp/button&quot;</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å®Œæˆäº†ç»„ä»¶çš„å¼•ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å½’å¹¶æ’åº</title>
    <url>/30.html</url>
    <content><![CDATA[<p><img src="https://upload.wikimedia.org/wikipedia/commons/c/c5/Merge_sort_animation2.gif" alt="å½’å¹¶æ’åº"></p>
<h2 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h2><blockquote>
<p>å½’å¹¶æ’åºï¼ˆè‹±è¯­ï¼šMerge sortï¼Œæˆ–mergesortï¼‰ï¼Œæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•ï¼Œæ•ˆç‡ç‚º {\displaystyle O(n\log n)} {\displaystyle O(n\log n)}ï¼ˆå¤§Oç¬¦å·ï¼‰ã€‚1945å¹´ç”±çº¦ç¿°Â·å†¯Â·è¯ºä¼Šæ›¼é¦–æ¬¡æå‡ºã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ï¼Œä¸”å„å±‚åˆ†æ²»é€’å½’å¯ä»¥åŒæ—¶è¿›è¡Œã€‚<a href="https://zh.wikipedia.org/wiki/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F">ç»´åŸºç™¾ç§‘</a></p>
</blockquote>
<a id="more"></a>
<p>åŠ¨å›¾è§£é‡Š <img src="https://ws3.sinaimg.cn/large/006tKfTcly1g07kq5mndpg30mj0e1qcv.gif" alt="å½’å¹¶æ’åº"></p>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">Desc:</span><br><span class="hljs-string"></span><br><span class="hljs-string">        å½’å¹¶æ’åºï¼Œä¾¿äºç†è§£printäº†å¾ˆå¤šæ­¥éª¤ï¼Œ</span><br><span class="hljs-string">    çœ‹ç€éº»çƒ¦å¯ä»¥åˆ é™¤ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br>i = <span class="hljs-number">0</span><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">merge_sort</span>(<span class="hljs-params">_list</span>):</span><br><br>    <span class="hljs-keyword">global</span> i<br><br>    list_length = len(_list)<br><br>    <span class="hljs-keyword">if</span> list_length == <span class="hljs-number">1</span>:<br><br>        <span class="hljs-keyword">return</span> _list<br><br>    mid = list_length // <span class="hljs-number">2</span><br><br>    print(<span class="hljs-string">&quot;&#123;&#125; æ­£åœ¨æ’åºçš„åˆ—è¡¨: &#123;&#125;\n&quot;</span>.format(i, _list))<br><br>    i += <span class="hljs-number">1</span><br><br>    <span class="hljs-comment"># è¿™é‡Œä¸æ–­é€’å½’</span><br>    left_sorted_list = merge_sort(_list[:mid])<br><br>    print(<span class="hljs-string">&quot;å·¦ä¾§ï¼š&#123;&#125;&quot;</span>.format(left_sorted_list))<br><br>    <span class="hljs-comment"># å·¦ä¾§åˆ—è¡¨å®Œæˆåç»§ç»­é€’å½’å¤„ç†å³ä¾§åˆ—è¡¨</span><br>    right_sorted_list = merge_sort(_list[mid:])<br><br>    print(<span class="hljs-string">&quot;å³ä¾§ï¼š&#123;&#125;&quot;</span>.format(right_sorted_list))<br><br>    result = merge(left_sorted_list, right_sorted_list)<br><br>    print(<span class="hljs-string">&quot;&gt;&gt;&gt; å·²ç»å®Œæˆæ’åºï¼š&#123;&#125;\n&quot;</span>.format(result))<br><br>    <span class="hljs-keyword">return</span> result<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">merge</span>(<span class="hljs-params">left_list, right_list</span>):</span><br><br>    left, right = <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br><br>    merge_result = list()<br><br>    left_length = len(left_list)<br><br>    right_length = len(right_list)<br><br>    <span class="hljs-keyword">while</span> left &lt; left_length <span class="hljs-keyword">and</span> right &lt; right_length:<br><br>        <span class="hljs-keyword">if</span> left_list[left] &lt;= right_list[right]:<br><br>            merge_result.append(left_list[left])<br><br>            left += <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">else</span>:<br><br>            merge_result.append(right_list[right])<br><br>            right += <span class="hljs-number">1</span><br><br>    merge_result += left_list[left:]<br><br>    merge_result += right_list[right:]<br><br>    <span class="hljs-keyword">return</span> merge_result<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    _list = [<span class="hljs-number">54</span>, <span class="hljs-number">26</span>, <span class="hljs-number">93</span>, <span class="hljs-number">17</span>, <span class="hljs-number">77</span>, <span class="hljs-number">31</span>, <span class="hljs-number">44</span>, <span class="hljs-number">55</span>, <span class="hljs-number">20</span>]<br><br>    print(<span class="hljs-string">&quot;ç­‰å¾…æ’åºçš„åˆ—è¡¨: %s\n-----&quot;</span> % _list)<br><br>    sorted_alist = merge_sort(_list)<br><br>    print(<span class="hljs-string">&quot;-----\næ’åºå®Œæˆçš„åˆ—è¡¨ï¼š%s&quot;</span> % sorted_alist)<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºè¾“å…¥æ¡†çš„ä½¿ç”¨</title>
    <url>/70.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2014/04/03/11/07/keyboard-311803__480.png"> åˆ¶ä½œå¾®ä¿¡å°ç¨‹åºä¼šç»å¸¸æ¶‰åŠåˆ°è¾“å…¥æ¡†çš„ä½¿ç”¨ã€‚</p>
<a id="more"></a>
<p>æœ€ç®€å•çš„è¾“å…¥æ¡†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!-- index.wxml --&gt;<br><br>&lt;input type&#x3D;&quot;text&quot; bindconfirm&#x3D;&quot;searchItem&quot; placeholder&#x3D;&quot;æœç´¢å…³é”®è¯&quot; confirm-type&#x3D;&quot;search&quot;&gt;&lt;&#x2F;input&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// index.js</span><br><br>searchItem(event) &#123;<br>    <span class="hljs-keyword">if</span> (event.detail.value == <span class="hljs-string">&quot;&quot;</span>) &#123;<br>        wx.showToast(&#123;<br>            title: <span class="hljs-string">&#x27;å…³é”®è¯ä¸èƒ½ä¸ºç©ºï¼&#x27;</span>,<br>            image: <span class="hljs-string">&quot;../../images/error.png&quot;</span><br>        &#125;)<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        wx.navigateTo(&#123;<br>            url: <span class="hljs-string">`../search/search?keyword=<span class="hljs-subst">$&#123;event.detail.value&#125;</span>`</span>,<br>        &#125;)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å…·ä½“å±æ€§çš„æ„ä¹‰å¯ä»¥æŸ¥çœ‹<a href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html">å¾®ä¿¡å°ç¨‹åºæ–‡æ¡£</a>ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­å»º Lua å¼€å‘ç¯å¢ƒ</title>
    <url>/27.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/wPgo6lWLnCHe5if.png" alt="Lua"> <a href="https://www.lua.org/">Lua</a> æ˜¯ä¸€ç§å¼ºå¤§ã€é«˜æ•ˆã€è½»é‡çº§ã€å¯åµŒå…¥çš„è„šæœ¬è¯­è¨€ã€‚å®ƒæ”¯æŒè¿‡ç¨‹ç¼–ç¨‹ã€é¢å‘å¯¹è±¡ç¼–ç¨‹ã€å‡½æ•°ç¼–ç¨‹ã€æ•°æ®é©±åŠ¨ç¼–ç¨‹å’Œæ•°æ®æè¿°ã€‚</p>
<a id="more"></a>
<p>é¦–å…ˆéœ€è¦æ­å»ºLuaçš„å¼€å‘ç¯å¢ƒã€‚ æˆ‘ä»¬å®‰è£…Luaæœ€æ–°ç‰ˆæœ¬ 5.3.5</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">curl -R -O http:&#x2F;&#x2F;www.lua.org&#x2F;ftp&#x2F;lua-5.3.5.tar.gz<br>tar zxf lua-5.3.5.tar.gz<br>cd lua-5.3.5<br>make linux test<br></code></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯MacOSXï¼Œæœ€åä¸€æ¡å‘½ä»¤éœ€è¦ä½¿ç”¨<code>make macosx test</code>ã€‚ å®‰è£…å®Œæˆååˆ›å»ºè½¯é“¾ï¼šln -s ~/lua-5.3.5/src/lua /usr/bin/lua</p>
<h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p>åœ¨å®‰è£…è¿‡ç¨‹ä¸­å¦‚æœæŠ¥é”™ä¸ºï¼š<code>readline/readline.h: No such file or directory</code>ï¼Œè¯´æ˜ç¼ºå°‘ä¾èµ–ã€‚ Ubuntuï¼š<code>apt-get install -y libreadline-dev</code> CentOSï¼š<code>yum install -y readline-devel</code></p>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><p>å®‰è£…å®Œæˆååœ¨ç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">~ lua<br>Lua 5.3.5  Copyright (C) 1994-2018 Lua.org, PUC-Rio<br>&gt; print(&quot;hello, world&quot;)<br>hello, world<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>Ctrl+C</code>é€€å‡ºäº¤äº’å¼ç•Œé¢ã€‚ ä¹Ÿå¯ä»¥åˆ›å»ºæ–‡ä»¶ test.luaï¼Œå†…å®¹åŒä¸Šã€‚ ç»ˆç«¯æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">~ lua test.lua <br>hello,world<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·Luaçš„å¼€å‘ç¯å¢ƒå°±å®‰è£…å®Œæˆäº†ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Lua</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–­å¼€SSHåä»ç„¶è¿è¡Œå‘½ä»¤</title>
    <url>/28.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/CQcnAlDih7uz4qZ.jpg" alt="By Marlon Dutra"> å› ä¸ºç»å¸¸è¦åœ¨äº‘æœåŠ¡å™¨ä¸Šè·‘ä¸€äº›ç¨‹åºï¼Œä½†æ˜¯ä¸€æ—¦æ–­å¼€sshè¿æ¥å°±æ„å‘³ç€ç¨‹åºçš„ç»“æŸã€‚è¿™é‡Œæä¾›ä¸¤ä¸ªç®€å•çš„åŠæ³•ï¼Œå³ä½¿æ–­å¼€è¿æ¥ä¹Ÿèƒ½ç»§ç»­è¿è¡Œã€‚ æˆ‘ä»¬æ¥ç®€å•çš„äº†è§£ä¸€ä¸‹ã€‚</p>
<a id="more"></a>
<h2 id="ä½¿ç”¨nohupå‘½ä»¤"><a href="#ä½¿ç”¨nohupå‘½ä»¤" class="headerlink" title="ä½¿ç”¨nohupå‘½ä»¤"></a>ä½¿ç”¨nohupå‘½ä»¤</h2><p>å‘½ä»¤æ ¼å¼ï¼ˆå¸¸ç”¨ï¼‰ <code>nohup Command</code> Commandæ˜¯ä½ è¦è¿è¡Œçš„å‘½ä»¤ï¼Œæ¯”å¦‚è¯´ä½ è¦è¿è¡Œä¸€ä¸ªpythonæ–‡ä»¶ï¼Œå¯ä»¥è¿™æ ·è¾“å…¥ï¼š <code>nohup python test.py</code> å…¶å®å°±æ˜¯åœ¨å‘½ä»¤å‰åŠ nohupï¼Œå¾ˆç®€å•å§ï¼Ÿ åœ¨ä½¿ç”¨nohupå‘½ä»¤åä¼šç”Ÿæˆä¸€ä¸ªnohup.outæ–‡ä»¶,ç”¨äºå­˜æ”¾å‘½ä»¤æ‰§è¡Œçš„ç»“æœã€‚ ä¸€èˆ¬æƒ…å†µä¸‹åŸºæœ¬çš„å‘½ä»¤éƒ½å¯ä»¥åº”å¯¹äº†ã€‚</p>
<h2 id="ä½¿ç”¨screenå‘½ä»¤"><a href="#ä½¿ç”¨screenå‘½ä»¤" class="headerlink" title="ä½¿ç”¨screenå‘½ä»¤"></a>ä½¿ç”¨screenå‘½ä»¤</h2><p>é¦–å…ˆè¦å®‰è£…screenï¼š <code>pip install screen</code> å®‰è£…å¥½ä¹‹åè¾“å…¥screenå°±è¿›å…¥äº†screenä¼šè¯ï¼Œåœ¨screenä¼šè¯ä¸­è¿è¡Œå‘½ä»¤ï¼Œæ–­å¼€sshåä¹Ÿä¸ä¼šç»“æŸç¨‹åºã€‚ å½“ç„¶è¿˜æœ‰å¾ˆå¤šè§£å†³æ–­å¼€sshè¿æ¥åç»§ç»­è¿è¡Œå‘½ä»¤çš„åŠæ³•ï¼Œæˆ‘é€‰æ‹©äº†ä¸¤ä¸ªæ¯”è¾ƒç®€å•çš„ï¼Œå¦‚æœè¿™ä¸¤ä¸ªå‘½ä»¤è¿˜ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ï¼Œé‚£å°±è¯·ç»§ç»­Googleå•¦ï¼</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>SSH</tag>
        <tag>ç»ˆç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–°ä¹°æ¥çš„æœåŠ¡å™¨è¦æ€ä¹ˆé…ç½®</title>
    <url>/72.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/11/08/15/04/computer-2930704__480.jpg"></p>
<p>è®°å½•ä¸€ä¸‹åœ¨ä¸€å°å´­æ–°çš„æœåŠ¡å™¨ä¸Šå¿…è£…çš„å·¥å…·ã€‚</p>
<p>ä»¥å‰ç»å¸¸é‡è£…æœåŠ¡å™¨ï¼Œæ¯æ¬¡é‡è£…éƒ½æœ‰ä¸ä¸€æ ·çš„ä½“éªŒã€‚</p>
<p>äººç”Ÿè‹¦çŸ­ï¼Œå°±åˆ«çæŠ˜è…¾äº†ï½</p>
<a id="more"></a>
<h1 id="Oh-My-Zsh"><a href="#Oh-My-Zsh" class="headerlink" title="Oh My Zsh"></a>Oh My Zsh</h1><p>å®‰è£…å‘½ä»¤ï¼š</p>
<p><code>sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</code></p>
<h1 id="é…ç½®-zshrc"><a href="#é…ç½®-zshrc" class="headerlink" title="é…ç½® .zshrc"></a>é…ç½® .zshrc</h1><p>åœ¨ <code>~/.zshrc</code> é‡ŒåŠ å…¥ä»¥ä¸‹ä¸¤è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> LC_ALL=C.UTF-8<br><span class="hljs-built_in">export</span> LANG=C.UTF-8<br></code></pre></td></tr></table></figure>

<p>åŸå› è§ï¼š<a href="https://lijianxun.top/?p=37">è§£å†³locale.Error: unsupported locale settingé”™è¯¯</a></p>
<h1 id="mongo-æ•°æ®åº“"><a href="#mongo-æ•°æ®åº“" class="headerlink" title="mongo æ•°æ®åº“"></a>mongo æ•°æ®åº“</h1><p>è‡ªä»ç½‘é¡µæ”¹ç‰ˆä»¥åï¼Œä¸‹è½½é¡µé¢æ˜¯çœŸçš„éš¾æ‰¾ï¼Œä¸è¿‡æˆ‘å¸®ä½ ä»¬æ‰¾å¥½äº†ï¼š</p>
<p><a href="https://www.mongodb.com/download-center/community">https://www.mongodb.com/download-center/community</a></p>
<p>æœåŠ¡å™¨ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯ Ubuntu 16.04.6 LTSã€‚å®‰è£…é“¾æ¥å¦‚ä¸‹ï¼š</p>
<p><a href="https://fastdl.mongodb.org/linux/mongodb-linux-arm64-ubuntu1604-4.0.10.tgz">https://fastdl.mongodb.org/linux/mongodb-linux-arm64-ubuntu1604-4.0.10.tgz</a></p>
<h2 id="å®‰è£…å·¥å…·"><a href="#å®‰è£…å·¥å…·" class="headerlink" title="å®‰è£…å·¥å…·"></a>å®‰è£…å·¥å…·</h2><p><code>apt-get install libcurl3 openssl wget -y</code></p>
<p>å®‰è£…å¥½åä½¿ç”¨ <code>wget</code> å·¥å…·ä¸‹è½½ mongo æ•°æ®åº“ã€‚</p>
<h2 id="å®‰è£…-mongo-æ•°æ®åº“"><a href="#å®‰è£…-mongo-æ•°æ®åº“" class="headerlink" title="å®‰è£… mongo æ•°æ®åº“"></a>å®‰è£… mongo æ•°æ®åº“</h2><h3 id="ä¸‹è½½æ–‡ä»¶"><a href="#ä¸‹è½½æ–‡ä»¶" class="headerlink" title="ä¸‹è½½æ–‡ä»¶"></a>ä¸‹è½½æ–‡ä»¶</h3><p><code>wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-ubuntu1604-4.0.10.tgz</code></p>
<h3 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h3><p><code>tar -zxvf mongodb-linux-x86_64-ubuntu1604-4.0.10.tgz</code></p>
<p>ç§»åŠ¨åˆ° <code>/usr/local/mongodb</code> ä¸‹</p>
<p><code>mv mongodb-linux-x86_64-ubuntu1604-4.0.10 /usr/local/mongodb</code></p>
<p>åˆ›å»º <code>data</code> æ–‡ä»¶å¤¹</p>
<p><code>mkdir -p /data/db</code></p>
<h3 id="èµ‹äºˆæƒé™"><a href="#èµ‹äºˆæƒé™" class="headerlink" title="èµ‹äºˆæƒé™"></a>èµ‹äºˆæƒé™</h3><p><code>chmod 777 /data/*</code></p>
<h3 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h3><p><code>/usr/local/mongodb/bin/mongod</code></p>
<h2 id="è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="è®¾ç½®å¼€æœºå¯åŠ¨"></a>è®¾ç½®å¼€æœºå¯åŠ¨</h2><p><code>vim /etc/rc.local</code></p>
<p>åœ¨ <code>exit 0</code> å‰åŠ å…¥ <code>/usr/local/mongodb/bin/mongod</code></p>
<p>mongo æ•°æ®åº“é…ç½®å®Œæ¯•ã€‚</p>
<h1 id="é…ç½®-ssh-å¯†é’¥"><a href="#é…ç½®-ssh-å¯†é’¥" class="headerlink" title="é…ç½® ssh å¯†é’¥"></a>é…ç½® ssh å¯†é’¥</h1><p>ç»ˆç«¯è¾“å…¥ï¼š</p>
<p><code>ssh-keygen -t rsa -C &quot;gitä½¿ç”¨çš„é‚®ç®±åœ°å€&quot;</code></p>
<p>ä¸€ç›´å›è½¦å°±å¯ä»¥äº†ã€‚</p>
<p>å®ŒæˆåæŸ¥çœ‹</p>
<p><code>cat ~/.ssh/id_rsa.pub</code></p>
<p>åœ¨ github çš„è®¾ç½®é‡Œæ‰¾åˆ° SSH and GPG Keysï¼Œç‚¹å‡»å³ä¸Šè§’çš„ New SSH Keyã€‚</p>
<p>æ ‡é¢˜è‡ªå®šï¼ŒæŠŠåˆšæ‰å¤åˆ¶çš„åˆ° Key é‡Œã€‚</p>
<p><img src="https://user-images.githubusercontent.com/25655581/60577700-6ffb7200-9db2-11e9-9fac-d5a485fe61d4.png"></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>äº‘æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–°æ‰‹å…¥é—¨æ ‘è“æ´¾å¿…åšçš„å››ä»¶äº‹</title>
    <url>/73.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2019/09/02/15/43/smarthome-4447520__480.jpg"></p>
<p><strong>19å¹´æ›´æ–°ä¸€æ³¢ï¼Œæœ€æ–°ï¼ˆåªé™å›¾å½¢ç•Œé¢ï¼‰ç³»ç»Ÿï¼Œå·²ç»ä¸ç”¨å¤„ç†è¿™å››æ­¥äº†ï¼Œç³»ç»Ÿåˆå§‹åŒ–çš„æ—¶å€™å·²ç»è®¾ç½®å¥½äº†ã€‚</strong></p>
<p>å¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œå¼€å§‹æŠ˜è…¾æ ‘è“æ´¾æœ‰å››ä»¶äº‹å¿…é¡»å®Œæˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">1.æ›´æ¢å›½å†…æºã€‚<br>2.ç³»ç»Ÿæ˜¾ç¤ºä¸­æ–‡ã€‚<br>3.å®‰è£…ä¸­æ–‡è¾“å…¥æ³•ã€‚<br>4.è°ƒæ•´æ—¶åŒºæ—¶é—´ã€‚<br></code></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="å®‰è£…ç³»ç»Ÿ"><a href="#å®‰è£…ç³»ç»Ÿ" class="headerlink" title="å®‰è£…ç³»ç»Ÿ"></a>å®‰è£…ç³»ç»Ÿ</h2><p>å¦‚æœå®‰è£… Raspbian ç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªé“¾æ¥ä¸‹è½½é•œåƒï¼š</p>
<p>ä¸‹è½½é“¾æ¥ï¼š<a href="http://downloads.raspberrypi.org/raspbian_latest">http://downloads.raspberrypi.org/raspbian_latest</a></p>
<p>é»˜è®¤å¸å·ï¼š</p>
<p><strong>Username: pi</strong> <strong>Password: raspberryâ€‹â€‹</strong></p>
<p>å®‰è£…ç³»ç»Ÿçš„è¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šèµ„æ–™ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>
<h2 id="ä¿®æ”¹å›½å†…æº"><a href="#ä¿®æ”¹å›½å†…æº" class="headerlink" title="ä¿®æ”¹å›½å†…æº"></a>ä¿®æ”¹å›½å†…æº</h2><p>æœ€é‡è¦çš„ä¸€ä»¶äº‹è«è¿‡äºä¿®æ”¹å›½å†…æºï¼Œå› ä¸ºå…³ä¹åˆ°åä¸¤æ­¥èƒ½å¦æˆåŠŸå®‰è£…ä¸­æ–‡å­—åº“å’Œä¸­æ–‡è¾“å…¥æ³•ï¼ˆå›½å¤–çš„æºå»¶è¿Ÿé«˜ï¼Œå¯èƒ½å¯¼è‡´ä¸‹è½½å¤±è´¥ï¼‰ã€‚é¦–å…ˆè¦ç»™æ ‘è“æ´¾æ¢æºã€‚å›½å†…æºæœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬è¿™é‡Œé€‰ç”¨é˜¿é‡Œäº‘ã€‚</p>
<p>ç¼–è¾‘ <code>/etc/apt/sources.list</code>ã€‚</p>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><code class="hljs shell">sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak<br>sudo vim /etc/apt/sources.list<br></code></pre></td></tr></table></figure>

<p>è¿›å…¥ç¼–è¾‘ç•Œé¢ï¼Œåˆ é™¤åŸæœ‰çš„å†…å®¹æ·»åŠ ä¸‹æ–¹çš„æºã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;raspbian&#x2F;raspbian&#x2F;wheezy main non-free contrib<br>deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;raspbian&#x2F;raspbian&#x2F;wheezy main non-free contrib<br></code></pre></td></tr></table></figure>

<p><code>:wq</code>ä¿å­˜å¹¶é€€å‡º</p>
<p>è¾“å…¥<code>sudo apt-get update</code>å¯¹ç»ˆç«¯æ›´æ–°ï¼Œé‡å¯å³å¯å®Œæˆä¿®æ”¹ã€‚</p>
<h2 id="å®‰è£…ä¸­æ–‡å­—åº“"><a href="#å®‰è£…ä¸­æ–‡å­—åº“" class="headerlink" title="å®‰è£…ä¸­æ–‡å­—åº“"></a>å®‰è£…ä¸­æ–‡å­—åº“</h2><p>æ¥ç€ä¸Šä¸€æ­¥ï¼Œåœ¨æˆ‘ä»¬é‡å¯åï¼Œè¾“å…¥ç»ˆç«¯æ›´æ–°å‘½ä»¤:</p>
<p><code>sudo apt-get update</code></p>
<p>æ›´æ–°ä»¥åï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤:</p>
<p><code>sudo apt-get install -y ttf-wqy-zenhei</code></p>
<p>å°†èœå•ç•Œé¢è®¾ç½®æˆä¸­æ–‡ï¼š</p>
<p><code>sudo dpkg-reconfigure locales</code></p>
<p>ç”¨ç©ºæ ¼é”®å‹¾é€‰å‰é¢å¸¦æœ‰<code>zhCN</code>çš„é€‰é¡¹ï¼Œè¿™äº›è¡¨ç¤ºæ˜¯ä¸­æ–‡å­—åº“ã€‚ç¡®ä¿<code>zhCN.UTF-8</code>è¢«é€‰ä¸­ã€‚</p>
<p>åŒæ—¶åœ¨é€‰localå­—åº“æ—¶é€‰æ‹©<code>zh_CN.UTF-8</code>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æ‰“å¼€æµè§ˆå™¨ï¼Œç™»å½•ç™¾åº¦é¡µé¢æŸ¥çœ‹æ˜¯å¦å¯ä»¥æ˜¾ç¤ºä¸­æ–‡ï¼Œç¡®ä¿æ“ä½œæ— è¯¯ã€‚</p>
<h2 id="å®‰è£…ä¸­æ–‡è¾“å…¥æ³•"><a href="#å®‰è£…ä¸­æ–‡è¾“å…¥æ³•" class="headerlink" title="å®‰è£…ä¸­æ–‡è¾“å…¥æ³•"></a>å®‰è£…ä¸­æ–‡è¾“å…¥æ³•</h2><p>è¾“å…¥å‘½ä»¤ï¼š</p>
<p><code>sudo apt-get install -y scim-pinyin</code></p>
<p>å®‰è£…å®Œæˆåï¼Œé‡å¯æ ‘è“æ´¾ã€‚</p>
<h2 id="è®¾ç½®æ—¶é—´"><a href="#è®¾ç½®æ—¶é—´" class="headerlink" title="è®¾ç½®æ—¶é—´"></a>è®¾ç½®æ—¶é—´</h2><p>ä¿®æ”¹æ—¶é—´å‰åº”è¯¥ä¿®æ”¹æ ‘è“æ´¾çš„æ—¶åŒºï¼Œè¾“å…¥å‘½ä»¤ï¼š</p>
<p><code>sudo dpkg-reconfigure tzdata</code></p>
<p>é€‰æ‹©äºšæ´²ï¼Œç„¶åé€‰æ‹©ä¸Šæµ·ï¼Œè¾“å…¥dateåˆ·æ–°æ—¶é—´ã€‚</p>
<p>æ ‘è“æ´¾æ²¡æœ‰ç”µæ± ï¼Œæ‰€ä»¥æ–­ç”µåæ— æ³•ä¿å­˜æ—¶é—´ï¼Œä½†æ ‘è“æ´¾å¯ä»¥è·å–äº’è”ç½‘ä¸ŠntpæœåŠ¡å™¨æä¾›çš„æ—¶é—´ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š</p>
<p><code>sudo ntpd -s-d</code></p>
<p>æ¥æ ¡å‡†æ—¶é—´ã€‚â€‹</p>
<h2 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h2><p>å¥½äº†ï¼Œä»¥ä¸Šæ˜¯æ–°æ‰‹ä¸€å®šä¼šé‡åˆ°çš„é—®é¢˜ï¼Œå½“å¹´ä½œè€…ä¹Ÿæ˜¯æŸ¥é˜…äº†å¾ˆå¤šèµ„æ–™ï¼ŒæŒ‰è¿™ä¸ªæ­¥éª¤å®Œæˆçš„ï¼Œè¿™é‡Œä¸ºå¤§å®¶æ€»ç»“å‡ºæ¥ï¼Œå¸Œæœ›å¯¹å¤§å®¶å­¦ä¹ æ ‘è“æ´¾æœ‰ä¸€å®šå¸®åŠ©ã€‚åœ¨è¿™é‡Œè¦æä¾›ä¸€äº›é“¾æ¥ï¼Œå½“æ—¶æ˜¯é€šè¿‡è¿™äº›æ•™ç¨‹å®Œæˆè¿™äº›æ“ä½œã€‚æ„Ÿè°¢ï¼</p>
<p>ä¸‹è½½æ ‘è“æ´¾ç³»ç»Ÿï¼š<em><a href="http://shumeipai.nxez.com/download">http://shumeipai.nxez.com/download</a></em></p>
<p>æ›´æ¢é˜¿é‡Œäº‘ï¼š<em><a href="http://bbs.shumeipaiba.com/thread-5-1-1.html">http://bbs.shumeipaiba.com/thread-5-1-1.html</a></em></p>
<p>å®‰è£…ä¸­æ–‡å­—åº“å’Œä¸­æ–‡è¾“å…¥æ³•ï¼š <em><a href="http://shumeipai.nxez.com/2016/03/13/how-to-make-raspberry-pi-display-chinese.html">http://shumeipai.nxez.com/2016/03/13/how-to-make-raspberry-pi-display-chinese.html</a></em></p>
<p><em><a href="http://blog.csdn.net/c80486/article/details/8460321">http://blog.csdn.net/c80486/article/details/8460321</a></em></p>
<p>ä¿®æ”¹æ—¶é—´ï¼š <em><a href="http://shumeipai.nxez.com/2015/06/28/raspberry-pi-date-and-time-correction-method-allowed.html">http://shumeipai.nxez.com/2015/06/28/raspberry-pi-date-and-time-correction-method-allowed.html</a></em></p>
]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>æ ‘è“æ´¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¡¶æ’åº</title>
    <url>/65.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/8faOKuiXvmj6rqp.png"></p>
<h2 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h2><p><a href="https://zh.wikipedia.org/wiki/%E6%A1%B6%E6%8E%92%E5%BA%8F">æ¥è‡ªç»´åŸºç™¾ç§‘</a>ï¼š</p>
<blockquote>
<p>æ¡¶æ’åºï¼ˆBucket sortï¼‰æˆ–æ‰€è°“çš„ç®±æ’åºï¼Œæ˜¯ä¸€ä¸ªæ’åºæ¼”ç®—æ³•ï¼Œå·¥ä½œçš„åŸç†æ˜¯å°†é˜µåˆ—åˆ†åˆ°æœ‰é™æ•°é‡çš„æ¡¶é‡Œã€‚æ¯ä¸ªæ¡¶å†ä¸ªåˆ«æ’åºï¼ˆæœ‰å¯èƒ½å†ä½¿ç”¨åˆ«çš„æ’åºæ¼”ç®—æ³•æˆ–æ˜¯ä»¥é€’å›æ–¹å¼ç»§ç»­ä½¿ç”¨æ¡¶æ’åºè¿›è¡Œæ’åºï¼‰ã€‚æ¡¶æ’åºæ˜¯é¸½å·¢æ’åºçš„ä¸€ç§å½’çº³ç»“æœã€‚</p>
</blockquote>
<a id="more"></a>
<blockquote>
<p>æ¡¶æ’åºä»¥ä¸‹åˆ—ç¨‹åºè¿›è¡Œï¼š</p>
<ol>
<li>è®¾ç½®ä¸€ä¸ªå®šé‡çš„é˜µåˆ—å½“ä½œç©ºæ¡¶å­ã€‚</li>
<li>å¯»è®¿åºåˆ—ï¼Œå¹¶ä¸”æŠŠé¡¹ç›®ä¸€ä¸ªä¸€ä¸ªæ”¾åˆ°å¯¹åº”çš„æ¡¶å­å»ã€‚</li>
<li>å¯¹æ¯ä¸ªä¸æ˜¯ç©ºçš„æ¡¶å­è¿›è¡Œæ’åºã€‚</li>
<li>ä»ä¸æ˜¯ç©ºçš„æ¡¶å­é‡ŒæŠŠé¡¹ç›®å†æ”¾å›åŸæ¥çš„åºåˆ—ä¸­ã€‚</li>
</ol>
</blockquote>
<h2 id="pythonå®ç°"><a href="#pythonå®ç°" class="headerlink" title="pythonå®ç°"></a>pythonå®ç°</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Desc:</span><br><span class="hljs-string"></span><br><span class="hljs-string">        pythonå®ç°æ¡¶æ’åº</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bucket_sort</span>(<span class="hljs-params">_list</span>):</span><br><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        - Args:</span><br><span class="hljs-string"></span><br><span class="hljs-string">            _list (list): æœ‰åºæˆ–æ— åºåˆ—è¡¨</span><br><span class="hljs-string"></span><br><span class="hljs-string">        - Return:</span><br><span class="hljs-string"></span><br><span class="hljs-string">            æœ‰åºåˆ—è¡¨</span><br><span class="hljs-string"></span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-comment"># è·å–åˆ—è¡¨æœ€å¤§å€¼</span><br>    _max = max(_list)<br><br>    <span class="hljs-comment"># åˆ©ç”¨åˆ—è¡¨æœ€å¤§å€¼æ„é€ &quot;æ¡¶&quot;</span><br>    pipe_list = [<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(_max+<span class="hljs-number">1</span>)]<br><br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> _list:<br><br>        <span class="hljs-comment"># æ”¾åˆ°æ¯ä¸ª&quot;æ¡¶&quot;é‡Œ</span><br>        pipe_list[item] = <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> pipe_list[item] == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> pipe_list[item] + <span class="hljs-number">1</span><br><br>    end_list = list()<br><br>    <span class="hljs-comment"># åŠ ä¸Šè‡ªå¢ç´¢å¼•ï¼Œéå†&quot;æ¡¶&quot;</span><br>    <span class="hljs-keyword">for</span> idx, pipe_item <span class="hljs-keyword">in</span> enumerate(pipe_list):<br><br>        <span class="hljs-comment"># å¯¹éç©ºçš„&quot;æ¡¶&quot;è¿›è¡Œæ’åº</span><br>        <span class="hljs-keyword">if</span> pipe_item != <span class="hljs-number">0</span>:<br><br>            <span class="hljs-comment"># éå†æ˜¯ä¸ºäº†é˜²æ­¢æœ‰é‡å¤çš„é¡¹ä¸è¢«è¿‡æ»¤</span><br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(pipe_item):<br><br>                <span class="hljs-comment"># éç©º&quot;æ¡¶&quot;æ‰€åœ¨çš„ç´¢å¼•å³éœ€è¦æ’åºåˆ—è¡¨çš„é¡¹</span><br>                end_list.append(idx)<br><br>    <span class="hljs-keyword">return</span> end_list<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    _list = [<span class="hljs-number">54</span>, <span class="hljs-number">26</span>, <span class="hljs-number">93</span>, <span class="hljs-number">17</span>, <span class="hljs-number">77</span>, <span class="hljs-number">31</span>, <span class="hljs-number">44</span>, <span class="hljs-number">55</span>, <span class="hljs-number">55</span>, <span class="hljs-number">20</span>]<br>    print(<span class="hljs-string">&quot;æ’åºå‰ï¼š%s&quot;</span> % _list)<br>    print(<span class="hljs-string">&quot;æ’åºåï¼š%s&quot;</span> % bucket_sort(_list))<br><br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡å—åŒ–é…ç½® Vim</title>
    <url>/41.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/11/19/14/00/code-1839406__480.jpg"> ä¹‹å‰å°±æƒ³è¿‡æ¨¡å—åŒ–vimé…ç½®, ä½†æ˜¯æ²¡æœ‰åˆé€‚çš„æ•™ç¨‹, ä¸€ç›´æ‹–ç€, ç›´åˆ°çœ‹åˆ°æ­¤æ–‡ç« <a href="https://zhuanlan.zhihu.com/p/54864654">Vimrc Init.vimå¤ªé•¿äº†ï¼Ÿä¸å­˜åœ¨çš„</a>, æ ¹æ®Pendragonå¤§ä½¬çš„vimé…ç½®, æ¨¡ä»¿å¹¶ä¿®æ”¹äº†ä¸€æ³¢.</p>
<a id="more"></a>
<h2 id="dein-vim"><a href="#dein-vim" class="headerlink" title="dein.vim"></a><a href="https://github.com/Shougo/dein.vim">dein.vim</a></h2><blockquote>
<p>Dein.vim is a dark powered Vim/Neovim plugin manager.</p>
</blockquote>
<p>æˆ‘ä»¬å…ˆå®‰è£…dein. æ‰§è¡Œ <code>curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh &gt; installer.sh</code> ç„¶å <code>sh ./installer.sh ~/.cache/dein</code> å¥½åƒæœ‰äº›åŒå­¦å–œæ¬¢æŠŠdeinå®‰è£…åˆ°<code>.config</code>ä¸‹, æœ¬äººä¸æ˜¯å¾ˆå–œæ¬¢, æ‰€ä»¥è¿˜æ˜¯æŒ‰ç…§æ–‡æ¡£ç¤ºä¾‹ä¸­çš„è·¯å¾„å®‰è£…. å®‰è£…æˆåŠŸåä¼šæç¤ºå¦‚ä¸‹ä¿¡æ¯, ä¹‹åæˆ‘ä»¬ä¼šç”¨åˆ°, å…ˆä¿å­˜èµ·æ¥:</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><code class="hljs vim"><span class="hljs-comment">&quot;dein Scripts-----------------------------</span><br><span class="hljs-keyword">if</span> &amp;compatible<br>  <span class="hljs-keyword">set</span> nocompatible               <span class="hljs-comment">&quot; Be iMproved</span><br><span class="hljs-keyword">endif</span><br><br><span class="hljs-comment">&quot; Required:</span><br><span class="hljs-keyword">set</span> runtimepath+=/root/.cache/dein/repos/github.<span class="hljs-keyword">com</span>/Shougo/dein.<span class="hljs-keyword">vim</span><br><br><span class="hljs-comment">&quot; Required:</span><br><span class="hljs-keyword">if</span> dein#load_state(<span class="hljs-string">&#x27;/root/.cache/dein&#x27;</span>)<br>  <span class="hljs-keyword">call</span> dein#begin(<span class="hljs-string">&#x27;/root/.cache/dein&#x27;</span>)<br><br>  <span class="hljs-comment">&quot; Let dein manage dein</span><br>  <span class="hljs-comment">&quot; Required:</span><br>  <span class="hljs-keyword">call</span> dein#add(<span class="hljs-string">&#x27;/root/.cache/dein/repos/github.com/Shougo/dein.vim&#x27;</span>)<br><br>  <span class="hljs-comment">&quot; Add or remove your plugins here like this:</span><br>  <span class="hljs-comment">&quot;call dein#add(&#x27;Shougo/neosnippet.vim&#x27;)</span><br>  <span class="hljs-comment">&quot;call dein#add(&#x27;Shougo/neosnippet-snippets&#x27;)</span><br><br>  <span class="hljs-comment">&quot; Required:</span><br>  <span class="hljs-keyword">call</span> dein#end()<br>  <span class="hljs-keyword">call</span> dein#save_state()<br><span class="hljs-keyword">endif</span><br><br><span class="hljs-comment">&quot; Required:</span><br><span class="hljs-keyword">filetype</span> plugin <span class="hljs-built_in">indent</span> <span class="hljs-keyword">on</span><br><span class="hljs-keyword">syntax</span> enable<br><br><span class="hljs-comment">&quot; If you want to install not installed plugins on startup.</span><br><span class="hljs-comment">&quot;if dein#check_install()</span><br><span class="hljs-comment">&quot;  call dein#install()</span><br><span class="hljs-comment">&quot;endif</span><br><br><span class="hljs-comment">&quot;End dein Scripts-------------------------</span><br></code></pre></td></tr></table></figure>

<h2 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h2><p>å…·ä½“ç»“æ„ç±»ä¼¼è¿™æ ·: . â”œâ”€â”€ README.md â”œâ”€â”€ container â”‚Â Â  â”œâ”€â”€ colors â”‚Â Â  â”œâ”€â”€ config â”‚Â Â  â”œâ”€â”€ deincfg.vim â”‚Â Â  â”œâ”€â”€ ftplugin â”‚Â Â  â”œâ”€â”€ mapping.vim â”‚Â Â  â”œâ”€â”€ normal.vim â”‚Â Â  â””â”€â”€ plugin â””â”€â”€ init.vim æ¥ä¸‹æ¥åˆ†åˆ«ä»‹ç»æ¯ä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„ä½œç”¨, ä¸¾ä¾‹ä¸€äº›ç®€å•çš„ä½¿ç”¨.</p>
<h2 id="init-vim"><a href="#init-vim" class="headerlink" title="init.vim"></a>init.vim</h2><p>å®Œå…¨ä½¿ç”¨Pendragonçš„è„šæœ¬, åªæ˜¯æ ¹æ®è‡ªå·±çš„æ–‡ä»¶å¤¹è¿›è¡Œäº†è·¯å¾„ä¿®æ”¹.</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">for</span> <span class="hljs-keyword">file</span> in <span class="hljs-keyword">split</span>(<span class="hljs-built_in">glob</span>(<span class="hljs-string">&quot;/root/.config/nvim/container/*.vim&quot;</span>), <span class="hljs-string">&#x27;\n&#x27;</span>)<br>    <span class="hljs-keyword">exe</span> <span class="hljs-string">&#x27;source&#x27;</span> <span class="hljs-keyword">file</span><br><span class="hljs-keyword">endfor</span><br></code></pre></td></tr></table></figure>

<p>åº”è¯¥å¾ˆå¥½ç†è§£, éå†æ‰§è¡Œcontainerè·¯å¾„ä¸‹æ‰€æœ‰åç¼€ä¸ºvimçš„æ–‡ä»¶.</p>
<h2 id="container"><a href="#container" class="headerlink" title="container"></a>container</h2><p>ç”¨æ¥å­˜æ”¾æ‰€æœ‰é…ç½®.</p>
<h3 id="deincfg-vim"><a href="#deincfg-vim" class="headerlink" title="deincfg.vim"></a>deincfg.vim</h3><p>åŠ è½½deinæ’ä»¶, éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹:</p>
<ul>
<li><p>æ·»åŠ æ’ä»¶çš„æ—¶å€™ä¸ä½¿ç”¨<code>add</code>æ–¹æ³•, è€Œæ˜¯ä½¿ç”¨<code>load_toml</code>.</p>
</li>
<li><p>deinçš„è·¯å¾„ä¸€å®šè¦æ ¹æ®è‡ªèº«å®‰è£…æƒ…å†µä¿®æ”¹.</p>
</li>
<li><p>å¦‚æœæƒ³åœ¨å¯åŠ¨vimçš„æ—¶å€™, æ£€æµ‹æœ‰æœªå®‰è£…æ’ä»¶å¹¶å®‰è£…çš„è¯, è®°å¾—è§£æ³¨:</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">if</span> dein#check_install()<br>  <span class="hljs-keyword">call</span> dein#install()<br><span class="hljs-keyword">endif</span><br></code></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="mapping-vim"><a href="#mapping-vim" class="headerlink" title="mapping.vim"></a>mapping.vim</h3><p>ç”¨äºå­˜æ”¾å¿«æ·é”®. ä¾‹å¦‚ <code>map &lt;F2&gt; :NERDTreeToggle&lt;CR&gt;</code> æ¥å¼€/å…³ç›®å½•æ ‘.</p>
<h3 id="normal-vim"><a href="#normal-vim" class="headerlink" title="normal.vim"></a>normal.vim</h3><p>æ ¹æ®æƒ…å†µæ”¾ä¸€äº›å¸¸ç”¨é…ç½®. ä¾‹å¦‚ <code>syntax on</code> å¼€å¯è¯­æ³•é«˜äº®.</p>
<h2 id="colors"><a href="#colors" class="headerlink" title="colors"></a>colors</h2><p>ç”¨æ¥å­˜æ”¾è‡ªå®šä¹‰ä¸»é¢˜é…è‰².</p>
<h2 id="ftplugin"><a href="#ftplugin" class="headerlink" title="ftplugin"></a>ftplugin</h2><p>ç”¨æ¥æ”¾ä¸€äº›æŒ‰éœ€åŠ è½½çš„é…ç½®, ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥æ ¹æ®æ–‡ä»¶ç±»å‹, ä½¿ç”¨ä¸åŒçš„é…ç½®.</p>
<h2 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h2><p>å®‰è£…æ’ä»¶ä»¥åéœ€è¦ä¸€äº›è‡ªå®šä¹‰é…ç½®, å¯ä»¥å°†è¿™äº›è‡ªå®šä¹‰é…ç½®ä»¥æ’ä»¶åç§°å‘½å, å†™åˆ°å¯¹åº”çš„vimæ–‡ä»¶ä¸‹</p>
<h2 id="config"><a href="#config" class="headerlink" title="config"></a>config</h2><p>ä¿å­˜<code>toml</code>æ–‡ä»¶, é…åˆdeincfg.vim, åœ¨deinæ’ä»¶åŠ è½½çš„æ—¶å€™å¯¼å…¥tomlé‡Œçš„æ’ä»¶. ä¾‹å¦‚</p>
<figure class="highlight toml"><table><tr><td class="code"><pre><code class="hljs toml"><span class="hljs-section">[[plugins]]</span><br><span class="hljs-attr">repo</span> = <span class="hljs-string">&#x27;davidhalter/jedi-vim&#x27;</span><br></code></pre></td></tr></table></figure>

<p>å¦‚æœä½ è§£æ³¨äº†ä¸Šè¿°çš„ä¸‰è¡Œé…ç½®, åœ¨å¯åŠ¨vimçš„æ—¶å€™ä¼šè‡ªåŠ¨æ£€æµ‹æ’ä»¶çš„å®‰è£…æƒ…å†µ, è¿›è¡Œæ“ä½œ. å½“ç„¶ä½ è¦ç»‘å®š<code>plugin</code>ä¸‹çš„è‡ªå®šä¹‰é…ç½®, å¯ä»¥åœ¨æ’ä»¶ä¸‹ç´§è·Ÿç€æ·»åŠ : <code>hook_add = &#39;/root/.config/nvim/container/plugin/jedi-vim.vim&#39;</code> æ¥ä½¿è‡ªå®šä¹‰é…ç½®ç”Ÿæ•ˆ. <em>ç§ä¿¡äº†Pendragon, hook_addæ·»åŠ mapæ˜ å°„, hook_sourceæ·»åŠ callçš„æ’ä»¶æ–¹æ³•</em> å…·ä½“å¯ä»¥å‚è€ƒ &gt; <a href="https://qiita.com/delphinus/items/cd221a450fd23506e81a">[dein.vim] hook ã®ä¾¿åˆ©ãªä½¿ã„æ–¹</a> ä¸»è¦æ˜¯:</p>
<p>é’©å­çš„åå­—</p>
<p>å½“å®ƒè¢«æ‰§è¡Œæ—¶</p>
<p>hook_add</p>
<p>å½“dein.vimæ·»åŠ æ’ä»¶æ—¶</p>
<p>hook_source</p>
<p>å°±åœ¨åŠ è½½æ’ä»¶ä¹‹å‰</p>
<p>hook_post_source</p>
<p>æ’ä»¶åŠ è½½åç«‹å³</p>
<p>hook_post_update</p>
<p>æ’ä»¶æ›´æ–°åç«‹å³ç”Ÿæ•ˆ</p>
<p>hook_done_update</p>
<p>æ›´æ–°æ‰€æœ‰æ’ä»¶åç«‹å³</p>
<h2 id="å®Œäº‹"><a href="#å®Œäº‹" class="headerlink" title="å®Œäº‹"></a>å®Œäº‹</h2><p>æ¨¡å—åŒ–é…ç½®ä¾¿äºæ—¥åçš„ç»´æŠ¤å’Œç®¡ç†, ä¸åŒæ’ä»¶çš„è‡ªå®šä¹‰é…ç½®ä¸ä¼šæ··æ·†æˆ–æ˜¾å¾—ä¸æ•´é½. åŸºæœ¬è¿™äº›å°±æ˜¯æˆ‘ä¸ªäººæ¨¡å—åŒ–çš„é…ç½®, æœ‰å¾ˆå¤šä¸å®Œå–„çš„åœ°æ–¹. githubåœ°å€: <a href="https://github.com/alpha87/nvim">https://github.com/alpha87/nvim</a> å¯ä»¥å‚è€ƒä¸€ä¸‹æˆ‘çš„é…ç½®. ç›®å‰æˆ‘è¿˜æ²¡æœ‰ç”¨åˆ°å»¶è¿ŸåŠ è½½, å¦‚æœæƒ³å»¶è¿ŸåŠ è½½æ’ä»¶æˆ–ä¸€äº›é…ç½®, å¯å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/55455386">æ¨¡å—åŒ–ä½ çš„vimé…ç½®æ–‡ä»¶</a>.</p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>Neovim</tag>
        <tag>Vim</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨å¤šç§æ–¹æ³•çˆ¬å–è¶…ç¾çš„å£çº¸ç½‘ç«™ï¼ˆä¸€ï¼‰</title>
    <url>/80.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/06/02/02/33/triangles-1430105__480.png"> æœ€è¿‘å‘ç°äº†ä¸€ä¸ªå›½å¤–å¾ˆä¸é”™çš„å£çº¸ç½‘ç«™ Simple Desktop ï¼Œæ‰€æœ‰çš„å£çº¸éƒ½æ˜¯æ‰å¹³é£æ ¼ã€‚å¦‚æœä½ çš„ç³»ç»Ÿä¸»é¢˜æ˜¯æ‰å¹³é£æ ¼ï¼Œæˆ–è€…ä½ å¯¹æ‰å¹³åŒ–çš„å£çº¸æƒ…æœ‰ç‹¬é’Ÿï¼Œé‚£ä¹ˆè¿™ä¸ªç½‘ç«™ä¸€å®šé€‚åˆä½ ã€‚å› ä¸ºæ‰€æœ‰çš„å£çº¸çœ‹ç€éƒ½å¾ˆå–œæ¬¢ï¼Œå°±åˆ©ç”¨çˆ¬è™«æŠŠå£çº¸çš„åŸå›¾é“¾æ¥çˆ¬å–ä¸‹æ¥ã€‚</p>
<a id="more"></a>
<p>é¦–å…ˆçœ‹ä¸€ä¸‹ <a href="http://simpledesktops.com/browse/">Simple Desktop</a> ç½‘é¡µï¼Œç½‘é¡µç»“æ„æ¯”è¾ƒæ•´é½ï¼Œè¿˜æ˜¯å¾ˆå¥½çˆ¬å–çš„ã€‚ <a href="http://olzlqlgy5.bkt.clouddn.com/wallpaper.png"><img src="http://olzlqlgy5.bkt.clouddn.com/wallpaper.png" alt="img"></a> æˆ‘ä»¬å…ˆåˆ©ç”¨æœ€åŸºæœ¬çš„æ­£åˆ™çˆ¬å–ç½‘é¡µã€‚</p>
<h2 id="åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼çˆ¬å–"><a href="#åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼çˆ¬å–" class="headerlink" title="åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼çˆ¬å–"></a>åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼çˆ¬å–</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Pool<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> re<br><br>headers = &#123;<br>    <span class="hljs-string">&quot;User-Agent&quot;</span>:<span class="hljs-string">&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36&quot;</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_page</span>(<span class="hljs-params">url</span>):</span><br>    response = requests.get(url)<br>    <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>        <span class="hljs-keyword">return</span> response.text<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_index_page</span>(<span class="hljs-params">url</span>):</span><br>    pattern = re.compile(<span class="hljs-string">&#x27;&lt;a href=&quot;(.*?)&quot;&gt;&lt;img src=&quot;.*?&quot; title=&quot;.*?&quot; alt=&quot;.*?&quot; width=&quot;.*?&quot; height=&quot;.*?&quot; /&gt;&lt;/a&gt;&#x27;</span>)<br>    items = re.findall(pattern, url)<br>    <span class="hljs-keyword">return</span> [<span class="hljs-string">&quot;http://simpledesktops.com&quot;</span>+item <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items]<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_photo_page</span>(<span class="hljs-params">url</span>):</span><br>    pattern = re.compile(<span class="hljs-string">&#x27;&lt;a href=&quot;.*?&quot;&gt;&lt;img src=&quot;(.*?).625x385_q100.png&quot; title=&quot;(.*?)&quot; alt=&quot;.*?&quot; width=&quot;625px&quot; height=&quot;385px&quot;/&gt;&lt;/a&gt;&#x27;</span>)<br>    items = re.findall(pattern, url)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        <span class="hljs-keyword">yield</span> &#123;<br>            <span class="hljs-string">&quot;title&quot;</span>: item[<span class="hljs-number">1</span>],<br>            <span class="hljs-string">&quot;url&quot;</span>:item[<span class="hljs-number">0</span>]<br>        &#125;<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>(<span class="hljs-params">page</span>):</span><br>    url = <span class="hljs-string">&quot;http://simpledesktops.com/browse/&#123;&#125;/&quot;</span>.format(page)<br>    html = get_page(url)<br>    items = parse_index_page(html)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        url = get_page(item)<br>        htmls = parse_photo_page(url)<br>        <span class="hljs-keyword">for</span> html <span class="hljs-keyword">in</span> htmls:<br>            print(html)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pool = Pool()<br>    <span class="hljs-keyword">try</span>:<br>        pool.map(main, [page <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,<span class="hljs-number">51</span>)])<br>    <span class="hljs-keyword">except</span> BaseException <span class="hljs-keyword">as</span> e:<br>        print(<span class="hljs-string">&quot;Error:&quot;</span>,e)<br></code></pre></td></tr></table></figure>

<p>ä»£ç ä¸»è¦æ˜¯åˆ©ç”¨æ­£åˆ™çˆ¬å–æ¯ä¸ªå£çº¸çš„é“¾æ¥ï¼Œå†æ‰¾åˆ°å£çº¸çš„åŸå›¾é“¾æ¥ã€‚å…¶å®åœ¨åæ¥çš„çˆ¬å–è¿‡ç¨‹ä¸­å‘ç°æ ¹æœ¬æ²¡æœ‰è¿™ä¹ˆå¤æ‚ï¼Œåœ¨çˆ¬å–åˆ°å°é¢å›¾ç‰‡çš„é“¾æ¥åï¼Œå»æ‰åè¾¹çš„ä¸€äº›å†…å®¹å°±æ˜¯å£çº¸åŸå›¾çš„é“¾æ¥ï¼Œå› ä¸ºæ‰‹æ‡’ï¼Œæ‰€ä»¥è¿™æ®µä»£ç å°±æ²¡ä¿®æ”¹ã€‚ã€‚ã€‚</p>
<h2 id="åˆ©ç”¨BeautifulSoupçˆ¬å–"><a href="#åˆ©ç”¨BeautifulSoupçˆ¬å–" class="headerlink" title="åˆ©ç”¨BeautifulSoupçˆ¬å–"></a>åˆ©ç”¨BeautifulSoupçˆ¬å–</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Pool<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> re<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_page</span>(<span class="hljs-params">url</span>):</span><br>    html = requests.get(url).text<br>    bsobj = BeautifulSoup(html, <span class="hljs-string">&#x27;lxml&#x27;</span>)<br>    <span class="hljs-keyword">return</span> bsobj<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_page</span>(<span class="hljs-params">html</span>):</span><br>    items = html.findAll(<span class="hljs-string">&quot;div&quot;</span>,&#123;<span class="hljs-string">&quot;class&quot;</span>:<span class="hljs-string">&quot;desktop&quot;</span>&#125;)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        print(<span class="hljs-string">&quot;title: &#123;&#125;\nurl: &#123;&#125;&quot;</span>.format(item.img[<span class="hljs-string">&#x27;title&#x27;</span>],re_page(item.img[<span class="hljs-string">&#x27;src&#x27;</span>])))<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">re_page</span>(<span class="hljs-params">html</span>):</span><br>    pattern = re.compile(<span class="hljs-string">&#x27;(.*?).295x184_q100.png&#x27;</span>)<br>    items = re.findall(pattern, html)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        <span class="hljs-keyword">return</span> item<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>(<span class="hljs-params">page</span>):</span><br>    url = <span class="hljs-string">&quot;http://simpledesktops.com/browse/&#123;&#125;/&quot;</span>.format(page)<br>    html = get_page(url)<br>    parse_page(html)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    p = Pool()<br>    p.map(main, [page <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,<span class="hljs-number">51</span>)])<br></code></pre></td></tr></table></figure>

<p>ä»ä»£ç çš„è¡Œæ•°å°±èƒ½çœ‹å‡ºæ¥ï¼Œæ˜æ˜¾å°‘äº†ä¸€åŠã€‚å› ä¸ºå‘ç°è¿™ä¸ªè§„å¾‹åï¼Œåªè¦åˆ©ç”¨æ­£åˆ™æå–å‡ºå£çº¸åŸå›¾çš„é“¾æ¥å°±å¯ä»¥äº†ã€‚ è¿™ä¸¤éƒ¨åˆ†ä»£ç éƒ½æ²¡æœ‰åšä¿å­˜å¤„ç†ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« ä¼šä¿å­˜åˆ°mongoæ•°æ®åº“ä¸­ã€‚ æ•ˆæœå›¾ï¼š <a href="http://olzlqlgy5.bkt.clouddn.com/spiderbs.png"><img src="http://olzlqlgy5.bkt.clouddn.com/spiderbs.png" alt="img"></a> åˆ©ç”¨äº†å¤šè¿›ç¨‹çˆ¬å–ï¼Œæ•ˆç‡è¿˜æ˜¯å¾ˆé«˜çš„ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>è„šæœ¬</tag>
        <tag>å£çº¸</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨å¤šç§æ–¹æ³•çˆ¬å–è¶…ç¾çš„å£çº¸ç½‘ç«™ï¼ˆäºŒï¼‰</title>
    <url>/81.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/02/14/09/45/precious-1199183__480.jpg"> ç»§ç»­æ¥ç€ä¸Šç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•åˆ©ç”¨å¦å¤–ä¸¤ç§æ–¹å¼çˆ¬å– Simple Desktop ç½‘ç«™çš„å£çº¸ã€‚</p>
<a id="more"></a>
<p>è¿™ä¸ªæ–¹æ³•æˆ‘ä»¬è¦ä½¿ç”¨pyqueryåº“ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…å…ˆè¦ä½¿ç”¨pipå®‰è£…ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">pip install pyquery<br></code></pre></td></tr></table></figure>

<blockquote>
<p>ä½¿ç”¨pyquery cssé€‰æ‹©å™¨çˆ¬å–</p>
</blockquote>
<p>ä½¿ç”¨è¿™ä¸ªåº“å°±è¦å¯¹CSSé€‰æ‹©å™¨æœ‰ä¸€å®šäº†è§£ï¼Œè¶…ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œè¯¦ç»†å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚</p>
<blockquote>
<p>ä½¿ç”¨CSSé€‰æ‹©å™¨è®°ä½ä¸‰ç‚¹ï¼š 1.<code>class</code>ä½¿ç”¨<code>.</code> 2.<code>id</code>ä½¿ç”¨<code>#</code> 3.<code>tag</code>ç›´æ¥å†™</p>
</blockquote>
<p>è¿™æ ·åº”è¯¥å°±èƒ½çœ‹æ‡‚ä¸‹è¾¹ä»£ç çš„å®šä½éƒ¨åˆ†äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pyquery <span class="hljs-keyword">import</span> PyQuery <span class="hljs-keyword">as</span> pq<br><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Pool<br><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> pymongo<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_index_page</span>(<span class="hljs-params">url</span>):</span><br>    doc = pq(url)<br>    <span class="hljs-keyword">if</span> doc:<br>        titles = doc(<span class="hljs-string">&#x27;.desktop a img&#x27;</span>).items()<br>        photos = doc(<span class="hljs-string">&#x27;.desktop a img&#x27;</span>).items()<br>        <span class="hljs-keyword">for</span> title, photo <span class="hljs-keyword">in</span> zip(titles, photos):<br>            <span class="hljs-keyword">yield</span> &#123;<br>                <span class="hljs-string">&quot;title&quot;</span>: title.attr.title,<br>                <span class="hljs-string">&quot;url&quot;</span>:parse_page(photo.attr.src)<br>            &#125;<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_page</span>(<span class="hljs-params">html</span>):</span><br>    pattern = re.compile(<span class="hljs-string">&#x27;(.*?).295x184_q100.png&#x27;</span>)<br>    items = re.findall(pattern, html)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        <span class="hljs-keyword">return</span> item<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_to_mongo</span>(<span class="hljs-params">infos</span>):</span><br>    client = pymongo.MongoClient()<br>    db = client[<span class="hljs-string">&#x27;photos&#x27;</span>]<br>    infors = db[<span class="hljs-string">&#x27;wallpaper&#x27;</span>]<br>    infors.insert(infos)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>(<span class="hljs-params">page</span>):</span><br>    url = <span class="hljs-string">&quot;http://simpledesktops.com/browse/&#123;&#125;/&quot;</span>.format(page)<br>    <span class="hljs-keyword">for</span> infos <span class="hljs-keyword">in</span> get_index_page(url):<br>        <span class="hljs-keyword">try</span>:<br>            save_to_mongo(infos)<br>            print(<span class="hljs-string">&quot;Success!&quot;</span>)<br>        <span class="hljs-keyword">except</span> BaseException <span class="hljs-keyword">as</span> e:<br>            print(<span class="hljs-string">&quot;False&quot;</span>, e)<br>            <span class="hljs-keyword">break</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    p = Pool()<br>    <span class="hljs-keyword">try</span>:<br>    p.map(main, [page <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,<span class="hljs-number">51</span>)])<br>    <span class="hljs-keyword">except</span> BaseException <span class="hljs-keyword">as</span> e:<br>    print(<span class="hljs-string">&quot;Error! &quot;</span>,e)<br></code></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç åŒæ—¶å®ç°äº†å­˜å‚¨åˆ°Mongoæ•°æ®åº“ä¸­ã€‚ è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨xpathå®šä½ï¼Œè¿™æ®µä»£ç å®ç°äº†ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶å¤¹ã€‚</p>
<blockquote>
<p>åˆ©ç”¨xpathçˆ¬å–</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> etree<br><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Pool<br><span class="hljs-keyword">from</span> urllib.request <span class="hljs-keyword">import</span> urlopen<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> re<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_page</span>(<span class="hljs-params">url</span>):</span><br>    response = requests.get(url)<br>    <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>        <span class="hljs-keyword">return</span> response.text<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_page</span>(<span class="hljs-params">html</span>):</span><br>    response = etree.HTML(html)<br>    items = response.xpath(<span class="hljs-string">&quot;/html/body/div/div[2]/div/div[2]&quot;</span>)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        titles = item.xpath(<span class="hljs-string">&#x27;.//div/div/a/img/@title&#x27;</span>)<br>        urls = item.xpath(<span class="hljs-string">&#x27;.//div/div/a/img/@src&#x27;</span>)<br>        <span class="hljs-keyword">for</span> title, url <span class="hljs-keyword">in</span> zip(titles, urls):<br>            <span class="hljs-keyword">if</span> url <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>                print(<span class="hljs-string">&quot;Title: &#123;&#125;\nUrl: &#123;&#125;\n&quot;</span>.format(title, re_page(url)))<br>                download(title, re_page(url))<br>                print(<span class="hljs-string">&quot;ä¿å­˜æˆåŠŸ&quot;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">re_page</span>(<span class="hljs-params">html</span>):</span><br>    pattern = re.compile(<span class="hljs-string">&#x27;(.*?).295x184_q100.png&#x27;</span>)<br>    items = re.findall(pattern, html)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        <span class="hljs-keyword">return</span> item<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">download</span>(<span class="hljs-params">title, url</span>):</span><br>    <span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;/home/alpha/PycharmProjects/bizhi/wallpaper/&quot;</span> + str(title) + <span class="hljs-string">&quot;.png&quot;</span>, <span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-keyword">if</span> url <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            wallpaper = urlopen(url).read()<br>            f.write(wallpaper)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>(<span class="hljs-params">page</span>):</span><br>    url = <span class="hljs-string">&quot;http://simpledesktops.com/browse/&#123;&#125;/&quot;</span>.format(page)<br>    html = get_page(url)<br>    parse_page(html)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pool = Pool()<br>    pool.map(main, [page <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, <span class="hljs-number">51</span>)])<br></code></pre></td></tr></table></figure>

<p>åœ¨ä¿å­˜æ–‡ä»¶çš„è¿‡ç¨‹ä¸­æ‰å‘ç°æœ‰äº›å£çº¸åªæœ‰æ ‡é¢˜æ²¡æœ‰URLï¼Œæ‰€ä»¥åœ¨çˆ¬å–åˆ°æŸäº›åœ°æ–¹æ—¶ä¼šæŠ¥é”™ï¼Œç”¨ifåˆ¤æ–­ä¸€ä¸‹å°±å¥½äº†ã€‚ åœ¨å‘½åçš„æ—¶å€™å†™ä¸ºç»å¯¹è·¯å¾„ï¼Œä¿å­˜çš„æ—¶å€™å°±ä¼šä¿å­˜åˆ°å¯¹åº”æ–‡ä»¶å¤¹ä¸­ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>è„šæœ¬</tag>
        <tag>å£çº¸</tag>
      </tags>
  </entry>
  <entry>
    <title>çœ‹ä¹¦ä¸å®è·µ | åˆå­¦ Python å¿ƒå¾—</title>
    <url>/38.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/cSzEAg1QHUauTqO.jpg"> è¿™æ®µæ—¶é—´ä¹°äº†ä¸€äº›æœ‰å…³ Python çš„ä¹¦ï¼Œæ¯å¤©ä¸€è¾¹çœ‹ï¼Œä¸€è¾¹å†™ä¸€äº›çˆ¬è™«çš„ä»£ç ï¼Œå¯¼è‡´åšæ–‡ä¸€ç›´æ²¡æœ‰è·Ÿä¸Šè¿›åº¦ï¼Œæ²¡æœ‰åŠæ—¶è®°å½•è‡ªå·±çš„å­¦ä¹ çŠ¶å†µã€‚</p>
<a id="more"></a>
<p>ä»å­¦ä¹  Python çš„ç¬¬ä¸€å¤©èµ·ï¼Œåˆ°ç°åœ¨ä¹Ÿå·²ç»å­¦ä¹ äº†å°†è¿‘5æœ¬ Python çš„ä¹¦ç±äº†ã€‚ä¸¤æœ¬ç”µå­ä¹¦ï¼Œä¸‰æœ¬çº¸è´¨ä¹¦ã€‚åˆ†åˆ«æ˜¯ã€Šç¬¨åŠæ³•å­¦ Python ã€‹ã€<a href="https://bop.molun.net/">ã€Šç®€æ˜ Python æ•™ç¨‹ã€‹</a>ï¼›ã€Šé›¶åŸºç¡€å­¦ Python ã€‹ã€ã€Š Python è¯­è¨€åŠå…¶åº”ç”¨ã€‹ã€ã€Š Python å­¦ä¹ æ‰‹å†Œã€‹ã€‚è¿˜æœ‰ä¸€æœ¬ã€Š Python æ ¸å¿ƒç¼–ç¨‹ï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹æ²¡æœ‰å¼€å§‹çœ‹ã€‚è¿™äº›ä¹¦å¯æ˜¯ä¸€æœ¬æ¯”ä¸€æœ¬åšã€‚è¿™äº›ä¹¦æ˜¯ä»è¿™é‡Œçœ‹åˆ°çš„ï¼š<a href="https://zhuanlan.zhihu.com/p/21566058">é»„å“¥æ¨èå­¦ä¹  Python 10æœ¬å¥½ä¹¦ã€‚</a>ä¸ºäº†æ‰å®åŸºç¡€ï¼Œä¸æ–­åå¤å­¦ä¹  Python çš„è¯­æ³•ï¼Œæ•°æ®ç»“æ„ç­‰çŸ¥è¯†ï¼Œæˆ‘è§‰å¾—åå¤å­¦ä¹ åŸºç¡€çŸ¥è¯†å¹¶ä¸æ˜¯ä¸€ç§æµªè´¹æ—¶é—´çš„è¡Œä¸ºï¼Œæ‰å®çš„åŸºç¡€åœ¨å­¦ä¹ æ›´æ·±å¥¥çš„çŸ¥è¯†æ—¶æ‰èƒ½å¿«é€Ÿç†è§£ã€‚ åœ¨çœ‹ä¹¦çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç° Python ä¸ä»…æ˜¯ä¸€é—¨å¼ºå¤§çš„è¯­è¨€ï¼Œæ›´æ˜¯ä¸€ä¸ªéœ€è¦ä¸æ–­æ¢ç´¢çš„å·¨å¤§å®åº“ï¼Œå†…å®¹æ— ç©·æ— å°½ã€‚æ¯å­¦ä¹ ä¸€æ®µæ—¶é—´å°±æ„Ÿå¹ Python çš„å¼ºå¤§å’Œå·¨å¤§ã€‚æ¯ä¸€æœ¬ Python ä¹¦éƒ½æœ‰æ— ç©·çš„çŸ¥è¯†éœ€è¦è¢«æŒ–æ˜ï¼Œå…‰è¯»çº¸è´¨ä¹¦æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œåœ¨çœ‹ä¹¦çš„è¿‡ç¨‹ä¸­ï¼Œä½œè€…éƒ½ä¼šæ¨èåœ¨ä½¿ç”¨ Python åº“çš„æ—¶å€™å…ˆé˜…è¯»åº“ç›¸å…³çš„æ–‡æ¡£ã€‚ç°åœ¨æˆ‘ä¸»è¦å­¦ä¹ çˆ¬è™«ï¼Œçœ‹çš„æ˜¯<a href="http://beautifulsoup.readthedocs.io/zh_CN/latest/">BeautifulSoup</a>å’Œ<a href="http://cn.python-requests.org/zh_CN/latest/">Requests</a>åº“çš„å®˜æ–¹æ–‡æ¡£ã€‚è¿˜å¥½æœ‰ä¸­æ–‡ç‰ˆçš„ï¼Œè™½ç„¶ç°åœ¨çš„æµè§ˆå™¨éƒ½æœ‰ç¿»è¯‘åŠŸèƒ½ï¼Œç¿»è¯‘çš„è´¨é‡ä¹Ÿä¸ä½ï¼Œä½†æ˜¯æœºå™¨å°±æ˜¯æœºå™¨ï¼Œç¿»è¯‘çš„æ—¶å€™ä¼šæŠŠä»£ç ä¸€å¹¶ç¿»è¯‘ï¼Œçœ‹ç€å¾ˆç—›è‹¦å•Šã€‚ç°åœ¨çœ‹ä¹¦çš„æ—¶å€™è™½ç„¶æ²¡æœ‰åŠæ—¶æ›´æ–°åšæ–‡ï¼Œä½†æ˜¯åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ‘ä¼šè®°å½•ä¸‹æ¥ï¼Œç­‰çœ‹å®Œä¹¦å†æŸ¥èµ„æ–™è§£å†³ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿæœ‰åŠ©äºå·©å›ºçŸ¥è¯†ï¼Œè€Œä¸”æˆ‘ç°åœ¨æ‰‹è¾¹ Python çš„ä¹¦ä¹Ÿæœ‰å‡ æœ¬äº†ï¼Œæœ‰ä¸€äº›å†…å®¹å¯ä»¥å‡ æœ¬ä¹¦åŒæ—¶æ¯”è¾ƒå­¦ä¹ ï¼Œæ„Ÿè§‰å¾ˆä¸é”™ã€‚ æ¥ä¸‹æ¥å°±æ˜¯ç»ƒä¹ å†™ä»£ç äº†ã€‚å†™ä»£ç ä¸€å¼€å§‹æ˜¯ä¸€ä¸ªå¾ˆèŠ±è´¹æ—¶é—´çš„äº‹æƒ…ï¼Œå› ä¸ºä½ å¾—è€ƒè™‘å†™ä»£ç çš„æ€è·¯ï¼Œè§£å†³é‡åˆ°å„ç§å„æ ·çš„æœ‰è¶£çš„é—®é¢˜ã€‚æˆ‘çš„ç¬¬ä¸€ä¸ªçˆ¬è™«ä»£ç è™½ç„¶åªæœ‰30è¡Œå·¦å³ï¼Œä½†æ˜¯èŠ±è´¹äº†æˆ‘å°†è¿‘ä¸¤ä¸ªæ™šä¸Šä¸€ä¸ªç™½å¤©çš„æ—¶é—´ï¼Œç»“æœè¿˜æ˜¯å¥½çš„ï¼Œè¾¾åˆ°äº†æˆ‘çš„é¢„æœŸæ•ˆæœã€‚ä¸è¿‡æœ‰ä¸€äº›ç»†èŠ‚è¿˜æ˜¯éœ€è¦æ³¨æ„çš„ã€‚åœ¨å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°æœ‰å¾ˆå¤šé—®é¢˜éœ€è¦æ³¨æ„ï¼Œå¦‚æœä½ å’Œæˆ‘ä¸€æ ·åŒæ ·æ˜¯æ–°æ‰‹ï¼Œå°±å½“æˆ‘ç»™ä½ æé†’äº†ã€‚ å†™ä»£ç ä¹‹å‰æœ€é‡è¦çš„æ˜¯è¦è€ƒè™‘æ¸…æ¥šï¼Œè¿™æ®µä»£ç å†™å®Œä»¥åï¼Œéœ€è¦å®Œæˆä¸€ä¸ªæ€æ ·çš„ä»»åŠ¡ï¼Œç„¶åæŠŠä»»åŠ¡ç»†åˆ†åŒ–ã€‚æ¯”å¦‚è¯´æˆ‘çš„ç¬¬ä¸€ä¸ªä»£ç æ˜¯æ‰¹é‡ä¸‹è½½å›¾ç‰‡ï¼Œè¿™ä¹Ÿæ˜¯çˆ¬è™«æ–°æ‰‹ç»å¸¸ç»ƒä¹ çš„ä»£ç ã€‚æ€è·¯è¦æ¸…æ™°ï¼š</p>
<ol>
<li>è§£æç½‘ç«™ï¼Œåˆ©ç”¨æµè§ˆå™¨çš„å¼€å‘è€…æ¨¡å¼æŸ¥çœ‹ç½‘é¡µä»£ç </li>
<li>åˆ†æå›¾ç‰‡<code>URL</code>æ‰€åœ¨çš„æ ‡ç­¾</li>
<li>æŠŠ<code>URL</code>å¯¹åº”çš„å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°</li>
</ol>
<p>è¿™å°±æ˜¯æˆ‘çˆ¬å–å›¾ç‰‡çš„æ€è·¯ã€‚ç„¶åè§£å†³æ¯ä¸ªé—®é¢˜ã€‚ é¦–å…ˆè¦è§£å†³çš„æ˜¯åˆ†æç½‘ç«™çš„<code>URL</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> urllib.request <span class="hljs-keyword">import</span> urlopen<br></code></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é…åˆä½¿ç”¨<code>BeautifulSoup</code>ï¼Œä¸è¿‡ä¸æ˜¯å¿…é¡»çš„ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br></code></pre></td></tr></table></figure>

<p>å¯¼å…¥è¿™ä¸¤ä¸ªåº“ä»¥åå°±å¯ä»¥å¼€å§‹å†™ä»£ç äº†ã€‚å› ä¸ºä¸€ä¼šå„¿è¿˜è¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œæ‰€ä»¥å†å¯¼å…¥<code>re</code>åº“</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å®Œæˆè¿™ä¸ªä»»åŠ¡è¦åˆ†ä¸‰å¤§éƒ¨åˆ†ï¼Œç¬¬ä¸€æ­¥æ˜¯è§£æç½‘é¡µï¼Œç¬¬äºŒæ­¥åˆ©ç”¨æ­£åˆ™æ‰¾å‡ºæˆ‘ä»¬è¦çš„å†…å®¹ï¼Œç¬¬ä¸‰æ­¥å°±æ˜¯ä¿å­˜åˆ°æœ¬åœ°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_html</span>():</span><br>    url = <span class="hljs-string">&quot;https://movie.douban.com/chart&quot;</span><br>    douban = urlopen(url)<br>    html = douban.read()<br>    html = html.decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>    <span class="hljs-keyword">return</span> html<br></code></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç å°±æ˜¯åˆ†æè±†ç“£ç”µå½±çš„<code>URL</code>ï¼Œè¿è¡Œä»¥åæ§åˆ¶å°è¾“å‡ºäº†ç½‘é¡µçš„æºä»£ç ã€‚è¿™å°±æ˜¯ç¬¬ä¸€æ­¥ã€‚ ç¬¬äºŒæ­¥æˆ‘ä»¬éœ€è¦æ‰¾åˆ°å›¾ç‰‡çš„ç›¸å…³ä»£ç ï¼š ![è±†ç“£å›¾ç‰‡ä»£ç ](<a href="https://img-/">https://img-</a> blog.csdn.net/20170114172122476?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQV9sUGhh/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;img src&#x3D;&quot;https:&#x2F;&#x2F;img3.doubanio.com&#x2F;view&#x2F;movie_poster_cover&#x2F;ipst&#x2F;public&#x2F;p2393044761.jpg&quot; alt&#x3D;&quot;é©´å¾—æ°´&quot; class&#x3D;&quot;&quot;&#x2F;&gt;<br></code></pre></td></tr></table></figure>

<p>è¿™æ®µæ˜¯æˆ‘ä»¬åœ¨å†™æ­£åˆ™è¡¨è¾¾å¼è¦ç”¨åˆ°çš„ã€‚ ç¬¬äºŒæ­¥ï¼Œå®šä¹‰å‡½æ•°ï¼Œç”¨æ­£åˆ™è¡¨è¾¾å¼ç­›é€‰å‡ºå›¾ç‰‡å¯¹åº”çš„<code>URL</code>å’Œç”µå½±åç§°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">html</span>):</span><br>    reg = re.compile(<span class="hljs-string">r&#x27;&lt;img src=&quot;(.*?)&quot; alt=&quot;(.*?)&quot; class=&quot;&quot;/&gt;&#x27;</span>)<br>    item = re.findall(reg, html)<br>    print(item)<br>    <span class="hljs-keyword">return</span> item<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸¤æ­¥å®Œæ•´çš„ä»£ç æ˜¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> urllib.request <span class="hljs-keyword">import</span> urlopen<br><span class="hljs-keyword">import</span> re<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_html</span>():</span><br>    url = <span class="hljs-string">&quot;https://movie.douban.com/chart&quot;</span><br>    douban = urlopen(url)<br>    html = douban.read()<br>    html = html.decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>    <span class="hljs-keyword">return</span> html<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">html</span>):</span><br>    reg = re.compile(<span class="hljs-string">r&#x27;&lt;img src=&quot;(.*?)&quot; alt=&quot;(.*?)&quot; class=&quot;&quot;/&gt;&#x27;</span>)<br>    item = re.findall(reg, html)<br>    print(item)<br>    <span class="hljs-keyword">return</span> item<br><br>a = get_html()<br>get(a)<br></code></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">[(<span class="hljs-string">&#x27;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2393044761.jpg&#x27;</span>, <span class="hljs-string">&#x27;é©´å¾—æ°´&#x27;</span>), (<span class="hljs-string">&#x27;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2391556881.jpg&#x27;</span>, <span class="hljs-string">&#x27;å¤œè¡ŒåŠ¨ç‰©&#x27;</span>), (<span class="hljs-string">&#x27;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2402824160.jpg&#x27;</span>, <span class="hljs-string">&#x27;28å²æœªæˆå¹´&#x27;</span>), (<span class="hljs-string">&#x27;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2407543903.jpg&#x27;</span>, <span class="hljs-string">&#x27;æ— åå¥³å°¸&#x27;</span>), (<span class="hljs-string">&#x27;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2403319543.jpg&#x27;</span>, <span class="hljs-string">&#x27;è¨åˆ©æœºé•¿&#x27;</span>), (<span class="hljs-string">&#x27;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2370911211.jpg&#x27;</span>, <span class="hljs-string">&#x27;ä¸­é‚ª&#x27;</span>), (<span class="hljs-string">&#x27;https://img5.doubanio.com/view/movie_poster_cover/ipst/public/p2380677316.jpg&#x27;</span>, <span class="hljs-string">&#x27;æ¹„å…¬æ²³è¡ŒåŠ¨&#x27;</span>), (<span class="hljs-string">&#x27;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2326264650.jpg&#x27;</span>, <span class="hljs-string">&#x27;æ€»æœ‰ä¸€å¤©&#x27;</span>), (<span class="hljs-string">&#x27;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2409793660.jpg&#x27;</span>, <span class="hljs-string">&#x27;å¤§å”çš„çˆ±&#x27;</span>), (<span class="hljs-string">&#x27;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2355993802.jpg&#x27;</span>, <span class="hljs-string">&#x27;ä¼šè®¡åˆºå®¢&#x27;</span>)]<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·å°±åšåˆ°äº†å›¾ç‰‡åœ°å€å’Œå¯¹åº”ç”µå½±åç§°çš„ç­›é€‰å·¥ä½œï¼Œæ³¨æ„è¿™æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚å› ä¸ºç°åœ¨çš„èƒ½åŠ›æœ‰é™ï¼Œå¦‚æœæƒ³è¦ä¸‹è½½åˆ°æœ¬åœ°è¿˜å¾—åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ã€‚ ç¬¬ä¸‰æ­¥ï¼Œç”¨<code>re</code>é‡æ–°åˆ†æå›¾ç‰‡åœ°å€å¹¶ä¸‹è½½å›¾ç‰‡ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">download</span>(<span class="hljs-params">html</span>):</span><br>    reg = re.compile(<span class="hljs-string">r&#x27;&lt;img src=&quot;(.*?)&quot; alt=&quot;.*?&quot; class=&quot;&quot;/&gt;&#x27;</span>)<br>    item = re.findall(reg, html)<br>    print(item)<br><br>    i = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> photo_html <span class="hljs-keyword">in</span> item:<br>        f = open(str(i) + <span class="hljs-string">&quot;.jpg&quot;</span>, <span class="hljs-string">&quot;wb&quot;</span>)<br>        req = urlopen(photo_html)<br>        buf = req.read()<br>        f.write(buf)<br>        print(<span class="hljs-string">&quot;æ­£åœ¨ä¸‹è½½ä¸­...&quot;</span>)<br>        i += <span class="hljs-number">1</span><br>        f.close()<br>    print(<span class="hljs-string">&quot;ä¸‹è½½å®Œæˆ&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç å®Œæˆäº†å›¾ç‰‡çš„ä¿å­˜ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„å·¥ä½œæ˜¯æŠŠå›¾ç‰‡çš„<code>URL</code>å‚¨å­˜åœ¨åˆ—è¡¨é‡Œï¼Œ<code>for</code>å¾ªç¯ä¸‹è½½ä¾æ¬¡ä¸‹è½½åˆ—è¡¨é‡Œçš„æ¯ä¸€ä¸ªæ–‡ä»¶ï¼Œè®°å¾—å…³é—­æ–‡ä»¶ã€‚æ‰€ä»¥ä»è±†ç“£ç”µå½±ä¸‹è½½å®Œæ•´çš„ç”µå½±æµ·æŠ¥çš„å®Œæ•´ä»£ç æ˜¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> urllib.request <span class="hljs-keyword">import</span> urlopen<br><span class="hljs-keyword">import</span> re<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_html</span>():</span><br>    url = <span class="hljs-string">&quot;https://movie.douban.com/chart&quot;</span><br>    douban = urlopen(url)<br>    html = douban.read()<br>    html = html.decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>    <span class="hljs-keyword">return</span> html<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">html</span>):</span><br>    reg = re.compile(<span class="hljs-string">r&#x27;&lt;img src=&quot;(.*?)&quot; alt=&quot;(.*?)&quot; class=&quot;&quot;/&gt;&#x27;</span>)<br>    item = re.findall(reg, html)<br>    <span class="hljs-keyword">return</span> item<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">download</span>(<span class="hljs-params">html</span>):</span><br>    reg = re.compile(<span class="hljs-string">r&#x27;&lt;img src=&quot;(.*?)&quot; alt=&quot;.*?&quot; class=&quot;&quot;/&gt;&#x27;</span>)<br>    item = re.findall(reg, html)<br>    print(item)<br><br>    i = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> photo_html <span class="hljs-keyword">in</span> item:<br>        f = open(str(i) + <span class="hljs-string">&quot;.jpg&quot;</span>, <span class="hljs-string">&quot;wb&quot;</span>)<br>        req = urlopen(photo_html)<br>        buf = req.read()<br>        f.write(buf)<br>        print(<span class="hljs-string">&quot;æ­£åœ¨ä¸‹è½½ä¸­...&quot;</span>)<br>        i += <span class="hljs-number">1</span><br>        f.close()<br>    print(<span class="hljs-string">&quot;ä¸‹è½½å®Œæˆ&quot;</span>)<br>a = get_html()<br>get(a)<br>download(a)<br></code></pre></td></tr></table></figure>

<p>è¿™æ˜¯æˆ‘çˆ¬è™«çš„æ€è·¯ï¼Œä»£ç å¾ˆæ–°æ‰‹ï¼Œä¹Ÿå¾ˆå¥½ç†è§£ã€‚æˆ‘è®¤ä¸ºè¿™æ®µä»£ç æœ‰å¾ˆå¤šå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼šæ­£åˆ™è¡¨è¾¾å¼çš„è¿ç”¨ï¼Œä¸‹è½½å›¾ç‰‡çš„ä»£ç éƒ½éœ€è¦æ”¹è¿›ã€‚ è¿™æ˜¯æˆ‘ç¬¬ä¸€ä¸ªçˆ¬è™«ä»£ç ï¼Œåæ¥æˆ‘è¿˜å†™äº†çˆ¬å–ç®€ä¹¦30æ—¥æ’è¡Œæ¦œï¼Œè±†ç“£ç”µå½±æ’è¡Œæ¦œç­‰ä»£ç ï¼Œå› ä¸ºæ­£åˆ™è¡¨è¾¾å¼çš„é—®é¢˜ï¼Œè¿˜ä¸èƒ½æ­£ç¡®åŒ¹é…åˆ°ä¿¡æ¯ã€‚æ­£åˆ™è¡¨è¾¾å¼è¿˜æ˜¯ä¸€ä¸ªéœ€è¦é©¬ä¸Šæ”»å…‹çš„éš¾é¢˜å•Šï¼ŒåŒ¹é…ä¸æ­£ç¡®å°±ä¸èƒ½çˆ¬åˆ°ä¿¡æ¯ã€‚ è·¯è¿˜å¾ˆé•¿å¾ˆé•¿ã€‚</p>
<h1 id="è·¯è¿˜å¾ˆé•¿å¾ˆé•¿ã€‚"><a href="#è·¯è¿˜å¾ˆé•¿å¾ˆé•¿ã€‚" class="headerlink" title="è·¯è¿˜å¾ˆé•¿å¾ˆé•¿ã€‚"></a>è·¯è¿˜å¾ˆé•¿å¾ˆé•¿ã€‚</h1><p>æ›´æ–°ï¼šå®Œæˆäº†æ­£åˆ™åŒ¹é…å·¥ä½œï¼ŒæˆåŠŸçˆ¬åˆ°äº†ç®€ä¹¦30æ—¥æ’è¡Œæ–‡ç« çš„ä¸€éƒ¨åˆ†ã€‚ç°åœ¨éœ€è¦åšçš„æ˜¯è§£æç½‘é¡µè·å–æœªåŠ è½½çš„å†…å®¹ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>å¿ƒå¾—</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®¡ç†Macå¯åŠ¨å°ï¼ˆLaunchpadï¼‰å›¾æ ‡ï¼Œåˆ é™¤æˆ–ç§»åŠ¨</title>
    <url>/29.html</url>
    <content><![CDATA[<p><img src="http://launchpadmanager.com/images/img-c.png" alt="Manager"> è¯´èµ· Mac çš„å¯åŠ¨å°ï¼ˆLaunchpadï¼‰ï¼Œæ²¡æœ‰å¼ºè¿«ç—‡çš„åŒå­¦è¿˜å¥½ï¼Œå¯èƒ½å¯¹è¿™ä¸ªä¸æ˜¯å¾ˆæ•æ„Ÿã€‚ ä»Šå¤©æ¨èçš„è¿™æ¬¾å…è´¹åº”ç”¨ï¼Œä¸€èˆ¬ä¸ä¼šç”¨åˆ°ï¼Œä½†æ˜¯æƒ³è¦ç”¨å´ç”¨ä¸åˆ°çš„æ—¶å€™ä¼šéå¸¸éš¾å—ï¼Œæ‰€ä»¥å»ºè®®åŒå­¦ä»¬å…ˆæ”¶è—ï¼Œè¯´ä¸å‡†å“ªå¤©çœŸçš„å°±ç”¨åˆ°äº†ã€‚ <strong>Launchpad Manager</strong>ï¼šè¿™æ¬¾è½¯ä»¶å°±æ˜¯ç”¨æ¥ä¿®æ”¹ Mac å¯åŠ¨å°çš„å›¾æ ‡ï¼Œåç§°ï¼Œä»¥åŠå¸ƒå±€ç­‰æ“ä½œã€‚ å…ˆæŠŠå®˜ç½‘æ”¾å‡ºæ¥ï¼š<a href="http://launchpadmanager.com/">http://launchpadmanager.com</a> æˆ‘ä»¬ä¸€å®šï¼ˆå¯èƒ½ï¼‰é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼Œå®‰è£…ä¸€æ¬¾ Mac åº”ç”¨ï¼Œæå¸¦åœ¨å¯åŠ¨å°å¤šå‡ºäº†å¾ˆå¤šæ²¡å¿…è¦çš„å›¾æ ‡ï¼Œå¯èƒ½æ˜¯é™„åŠ å·¥å…·ï¼Œå¯èƒ½æ˜¯å¸è½½ç¨‹åºã€‚ä¸€èˆ¬è¿™ç±»å›¾æ ‡éƒ½éå¸¸ä¸ç¾è§‚ã€‚ä¾‹å¦‚å‰ä¸¤å¤©æˆ‘è£…äº†ä¸€æ¬¾ PSï¼Œå¤šå‡ºäº†ä¸€ä¸ªâ€œå¸è½½ PSâ€çš„å›¾æ ‡ï¼Œè™½ç„¶æˆ‘åœ¨åº”ç”¨ç¨‹åºçš„æ–‡ä»¶å¤¹å·²ç»åˆ äº†è¿™ä¸ªç¨‹åºï¼Œä½†å›¾æ ‡ä»ç„¶ä¿ç•™åœ¨å¯åŠ¨å°ã€‚è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œä½ åœ¨ Python å®˜æ–¹ä¸‹è½½çš„Macç«¯ï¼Œå®‰è£…ä»¥åä¼šå¤šå‡ºä¸¤ä¸ªå›¾æ ‡ï¼Œä¸€ä¸ªæ˜¯ IDEAï¼Œä¸€ä¸ªæ˜¯ Python launchï¼Œä¸€èˆ¬æ ¹æœ¬ç”¨ä¸åˆ°è¿™ä¸¤ä¸ªç¨‹åºï¼Œæ”¾åœ¨å¯åŠ¨å°é‡Œçœ‹ç€ä¹Ÿéš¾å—ã€‚è€Œä¸”åˆ é™¤è¿™ä¸¤ä¸ªç¨‹åºè¿˜æœ‰å¯èƒ½å½±å“ Python çš„è¿è¡Œã€‚ ç½‘ä¸Šæœ‰è®¸å¤šæ”»ç•¥ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬éƒ½æ˜¯è¿›å…¥å¯åŠ¨å°çš„æ•°æ®åº“ï¼Œåˆ é™¤å¯¹åº”æ•°æ®å³å¯ï¼Œä½†æ˜¯è¿™æ ·æ“ä½œå¤ªéº»çƒ¦ï¼Œå¯¹å°ç™½ä¸å‹å¥½ï¼Œå¯¹æˆ‘è¿™æ ·çš„æ‡’äººä¹Ÿéå¸¸ä¸å‹å¥½ï¼Œè™½ç„¶æ˜ç™½æ“ä½œæ•°æ®åº“æ˜¯åœ¨å¹²ä»€ä¹ˆï¼Œä½†æ˜¯ä¸€ä¸å°å¿ƒåˆ é”™äº†ï¼Œæé”™äº†ï¼Œå¯¹ç³»ç»Ÿä¼šé€ æˆæ€æ ·çš„å½±å“è¿™ç‚¹æˆ‘æ˜¯éå¸¸ä¸ç¡®å®šçš„ï¼æ‰€ä»¥æ—¢ç„¶éƒ½èƒ½è¾¾åˆ°åŒä¸€ç›®çš„ï¼Œä¸ºä»€ä¹ˆä¸ç”¨æœ€ç®€å•çš„æ–¹æ³•å‘¢ï¼Ÿ <img src="https://i.loli.net/2020/01/01/iDIBZ5su6FHCN2P.png" alt="Launchpad Manager"> è¿™ä¸ªå°±æ˜¯æ“ä½œç•Œé¢ï¼Œç®€å•å¾ˆå¥½ç†è§£ï¼Œç‚¹å‡»éœ€è¦æ“ä½œçš„å›¾æ ‡ï¼Œèœå•æ æœ‰è®¸å¤šåŠŸèƒ½ï¼Œéœ€è¦ä¿®æ”¹å›¾æ ‡åç§°å°±å•å‡»è¯¥å›¾æ ‡çš„åç§°ï¼Œä¹‹åæŒ‰å³ä¸Šè§’åº”ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>å¥½ç‰©æ¨è</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>å·¥å…·</tag>
        <tag>åº”ç”¨æ¨è</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»ˆç«¯ Proxychains4 ä½¿ç”¨è®°å½•</title>
    <url>/83.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2017/10/24/07/12/hacker-2883632__480.jpg"> å› ä¸ºæ—¥å¸¸ç”Ÿæ´»ä¸­ç»å¸¸é‡åˆ°ä½¿ç”¨wgetä¸‹è½½æ–‡ä»¶ä¸”æ–‡ä»¶åœ¨å›½å†…ä¸‹è½½æ¯”è¾ƒæ…¢æˆ–ä¸èƒ½ä¸‹è½½çš„æƒ…å†µ, éœ€è¦åœ¨ç»ˆç«¯ä½¿ç”¨ä»£ç†, è¯•è¿‡ä¸€äº›æ–¹æ³•, è¿˜æ˜¯è§‰å¾—ä½¿ç”¨proxychainsæ›´æ–¹ä¾¿ä¸€äº›.</p>
<a id="more"></a>
<h2 id="ä¸‹è½½å®‰è£…"><a href="#ä¸‹è½½å®‰è£…" class="headerlink" title="ä¸‹è½½å®‰è£…"></a>ä¸‹è½½å®‰è£…</h2><p>Macä¸‹: <code>brew install proxychains-ng</code> å…¶ä»–: <a href="https://github.com/rofl0r/proxychains-ng">proxychains-ng</a>æä¾›äº†ç¼–è¯‘å®‰è£…:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">*** Installation ***<br><br>  # needs a working C compiler, preferably gcc<br>  .&#x2F;configure --prefix&#x3D;&#x2F;usr --sysconfdir&#x3D;&#x2F;etc<br>  make<br>  [optional] sudo make install<br>  [optional] sudo make install-config (installs proxychains.conf)<br><br>  if you dont install, you can use proxychains from the build directory<br>  like this: .&#x2F;proxychains4 -f src&#x2F;proxychains.conf telnet google.com 80<br></code></pre></td></tr></table></figure>

<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>ç¼–è¾‘<code>/usr/local/etc/proxychains.conf</code>, åœ¨æœ€åä¸€è¡Œæ”¹ä¸º: <code>socks5 127.0.0.1 1080</code> <strong>1080</strong>æ˜¯æœ¬åœ°socks5ç›‘å¬ç«¯å£, éœ€è¦ä¿®æ”¹æˆä½ è‡ªå·±é…ç½®çš„.</p>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>æµ‹è¯•ä¸€æ³¢: <code>proxychains4 wget https://www.google.com</code> ä¸åŠ ä»£ç†æ˜æ˜¾ä¼šè¶…æ—¶, åŠ ä»£ç†åä¼šæç¤º:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">æ­£åœ¨è§£æä¸»æœº www.google.com (www.google.com)... 224.0.0.1<br>æ­£åœ¨è¿æ¥ www.google.com (www.google.com)|224.0.0.1|:443... [proxychains] Strict chain  ...  127.0.0.1:1080  ...  www.google.com:443  ...  OK<br>å·²è¿æ¥ã€‚<br>å·²å‘å‡º HTTP è¯·æ±‚ï¼Œæ­£åœ¨ç­‰å¾…å›åº”... 200 OK<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>è´µåœ¨æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>ç»ˆç«¯</tag>
        <tag>ç§‘å­¦ä¸Šç½‘</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³ locale.Error: unsupported locale setting é”™è¯¯</title>
    <url>/37.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/ndQAZfvSNTM29Fy.png"> äº‘æœåŠ¡å™¨ä¸­ä½¿ç”¨<code>pip</code>å·¥å…·çš„æ—¶å€™å¯èƒ½ä¼šæŠ¥æ­¤ç±»é”™è¯¯ï¼š <strong><code>locale.Error: unsupported locale setting</code></strong> æ˜¯å› ä¸ºè¯­è¨€ç¯å¢ƒé…ç½®æœ‰è¯¯ã€‚ åªéœ€è¦åœ¨ç¯å¢ƒå˜é‡é‡Œæ·»åŠ è¿™ä¸¤è¡Œå°±å¯ä»¥è§£å†³è¿™ç±»é—®é¢˜ã€‚</p>
<a id="more"></a>
<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯<code>zsh</code>ï¼Œå¯ä»¥ç¼–è¾‘<code>.zshrc</code>æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">export LC_ALL&#x3D;C.UTF-8<br>export LANG&#x3D;C.UTF-8<br></code></pre></td></tr></table></figure>

<p>ä¿å­˜åæ‰§è¡Œï¼š <code>source ~/.zshrc</code> å°±å¯ä»¥å•¦ï¼</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>ç»ˆç«¯</tag>
        <tag>äº‘æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°ä¸€æ¬¡å›¾åºŠä¸Šä¼ å·¥å…·å¼€å‘æ‰“åŒ…ç»å†</title>
    <url>/274.html</url>
    <content><![CDATA[<p>è¯´èµ·å›¾åºŠï¼Œå¸¸ç”¨ markdown å†™åšå®¢çš„åŒå­¦åº”è¯¥ä¸é™Œç”Ÿã€‚æ–‡ç« ä¸­çš„å›¾ç‰‡è·¯å¾„è‚¯å®šä¸èƒ½æŒ‡å‘æœ¬åœ°æ–‡ä»¶ï¼Œé‚£æ ·æ–‡ç« å‘å¸ƒä»¥åå›¾ç‰‡ä¼šå› ä¸ºæ‰¾ä¸åˆ°æ–‡ä»¶è€Œå¤±æ•ˆã€‚å¦‚æœä½ éè¦è¯´ä½¿ç”¨äº†æœ¬åœ°æ–‡ä»¶å›¾ç‰‡ä¹Ÿæœªå¤±æ•ˆï¼Œå¯èƒ½æ˜¯ä½ çš„ç¼–è¾‘å™¨æ¯”è¾ƒé«˜çº§ï¼Œå·²ç»è‡ªåŠ¨å¸®ä½ ä¸Šä¼ äº†ã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡å¬è¯´å›¾åºŠï¼Œå¯ä»¥è®¤ä¸ºå›¾åºŠå°±æ˜¯ç½‘ç»œç›¸å†Œï¼Œä¼šä¿ç®¡ä½ ä¸Šä¼ çš„æ‰€æœ‰å›¾ç‰‡ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª URL åœ°å€ï¼Œå¯ä»¥ç›´æ¥å¼•ç”¨æˆ–ä¸‹è½½ã€‚</p>
<a id="more"></a>
<p>å¦‚æœä½ æ€¥äºä½¿ç”¨è¿™ä¸ªå·¥å…·ï¼Œå¯ä»¥ç›´æ¥å®‰è£…ä½¿ç”¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">pip install pysmms<br></code></pre></td></tr></table></figure>

<p>å®‰è£…å¥½ä¹‹ååœ¨ç»ˆç«¯è¾“å…¥ <code>pysmms å›¾ç‰‡è·¯å¾„</code> å³å¯ä¸Šä¼ ã€‚ä¸Šä¼ å®Œæˆåä¼šè‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚</p>
<p><img src="https://i.loli.net/2020/02/25/jCxeBfKV5dpZ3rg.png" alt="ä½¿ç”¨æ•ˆæœ"></p>
<h1 id="ä¸ºä»€ä¹ˆå¼€å‘"><a href="#ä¸ºä»€ä¹ˆå¼€å‘" class="headerlink" title="ä¸ºä»€ä¹ˆå¼€å‘"></a>ä¸ºä»€ä¹ˆå¼€å‘</h1><p>å…ˆè¯´æ˜ä¸€ä¸‹ï¼Œè¿™ä¸ªå›¾åºŠå·¥å…·åŸºäº <a href="https://sm.ms/">SM.MS</a> API æ¥å£å¼€å‘ï¼Œ<a href="https://doc.sm.ms/">å…·ä½“æ–‡æ¡£è§æ­¤é“¾æ¥</a>ã€‚è¿™ä¸ªå›¾åºŠéå¸¸å¥½ç”¨ï¼Œå·²ç»ç”¨äº†å¾ˆé•¿æ—¶é—´ï¼Œè€Œä¸”æ¯ä¸ªå…è´¹ç”¨æˆ·éƒ½æœ‰ 5G çš„å…è´¹é¢åº¦ï¼Œå¯¹äºæˆ‘æ¥è¯´æ˜¯å¤Ÿç”¨äº†ï¼Œå½“ç„¶å¦‚æœä»˜è´¹ä½¿ç”¨åŠŸèƒ½ä¼šæ›´é«˜çº§ä¸€äº›ã€‚</p>
<p>å›åˆ°æ ‡é¢˜ï¼Œä¸ºä»€ä¹ˆå¼€å‘ï¼Ÿå› ä¸ºå†™æ–‡ç« çš„æ—¶å€™ï¼Œç»å¸¸è¦ä¸Šä¼ å›¾ç‰‡ï¼Œä¹‹å‰å¶å°”ä¼ å›¾éƒ½æ˜¯åœ¨ SM.MS ç½‘é¡µï¼Œä½†æ˜¯è¶Šæ¥è¶Šè§‰å¾—è¿™æ ·æ•ˆç‡å¤ªä½ï¼Œæ¯æ¬¡å†™æ–‡ç« çš„æ—¶å€™éƒ½è¦æŠŠç½‘ç«™æ‰“å¼€ï¼Œéšæ—¶å‡†å¤‡ä¸Šä¼ å›¾ç‰‡ã€‚æœ¬æ¥æƒ³çœ‹ä¸€ä¸‹ SM.MS å®˜æ–¹æœ‰æ²¡æœ‰ APP å¯ä»¥æ‹¿æ¥ç”¨ï¼Œå‘ç°åªæœ‰å®‰å“å’Œ iOSï¼Œå¹¶æ²¡æœ‰ Mac ç‰ˆï¼Œè¿˜æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹å›¾åºŠå·¥å…·éœ€è¦ä»˜è´¹ï¼ˆä¸ªäººè§‰å¾—ä¸å€¼ï¼‰ã€‚æ—¢ç„¶å®˜æ–¹æä¾›äº† API æ¥å£ï¼Œä½•ä¸åˆ©ç”¨ä¸€ä¸‹ã€‚</p>
<h1 id="å¤­æŠ˜äº†ä¸¤ä¸ªç‰ˆæœ¬"><a href="#å¤­æŠ˜äº†ä¸¤ä¸ªç‰ˆæœ¬" class="headerlink" title="å¤­æŠ˜äº†ä¸¤ä¸ªç‰ˆæœ¬"></a>å¤­æŠ˜äº†ä¸¤ä¸ªç‰ˆæœ¬</h1><p>åœ¨ pysmms ä¹‹å‰å·²ç»æœ‰ä¸¤ä¸ªç‰ˆæœ¬çš„å›¾åºŠå·¥å…·äº†ï¼Œä½†æ˜¯å› ä¸ºå„ç§åŸå› å¤­æŠ˜äº†ã€‚</p>
<p>æœ€å¼€å§‹æ‰“ç®—åšä¸€ä¸ªæœ‰ç”¨æˆ·ç•Œé¢çš„å·¥å…·ï¼Œç±»ä¼¼ï¼š</p>
<p><img src="https://i.loli.net/2020/02/25/jJlgfeoH5q1y8YT.png" alt="å›¾åºŠH"></p>
<p>æˆ–è€…è¿™æ ·ï¼š</p>
<p><img src="https://i.loli.net/2020/02/25/QxOHlr49DVSvZom.png" alt="å›¾åºŠU"></p>
<p>æœ¬æ¥æƒ³ç€ç”¨ Electron å†™ä¸€ä¸ªè·¨å¹³å°å·¥å…·ï¼Œå¦‚æœå†™å¥½ä¹‹åå¤šä¸ªå¹³å°å¯ä»¥ä½¿ç”¨ï¼Œå¥ˆä½• <code>index.html</code> æ–‡ä»¶å†™å¥½äº†ï¼ŒElectron å´è¿Ÿè¿Ÿå› ä¸ºç½‘ç»œåŸå› ä¸‹è½½å¤±è´¥ï¼Œä¸æƒ³æµªè´¹æ—¶é—´ï¼Œæ‰€ä»¥æ”¾å¼ƒäº†è¿™ä¸ªæƒ³æ³•ã€‚</p>
<p>ç¬¬äºŒä¸ªå›¾ä½¿ç”¨ pyqt5 æ„å»ºçš„ç•Œé¢ï¼Œå¯èƒ½æ˜¯å› ä¸ºå¤ªèœçš„åŸå› ï¼Œè™½ç„¶å·²ç»æ”¯æŒç®€å•çš„ä¼ å›¾åŠŸèƒ½ï¼Œä½†ç•Œé¢å’ŒåŠŸèƒ½çš„å®Œå–„æ€§è¿˜æ˜¯è®©æˆ‘ä¸å¤ªæ»¡æ„ã€‚æ‰€ä»¥æœ€ç»ˆè¿˜æ˜¯æƒ³ç€å» GitHub ä¸Šå‚è€ƒä¸€ä¸‹ã€‚</p>
<h1 id="n0vad3v-smv2"><a href="#n0vad3v-smv2" class="headerlink" title="n0vad3v/smv2"></a>n0vad3v/smv2</h1><p>åœ¨ GitHub ä¸Šæ‰¾åˆ°äº† <a href="https://github.com/n0vad3v/smv2">n0vad3v/smv2</a>ï¼Œéå¸¸ç¬¦åˆæˆ‘çš„æƒ³æ³•ï¼Œä¸ä»…æ”¯æŒä¼ å›¾ï¼Œè€Œä¸”è¿˜æ”¯æŒå†å²è®°å½•æŸ¥è¯¢ï¼Œä¼˜é›…çš„ä½¿ç”¨ Authorizationã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">âœ smv2 poster36.jpg<br>Upload without Token.<br>â”ŒSM.MS Upload Statusâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”‚ Image URL    â”‚ https://i.loli.net/2019/02/18/Q123f2TWhtnk1FR.jpg â”‚<br>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br>â”‚ Deletion URL â”‚ https://sm.ms/delete/8Ymbq218218XlPIDg4ReE2rcTi   â”‚<br>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡º pysmms å’Œ smv2 çš„ç•Œé¢æ˜¯éå¸¸ç±»ä¼¼çš„ï¼Œå› ä¸ºå€Ÿé‰´äº† smv2 åº“ã€‚</p>
<p>ä½†æ˜¯ smv2 ç”¨èµ·æ¥è¿˜æ˜¯æœ‰äº›ä¸é¡ºæ‰‹ï¼Œä¾‹å¦‚å›¾ç‰‡ä¸Šä¼ ä¹‹åéœ€è¦æ‰‹åŠ¨å¤åˆ¶ï¼Œä¸æ”¯æŒå¤šä¸ª Authorization å¡«å†™ï¼Œä¸æ”¯æŒåŸºäº IP çš„å†å²è®°å½•æŸ¥è¯¢ç­‰ã€‚æ‰€ä»¥å°±èŒç”Ÿäº†å‚è€ƒ smv2ï¼Œè‡ªå·±ä¹Ÿå†™ä¸ªç±»ä¼¼çš„è„šæœ¬çš„æƒ³æ³•ã€‚é¡ºä¾¿å­¦ä¹ ä¸€ä¸‹è¿™ä¹ˆä¼˜é›…çš„è¡¨æ ¼æ˜¯å¦‚ä½•ç”Ÿæˆçš„ï¼Œå†™å¥½çš„è„šæœ¬å¦‚ä½•æ‰“åŒ…ä¸Šä¼ åˆ° pypiã€‚</p>
<h1 id="å¼€å‘"><a href="#å¼€å‘" class="headerlink" title="å¼€å‘"></a>å¼€å‘</h1><p>smv2 ç”¨åˆ°äº† <code>requests</code> å’Œ <code>terminaltables</code> è¿™ä¸¤ä¸ªç¬¬ä¸‰æ–¹åº“ã€‚ç¬¬ä¸€ä¸ªç”¨æ¥è¯·æ±‚æ¥å£ï¼Œç¬¬äºŒä¸ªç”¨æ¥ç”Ÿæˆæ ¼å¼åŒ–è¡¨æ ¼ã€‚<code>requests</code> å¾ˆå¸¸ç”¨å°±ä¸ä»‹ç»äº†ã€‚</p>
<h2 id="terminaltables"><a href="#terminaltables" class="headerlink" title="terminaltables"></a>terminaltables</h2><p>ä½¿ç”¨ <a href="https://github.com/Robpol86/terminaltables">terminaltables</a> è®©è¡¨æ ¼åœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºå˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p>
<p>å®˜æ–¹æä¾›äº†ç®€å•çš„ç”¨æ³•ç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> terminaltables <span class="hljs-keyword">import</span> AsciiTable<br><br>table_data = [<br>    [<span class="hljs-string">&#x27;Heading1&#x27;</span>, <span class="hljs-string">&#x27;Heading2&#x27;</span>],<br>    [<span class="hljs-string">&#x27;row1 column1&#x27;</span>, <span class="hljs-string">&#x27;row1 column2&#x27;</span>],<br>    [<span class="hljs-string">&#x27;row2 column1&#x27;</span>, <span class="hljs-string">&#x27;row2 column2&#x27;</span>],<br>    [<span class="hljs-string">&#x27;row3 column1&#x27;</span>, <span class="hljs-string">&#x27;row3 column2&#x27;</span>]<br>]<br>table = AsciiTable(table_data)<br><span class="hljs-keyword">print</span> table.table<br><br>+--------------+--------------+<br>| Heading1     | Heading2     |<br>+--------------+--------------+<br>| row1 column1 | row1 column2 |<br>| row2 column1 | row2 column2 |<br>| row3 column1 | row3 column2 |<br>+--------------+--------------+<br></code></pre></td></tr></table></figure>

<p>æ”¯æŒ Windows 10, Windows XP, and OS Xã€‚</p>
<p><img src="https://i.loli.net/2020/02/25/jGvPHJEa4uAicO8.png" alt="ä¾‹å­"></p>
<p><a href="https://robpol86.github.io/terminaltables/">å®Œæ•´æ–‡æ¡£ç‚¹æ­¤é“¾æ¥ã€‚</a></p>
<h2 id="Pyperclip"><a href="#Pyperclip" class="headerlink" title="Pyperclip"></a>Pyperclip</h2><p>åœ¨ pysmms ä¸­ï¼Œåªæ˜¯åœ¨æˆåŠŸè·å–å›¾ç‰‡é“¾æ¥çš„æ—¶å€™ä¼šä½¿ç”¨ Pyperclipï¼Œè¿™æ ·ä¸Šä¼ å®Œæˆå›¾ç‰‡ä¹‹åå¯ä»¥ç»§ç»­å›åˆ°å†™ä½œä¸­ï¼Œä¸éœ€è¦é¼ æ ‡é€‰å®šå›¾ç‰‡é“¾æ¥å†æ‹·è´ã€‚</p>
<p>Pyperclip çš„ç›®çš„æ˜¯æä¾›ä¸€ä¸ªè·¨å¹³å°çš„ Python æ¨¡å—ï¼Œç”¨äºå°†æ–‡æœ¬å¤åˆ¶å’Œç²˜è´´åˆ°å‰ªè´´æ¿ã€‚ä½¿ç”¨éå¸¸ç®€å•ï¼Œä»¥è‡³äºæ²¡æœ‰æ–‡æ¡£ã€‚å¦‚æœä½ çš„è„šæœ¬é‡Œç”¨åˆ°äº†å¤åˆ¶ç²˜è´´ï¼Œå¯ä»¥è¯•è¯•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; import pyperclip<br>&gt;&gt;&gt; pyperclip.copy(<span class="hljs-string">&#x27;Hello world!&#x27;</span>)<br>&gt;&gt;&gt; pyperclip.paste()<br><span class="hljs-string">&#x27;Hello world!&#x27;</span><br></code></pre></td></tr></table></figure>

<h1 id="æ‰“åŒ…å‘å¸ƒ"><a href="#æ‰“åŒ…å‘å¸ƒ" class="headerlink" title="æ‰“åŒ…å‘å¸ƒ"></a>æ‰“åŒ…å‘å¸ƒ</h1><p>è„šæœ¬å†™å¥½ä¹‹åå°±æ˜¯æ‰“åŒ…å‘å¸ƒäº†ã€‚</p>
<p>éœ€è¦åœ¨æ–‡ä»¶å¤¹å»ºç«‹ setup.py æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> setuptools<br><br><span class="hljs-keyword">with</span> open(<span class="hljs-string">&quot;README.md&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    long_description = f.read()<br><br>setuptools.setup(<br>    name=<span class="hljs-string">&quot;pysmms&quot;</span>,<br>    version=<span class="hljs-string">&quot;0.0.5&quot;</span>,<br>    author=<span class="hljs-string">&quot;Jianxun&quot;</span>,<br>    author_email=<span class="hljs-string">&quot;i@lijianxun.top&quot;</span>,<br>    description=<span class="hljs-string">&quot;The CLI Tool for SM.MS, based on API v2.&quot;</span>,<br>    long_description=long_description,<br>    long_description_content_type=<span class="hljs-string">&quot;text/markdown&quot;</span>,<br>    url=<span class="hljs-string">&quot;https://github.com/alpha87/pysmms&quot;</span>,<br>    packages=setuptools.find_packages(),<br>    classifiers=[<br>        <span class="hljs-string">&quot;Programming Language :: Python :: 3&quot;</span>,<br>        <span class="hljs-string">&quot;License :: OSI Approved :: GNU General Public License v3 (GPLv3)&quot;</span>,<br>        <span class="hljs-string">&quot;Operating System :: OS Independent&quot;</span>,<br>    ],<br>    install_requires=[<br>        <span class="hljs-string">&quot;requests&quot;</span>,<br>        <span class="hljs-string">&quot;pyperclip&quot;</span>,<br>        <span class="hljs-string">&quot;terminaltables&quot;</span><br>    ],<br>    entry_points=&#123;<br>        <span class="hljs-string">&#x27;console_scripts&#x27;</span>: [<br>            <span class="hljs-string">&#x27;pysmms=pysmms.pysmms:app&#x27;</span>,<br>        ],<br>    &#125;<br>)<br></code></pre></td></tr></table></figure>

<p>æ–‡ä»¶æ•´ä½“è¿˜æ˜¯å¾ˆå¥½ç†è§£çš„ï¼ŒæŒ‰ç…§è‡ªå·±è„šæœ¬çš„ä¿¡æ¯å¡«å†™å°±å¯ä»¥ã€‚</p>
<h2 id="æ³¨å†Œ-pypi"><a href="#æ³¨å†Œ-pypi" class="headerlink" title="æ³¨å†Œ pypi"></a>æ³¨å†Œ pypi</h2><p>éœ€è¦åœ¨ <a href="https://pypi.org/">pypi</a> æ³¨å†Œè´¦å·ï¼Œç„¶ååœ¨ç”¨æˆ·æ ¹ç›®å½•ä¸‹åˆ›å»º <code>.pypirc</code> æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">[distutils]<br>index-servers=pypi<br><br>[pypi]<br>repository=https://upload.pypi.org/legacy/<br>username=xxx<br>password=xxx<br></code></pre></td></tr></table></figure>

<p>å¡«å…¥è‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç ã€‚</p>
<h2 id="æ‰“åŒ…"><a href="#æ‰“åŒ…" class="headerlink" title="æ‰“åŒ…"></a>æ‰“åŒ…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">python3 setup.py sdist bdist_wheel<br></code></pre></td></tr></table></figure>

<h2 id="ä¸Šä¼ "><a href="#ä¸Šä¼ " class="headerlink" title="ä¸Šä¼ "></a>ä¸Šä¼ </h2><p>é¦–å…ˆéœ€è¦å®‰è£… twineï¼Œ<code>pip install twine</code>ï¼Œå®‰è£…å®Œæˆåæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¸Šä¼ åˆ° pypiã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">twine upload dist/*<br></code></pre></td></tr></table></figure>

<p>ä¸Šä¼ æˆåŠŸåå°±å¯ä»¥åœ¨ pypi ç½‘ç«™ä¸Šçœ‹åˆ°è‡ªå·±ä¸Šä¼ çš„å·¥å…·äº†ï¼Œä¹Ÿå°±å¯ä»¥ä½¿ç”¨ pip ä¸‹è½½å®‰è£…äº†ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ç»ˆç«¯</tag>
        <tag>è„šæœ¬</tag>
        <tag>SM.MS</tag>
        <tag>å›¾åºŠ</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°ä¸€æ¬¡çŸ­ä¹¦è§†é¢‘ä¸‹è½½</title>
    <url>/362.html</url>
    <content><![CDATA[<p>äº’è”ç½‘å·²ç»è¿›å…¥äº†çŸ¥è¯†ä»˜è´¹æ—¶ä»£ã€‚éšä¹‹å‡ºç°åƒå°é¹…é€šï¼ŒçŸ­ä¹¦ç­‰è¿™æ ·çš„æœåŠ¡å•†ï¼Œè®©ä¼ä¸šæˆ–è€…ä¸ªäººæ›´å®¹æ˜“å¼€å±•çº¿ä¸Šæ•™è‚²æœåŠ¡ã€‚è€Œä¸”è¿™ç±»æœåŠ¡ä¸€èˆ¬éƒ½åµŒå¥—åœ¨å¾®ä¿¡å…¬ä¼—å·ä¸­ï¼Œé€šè¿‡å…¬ä¼—å·å†…åµŒçš„ç½‘é¡µè¿›è¡Œæµè§ˆå’Œå­¦ä¹ ã€‚</p>
<a id="more"></a>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦è®°å½•å¦‚ä½•ä¿å­˜<strong>çŸ­ä¹¦</strong>å¹³å°çš„ä¼šå‘˜è§†é¢‘ã€‚å› ä¸ºæˆ‘å·²ç»è´­ä¹°äº†ä¼šå‘˜ï¼Œå¯ä»¥æµè§ˆä¼šå‘˜è¯¾ç¨‹ï¼Œåªæ˜¯æ¯æ¬¡éƒ½è¦åœ¨å¾®ä¿¡ä¸­æ‰“å¼€ï¼Œå¾ˆä¸ä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥æŠŠè¯¾ç¨‹è§†é¢‘éƒ½ä¸‹è½½åˆ°äº†æœ¬åœ°ï¼Œéšæ—¶éšåœ°è§‚çœ‹ã€‚è¿™ç¯‡æ–‡ç« å¹¶ä¸æ˜¯ç ´è§£ä¼šå‘˜è§†é¢‘ä¸‹è½½ã€‚</p>
<h1 id="æŠ“åŒ…"><a href="#æŠ“åŒ…" class="headerlink" title="æŠ“åŒ…"></a>æŠ“åŒ…</h1><p>å› ä¸ºæ˜¯åœ¨å¾®ä¿¡å…¬ä¼—å·é‡Œçš„ç½‘é¡µï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯æŠ“åŒ…ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯ Charlesã€‚ æŠ“åŒ…é¦–å…ˆéœ€è¦å®‰è£…è¯ä¹¦ï¼Œç”µè„‘çš„å®‰è£…è¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œå› ä¸ºæŠ“åŒ…çš„æ‰‹æœºè¿˜æ²¡æœ‰å®‰è£…è¯ä¹¦ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹åä¸ºæ‰‹æœºå¦‚ä½•å®‰è£…è¯ä¹¦æ–‡ä»¶ã€‚</p>
<ul>
<li>é¦–å…ˆéœ€è¦åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå®‰è£…è¯ä¹¦æ–‡ä»¶ã€‚</li>
</ul>
<p><img src="https://i.loli.net/2020/06/09/BnLo3sAJdTbczZi.png" alt="ç§»åŠ¨ç«¯é€‰æ‹©"></p>
<ul>
<li>æ ¹æ®æç¤ºè®¾ç½®å¥½ WIFI ä»£ç†ï¼Œç„¶åæ‰“å¼€ chls.pro/ssl é¡µé¢è·å–è¯ä¹¦ã€‚</li>
</ul>
<p><img src="https://i.loli.net/2020/06/09/LveEO8pRsA4zlfI.png" alt="æç¤º"></p>
<ul>
<li>è®¾ç½®æ‰‹æœº WIFI ä»£ç†ã€‚</li>
</ul>
<p><img src="https://i.loli.net/2020/06/09/m1OpwFYDtWrcVXL.jpg" alt="æ‰‹æœºè®¾ç½®ä»£ç†"> éƒ½è®¾ç½®å¥½ä¹‹åï¼Œæ‰“å¼€ <a href="chls.pro/ssl">chls.pro/ssl</a>ï¼Œä¸‹è½½è¯ä¹¦æ–‡ä»¶ï¼ˆè®°ä½ä¿å­˜çš„ä½ç½®ï¼‰ã€‚æ‰“å¼€è®¾ç½®ï¼Œåœ¨æœç´¢æ æœç´¢<strong>åŠ å¯†ä¸å‡­æ®</strong>ã€‚ <img src="https://i.loli.net/2020/06/09/Cb9wDKHVEI8513k.jpg" alt="åŠ å¯†ä¸å‡­æ®"> é€‰æ‹©<strong>ä»å­˜å‚¨è®¾å¤‡å®‰è£…</strong>ï¼Œæ‰¾åˆ°ä½ åˆšæ‰ä¸‹è½½å¥½çš„ <code>pem</code> æ–‡ä»¶ï¼Œæ ¹æ®æç¤ºè¾“å…¥é”å±å¯†ç å®‰è£…å³å¯ã€‚ å®‰è£…å¥½ä»¥åæŸ¥çœ‹ Charlesï¼Œå¦‚æœè¯·æ±‚ <code>https</code> ç½‘é¡µä»ç„¶æ˜¾ç¤º <code>unknown</code>ï¼Œè¿˜éœ€è¦é…ç½® SSL Proxyingã€‚ <img src="https://i.loli.net/2020/06/09/UQBLvqIRpEHrdu8.png" alt="SSL Proxying Settings"> æˆ‘ä»¬è¿™é‡Œç²—ç•¥æŠŠæ‰€æœ‰ SSL è¯·æ±‚éƒ½åŒ…å«ã€‚ <img src="https://i.loli.net/2020/06/09/P8mnIUxSHXVKDGY.png" alt="åŒ…å«å…¨éƒ¨è¯·æ±‚"> è¿™æ ·é…ç½®å¥½ä¹‹ååº”è¯¥å°±èƒ½å±•ç¤ºæ•°æ®äº†ã€‚ <img src="https://i.loli.net/2020/06/11/wgEfRv1Sr7YmBkM.png" alt="æŠ“åŒ…æ•°æ®"></p>
<h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><p>åœ¨ä¼—å¤šæ¥å£ä¸­ï¼Œæ‰¾åˆ°äº†å¯¹åº”è§†é¢‘è·¯å¾„ã€‚æŠ“åŒ…æ‰¾åˆ°æ¥å£å¾ˆç®€å•ï¼Œè¿™é‡Œå°±ä¸å ç”¨ç¯‡å¹…è®²äº†ã€‚æ²¡æœ‰ä»»ä½•åŠ å¯†ï¼Œåªè¦åœ¨è§†é¢‘æ‰€åœ¨é¡µé¢åˆ·æ–°è¯·æ±‚ï¼Œå°±èƒ½æ‰¾åˆ°æ¥å£æ•°æ®ã€‚ <img src="https://i.loli.net/2020/06/11/CYI5W4ve3VfwcgU.png" alt="è§†é¢‘é“¾æ¥"> æˆ‘ä»¬å‘ç°è¿™ä¸ªé“¾æ¥æ˜¯ä¸€ä¸ª m3u8 æ ¼å¼çš„é“¾æ¥ã€‚</p>
<h1 id="m3u8"><a href="#m3u8" class="headerlink" title="m3u8"></a>m3u8</h1><p>ä¸Šæ–‡ä¸­æˆ‘ä»¬è·å–åˆ°äº†è§†é¢‘é“¾æ¥ï¼Œä½†æ˜¯åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åï¼Œä¸‹è½½äº†ä¸€ä¸ªåç¼€ä¸º m3u8 çš„æ–‡ä»¶ã€‚</p>
<blockquote>
<p>M3U æ˜¯ä¸€ç§æ’­æ”¾å¤šåª’ä½“åˆ—è¡¨çš„æ¡£æ¡ˆæ ¼å¼ï¼Œå®ƒçš„è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†æ’­æ”¾éŸ³é¢‘æ–‡ä»¶ï¼Œæ¯”å¦‚ MP3ï¼Œä½†æ˜¯è¶Šæ¥è¶Šå¤šçš„è½¯ä»¶ç°åœ¨ç”¨æ¥æ’­æ”¾è§†é¢‘æ–‡ä»¶åˆ—è¡¨ï¼ŒM3U ä¹Ÿå¯ä»¥æŒ‡å®šåœ¨çº¿æµåª’ä½“éŸ³é¢‘æºã€‚å¾ˆå¤šæ’­æ”¾å™¨å’Œè½¯ä»¶éƒ½æ”¯æŒ M3U æ–‡ä»¶æ ¼å¼ã€‚M3U æ–‡ä»¶æ˜¯ä¸€ç§çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªå¤šåª’ä½“æ–‡ä»¶çš„ä½ç½®ï¼Œå…¶æ–‡ä»¶æ‰©å±•åæ˜¯ M3U æˆ–è€… m3u ã€‚M3U8 æ˜¯ Unicode ç‰ˆæœ¬çš„ M3Uï¼Œç”¨ UTF-8 ç¼–ç ã€‚M3U å’Œ M3U8 æ–‡ä»¶éƒ½æ˜¯è‹¹æœå…¬å¸ä½¿ç”¨çš„ HTTP Live Streaming æ ¼å¼çš„åŸºç¡€ï¼Œè¿™ç§æ ¼å¼å¯ä»¥åœ¨ iPhone å’Œ Macbook ç­‰è®¾å¤‡æ’­æ”¾ã€‚ï¼ˆç»´åŸºç™¾ç§‘ï¼‰</p>
</blockquote>
<p>è¿™æ ·å°±å¥½ç†è§£äº†ï¼Œm3u8 æ–‡ä»¶å…¶å®æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ã€‚ <img src="https://i.loli.net/2020/06/09/HhCobTg3xaNprqS.png" alt="m3u8 æ–‡ä»¶"> æ‰“å¼€ä¹‹åå‘ç°å…¶å®æ˜¯å¾ˆå¤š ts è§†é¢‘é“¾æ¥ã€‚é“¾æ¥çš„å‚æ•°æ ‡æ³¨äº† ts è§†é¢‘å±äºæ•´ä¸ªè§†é¢‘çš„æŸä¸€ä½ç½®ã€‚ è¿™æ ·å°±å¥½è§£å†³äº†ã€‚è§£æ m3u8 æ–‡ä»¶ï¼Œåˆ†åˆ«ä¸‹è½½æ¯ä¸ª ts æ–‡ä»¶ï¼Œç„¶åå†åˆå¹¶ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œè¿™é‡Œç”¨åˆ°äº† FFmpegã€‚ <strong>ï¼ˆå…¶å®è¿™ä»½ m3u8 æ–‡ä»¶éå¸¸ç¿æ™ºã€‚æˆ‘ä»¬åªéœ€è¦å°†å…¶ä¸­ä¸€ä¸ª ts é“¾æ¥å¯¹åº”çš„å‚æ•°åˆ é™¤ï¼Œä¸‹è½½ä¸‹æ¥çš„å°±æ˜¯å®Œæ•´çš„ ts è§†é¢‘æ–‡ä»¶äº†ã€‚ï¼‰</strong></p>
<h1 id="FFmpeg"><a href="#FFmpeg" class="headerlink" title="FFmpeg"></a>FFmpeg</h1><p><a href="https://ffmpeg.org/">FFmpeg</a> æ˜¯ä¸€ä¸ªå¼ºå¤§çš„è§†é¢‘å¤„ç†å¼€æºè½¯ä»¶ï¼Œå®Œæ•´çš„è·¨å¹³å°è§£å†³æ–¹æ¡ˆï¼Œç”¨äºè®°å½•ï¼Œè½¬æ¢å’Œæµä¼ è¾“éŸ³é¢‘å’Œè§†é¢‘ã€‚åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œä½†æˆ‘ä»¬è¿™é‡Œåªç”¨å®ƒä¸‹è½½ m3u8 æ–‡ä»¶çš„è§†é¢‘ï¼Œå¹¶ä¸”å¯¼å‡ºåˆ° mp4 æ ¼å¼ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">ffmpeg -i https://vod.duanshu.com/e4a629253562005/01f061450147451/v.f22311.m3u8\?t\=5edcc881\&amp;us\=cidpmpps\&amp;sign\=e9b9144a5 test.mp4<br></code></pre></td></tr></table></figure>

<p>åªéœ€ä¸€è¡Œç®€å•çš„å‘½ä»¤ï¼ŒFFmpeg å°±å¯ä»¥å¿«é€ŸæŠŠè§†é¢‘ä¸‹è½½åˆ°æœ¬åœ°ï¼Œéå¸¸æ–¹ä¾¿ã€‚ è¿™ç¯‡æ–‡ç« ï¼Œå…¶å®æŠ“åŒ…å’Œçˆ¬è™«çš„éƒ¨åˆ†å¾ˆå°‘ï¼Œä¸»è¦æ˜¯è®°å½•å¦‚ä½•åœ¨åä¸ºæ‰‹æœºä¸Šå®‰è£…è¯ä¹¦ï¼Œå’Œäº†è§£ m3u8 æ–‡ä»¶ï¼Œä»¥åŠ FFmpeg è¿™ä¸ªå¼ºå¤§çš„å·¥å…·ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>çˆ¬è™«</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°å½• Django æ—¶é—´å¤„ç†é‡åˆ°çš„å‘</title>
    <url>/35.html</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/02/06/yUBWREsLAOYSwcQ.jpg"> Djangoæ–°é¡¹ç›®ç”Ÿæˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æ›´æ”¹é»˜è®¤çš„æ—¶åŒºè®¾ç½®ã€‚æœ‰ä»¥ä¸‹ä¸¤ç‚¹éœ€è¦æ³¨æ„ã€‚</p>
<a id="more"></a>
<p>ä»¥ä¸‹ä»£ç ç‰‡æ®µæ¥è‡ªDjangoé¡¹ç›®ç”Ÿæˆåçš„<code>settings.py</code>æ–‡ä»¶ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">LANGUAGE_CODE = <span class="hljs-string">&#x27;en&#x27;</span><br><br>TIME_ZONE = <span class="hljs-string">&#x27;UTC&#x27;</span><br><br>USE_I18N = <span class="hljs-literal">True</span><br><br>USE_L10N = <span class="hljs-literal">True</span><br><br>USE_TZ = <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure>

<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¤šæ•°æ•™ç¨‹éƒ½ä¼šå‘Šè¯‰æˆ‘ä»¬ä¿®æ”¹<code>LANGUAGE_CODE</code>å’Œ<code>TIME_ZONE</code>ï¼Œæ”¹ä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">LANGUAGE_CODE = <span class="hljs-string">&#x27;zh-hans&#x27;</span><br><br>TIME_ZONE = <span class="hljs-string">&#x27;Asia/Shanghai&#x27;</span><br><br>USE_I18N = <span class="hljs-literal">True</span><br><br>USE_L10N = <span class="hljs-literal">True</span><br><br>USE_TZ = <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure>

<p>å¼€å¯æœåŠ¡ï¼Œç•Œé¢å’Œæ—¶é—´çš„ç¡®æ²¡é—®é¢˜ã€‚ ä½†æ˜¯å½“æˆ‘ä»¬æœ‰å…¥åº“éœ€æ±‚çš„æ—¶å€™ï¼Œä¸”å­—æ®µæ­£å¥½éœ€è¦æ˜¾ç¤ºå®Œæ•´çš„æ—¶é—´ï¼ˆåŒ…æ‹¬æ—¶åˆ†ç§’ï¼‰ã€‚å°±ä¼šå‘ç°å…¥åº“çš„æ—¶é—´è¿˜æ˜¯<code>UTC</code>æ—¶é—´ã€‚ æŸ¥çœ‹<a href="https://docs.djangoproject.com/zh-hans/2.1/topics/i18n/timezones/">å®˜æ–¹æ–‡æ¡£</a>ä»‹ç»æ—¶åŒºçš„éƒ¨åˆ†ï¼Œé»˜è®¤ç¦ç”¨æ—¶åŒºæ”¯æŒæ˜¯é¿å…å¤ä»¤æ—¶è½¬æ¢æ—¶é€ æˆæ—¶é—´ä¸Šçš„é”™è¯¯ã€‚</p>
<blockquote>
<p>Even if your website is available in only one time zone, itâ€™s still good practice to store data in UTC in your database. The main reason is Daylight Saving Time (DST). Many countries have a system of DST, where clocks are moved forward in spring and backward in autumn. If youâ€™re working in local time, youâ€™re likely to encounter errors twice a year, when the transitions happen. (The pytz documentation discusses these issues in greater detail.) This probably doesnâ€™t matter for your blog, but itâ€™s a problem if you over-bill or under-bill your customers by one hour, twice a year, every year. The solution to this problem is to use UTC in the code and use local time only when interacting with end users. Time zone support is disabled by default.</p>
</blockquote>
<p>ä½†æ˜¯å¦‚æœä½ ç¡®å®šä½ çš„ç¨‹åºä¸å­˜åœ¨è¿™äº›é—®é¢˜ï¼Œå…¥åº“æˆ–å…¶ä»–æ“ä½œéœ€è¦æ˜¾ç¤ºå½“åœ°æ—¶é—´ï¼Œé‚£ä¹ˆå°±æ”¹ä¸º**<code>USE_TZ = False</code>**ï¼Œè¿™æ ·å…¥åº“æ—¶é—´å°±æ˜¯å½“æ—¶çš„æ—¶é—´äº†ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Django</tag>
      </tags>
  </entry>
  <entry>
    <title>é€‰æ‹©æ’åº</title>
    <url>/74.html</url>
    <content><![CDATA[<p><img src="https://upload.wikimedia.org/wikipedia/commons/b/b0/Selection_sort_animation.gif"></p>
<h2 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h2><p>ä»¥ä¸‹ä»‹ç»æ¥è‡ª<a href="https://zh.wikipedia.org/wiki/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F">ç»´åŸºç™¾ç§‘</a>ã€‚</p>
<blockquote>
<p>é€‰æ‹©æ’åºï¼ˆSelection sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†å¦‚ä¸‹ã€‚é¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚</p>
</blockquote>
<a id="more"></a>
<blockquote>
<p>é€‰æ‹©æ’åºçš„ä¸»è¦ä¼˜ç‚¹ä¸æ•°æ®ç§»åŠ¨æœ‰å…³ã€‚å¦‚æœæŸä¸ªå…ƒç´ ä½äºæ­£ç¡®çš„æœ€ç»ˆä½ç½®ä¸Šï¼Œåˆ™å®ƒä¸ä¼šè¢«ç§»åŠ¨ã€‚é€‰æ‹©æ’åºæ¯æ¬¡äº¤æ¢ä¸€å¯¹å…ƒç´ ï¼Œå®ƒä»¬å½“ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå°†è¢«ç§»åˆ°å…¶æœ€ç»ˆä½ç½®ä¸Šï¼Œå› æ­¤å¯¹ {\displaystyle n} nä¸ªå…ƒç´ çš„è¡¨è¿›è¡Œæ’åºæ€»å…±è¿›è¡Œè‡³å¤š {\displaystyle n-1} {\displaystyle n-1}æ¬¡äº¤æ¢ã€‚åœ¨æ‰€æœ‰çš„å®Œå…¨ä¾é äº¤æ¢å»ç§»åŠ¨å…ƒç´ çš„æ’åºæ–¹æ³•ä¸­ï¼Œé€‰æ‹©æ’åºå±äºéå¸¸å¥½çš„ä¸€ç§ã€‚</p>
</blockquote>
<p>åŠ¨å›¾ç›´è§‚è§£é‡Š <img src="https://ws1.sinaimg.cn/large/006tKfTcly1g07kpg29qfg30mj06w7l2.gif" alt="é€‰æ‹©æ’åº"></p>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python</span><br><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">Desc:</span><br><span class="hljs-string"></span><br><span class="hljs-string">    é€‰æ‹©æ’åº</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">selection_sort</span>(<span class="hljs-params">_list</span>):</span><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">        - Args:</span><br><span class="hljs-string"></span><br><span class="hljs-string">            _list (list): æœ‰åºæˆ–æ— åºåˆ—è¡¨</span><br><span class="hljs-string"></span><br><span class="hljs-string">        - Return:</span><br><span class="hljs-string"></span><br><span class="hljs-string">            æœ‰åºåˆ—è¡¨</span><br><span class="hljs-string"></span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-comment"># è·å–ä¼ å…¥åˆ—è¡¨çš„é•¿åº¦</span><br>    list_length = len(_list)<br><br>    <span class="hljs-comment"># éå†æ•´ä¸ªåˆ—è¡¨</span><br>    <span class="hljs-keyword">for</span> _idx <span class="hljs-keyword">in</span> range(list_length):<br><br>        <span class="hljs-comment"># è®¾ç½®åˆ—è¡¨æœ€å°å€¼çš„ç´¢å¼• å‡è®¾æ¯æ¬¡éå†æ—¶éƒ½è®¤ä¸ºæ˜¯æœ€å°</span><br>        min_idx = _idx<br><br>        <span class="hljs-comment"># éå†å†…ä¾§åˆ—è¡¨(ä»å¤–ä¾§åˆ—è¡¨+1çš„ä½ç½®å¼€å§‹æ¯”è¾ƒ)</span><br>        <span class="hljs-keyword">for</span> _id <span class="hljs-keyword">in</span> range(_idx + <span class="hljs-number">1</span>, list_length):<br><br>            <span class="hljs-comment"># æ¯”è¾ƒå€¼çš„å¤§å°</span><br>            <span class="hljs-keyword">if</span> _list[_id] &lt; _list[min_idx]:<br><br>                <span class="hljs-comment"># å¦‚æœå½“å‰å€¼å°äºä¹‹å‰å¤–ä¾§éå†è®¤ä¸ºçš„æœ€å°å€¼, äº¤æ¢ç´¢å¼•</span><br>                min_idx = _id<br><br>        <span class="hljs-comment"># äº¤æ¢å½“å‰å€¼å’Œæœ€å°å€¼çš„ä½ç½®</span><br>        _list[_idx], _list[min_idx] = _list[min_idx], _list[_idx]<br><br>    <span class="hljs-keyword">return</span> _list<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    _list = [<span class="hljs-number">54</span>, <span class="hljs-number">26</span>, <span class="hljs-number">93</span>, <span class="hljs-number">17</span>, <span class="hljs-number">77</span>, <span class="hljs-number">31</span>, <span class="hljs-number">44</span>, <span class="hljs-number">55</span>, <span class="hljs-number">20</span>]<br>    print(<span class="hljs-string">&quot;åŸåˆ—è¡¨ä¸ºï¼š%s&quot;</span> % _list)<br>    selection_sort(_list)<br>    print(<span class="hljs-string">&quot;æ–°åˆ—è¡¨ä¸ºï¼š%s&quot;</span> % _list)<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>é¡µé¢ç‚¹å‡»å‡ºç°æ¡ƒå¿ƒ</title>
    <url>/79.html</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2012/04/18/15/15/hearts-37308__480.png"> <code>hexo</code>åšå®¢æˆ–å…¶ä»–é™æ€é¡µé¢é¼ æ ‡ç‚¹å‡»å‡ºç°æ¡ƒå¿ƒæ“ä½œã€‚</p>
<a id="more"></a>
<p>é¦–å…ˆå¤åˆ¶è¿™æ®µ<code>js</code>ä»£ç åˆ°é¡¹ç›®çš„jsæ–‡ä»¶å¤¹ä¸‹ï¼Œå‘½åä¸º<code>showLove.js</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript">!<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,t,a</span>)</span>&#123;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params"></span>)</span>&#123;c(<span class="hljs-string">&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#x27;&#x27;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;</span>),o(),r()&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;d.length;e++)d[e].alpha&lt;=<span class="hljs-number">0</span>?(t.body.removeChild(d[e].el),d.splice(e,<span class="hljs-number">1</span>)):(d[e].y--,d[e].scale+=<span class="hljs-number">.004</span>,d[e].alpha-=<span class="hljs-number">.013</span>,d[e].el.style.cssText=<span class="hljs-string">&quot;left:&quot;</span>+d[e].x+<span class="hljs-string">&quot;px;top:&quot;</span>+d[e].y+<span class="hljs-string">&quot;px;opacity:&quot;</span>+d[e].alpha+<span class="hljs-string">&quot;;transform:scale(&quot;</span>+d[e].scale+<span class="hljs-string">&quot;,&quot;</span>+d[e].scale+<span class="hljs-string">&quot;) rotate(45deg);background:&quot;</span>+d[e].color+<span class="hljs-string">&quot;;z-index:99999&quot;</span>);requestAnimationFrame(r)&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-keyword">var</span> t=<span class="hljs-string">&quot;function&quot;</span>==<span class="hljs-keyword">typeof</span> e.onclick&amp;&amp;e.onclick;e.onclick=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;t&amp;&amp;t(),i(e)&#125;&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params">e</span>)</span>&#123;<span class="hljs-keyword">var</span> a=t.createElement(<span class="hljs-string">&quot;div&quot;</span>);a.className=<span class="hljs-string">&quot;heart&quot;</span>,d.push(&#123;<span class="hljs-attr">el</span>:a,<span class="hljs-attr">x</span>:e.clientX<span class="hljs-number">-5</span>,<span class="hljs-attr">y</span>:e.clientY<span class="hljs-number">-5</span>,<span class="hljs-attr">scale</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">alpha</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">color</span>:s()&#125;),t.body.appendChild(a)&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">e</span>)</span>&#123;<span class="hljs-keyword">var</span> a=t.createElement(<span class="hljs-string">&quot;style&quot;</span>);a.type=<span class="hljs-string">&quot;text/css&quot;</span>;<span class="hljs-keyword">try</span>&#123;a.appendChild(t.createTextNode(e))&#125;<span class="hljs-keyword">catch</span>(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName(<span class="hljs-string">&quot;head&quot;</span>)[<span class="hljs-number">0</span>].appendChild(a)&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-keyword">return</span><span class="hljs-string">&quot;rgb(&quot;</span>+~~(<span class="hljs-number">255</span>*<span class="hljs-built_in">Math</span>.random())+<span class="hljs-string">&quot;,&quot;</span>+~~(<span class="hljs-number">255</span>*<span class="hljs-built_in">Math</span>.random())+<span class="hljs-string">&quot;,&quot;</span>+~~(<span class="hljs-number">255</span>*<span class="hljs-built_in">Math</span>.random())+<span class="hljs-string">&quot;)&quot;</span>&#125;<span class="hljs-keyword">var</span> d=[];e.requestAnimationFrame=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-keyword">return</span> e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<span class="hljs-built_in">setTimeout</span>(e,<span class="hljs-number">1e3</span>/<span class="hljs-number">60</span>)&#125;&#125;(),n()&#125;(<span class="hljs-built_in">window</span>,<span class="hljs-built_in">document</span>);<br></code></pre></td></tr></table></figure>

<p>ç„¶ååœ¨é¡µé¢ä¸­å¼•ç”¨å°±å¯ä»¥äº†ã€‚ ä¾‹å¦‚åœ¨<code>index.html</code>æ–‡ä»¶ä¸­å¼•ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs markup">&lt;!DOCTYPE HTML&gt;<br>&lt;html lang&#x3D;&quot;zh-CN&quot;&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Test&lt;&#x2F;title&gt;<br>    &lt;meta content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;<br>    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;js&#x2F;showLove.js&quot;&gt;&lt;&#x2F;script&gt;<br>&lt;&#x2F;head&gt;<br>&lt;body&gt;<br>    æµ‹è¯•ç‚¹å‡»å‡ºç°æ¡ƒå¿ƒ<br>&lt;&#x2F;body&gt;<br>&lt;&#x2F;html&gt;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
</search>
